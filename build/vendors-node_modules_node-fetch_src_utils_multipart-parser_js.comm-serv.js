"use strict";
exports.id = "vendors-node_modules_node-fetch_src_utils_multipart-parser_js";
exports.ids = ["vendors-node_modules_node-fetch_src_utils_multipart-parser_js"];
exports.modules = {

/***/ "./node_modules/node-fetch/src/utils/multipart-parser.js":
/*!***************************************************************!*\
  !*** ./node_modules/node-fetch/src/utils/multipart-parser.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toFormData: () => (/* binding */ toFormData)
/* harmony export */ });
/* harmony import */ var fetch_blob_from_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fetch-blob/from.js */ "./node_modules/fetch-blob/from.js");
/* harmony import */ var formdata_polyfill_esm_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formdata-polyfill/esm.min.js */ "./node_modules/formdata-polyfill/esm.min.js");


let s = 0;
const S = {
  START_BOUNDARY: s++,
  HEADER_FIELD_START: s++,
  HEADER_FIELD: s++,
  HEADER_VALUE_START: s++,
  HEADER_VALUE: s++,
  HEADER_VALUE_ALMOST_DONE: s++,
  HEADERS_ALMOST_DONE: s++,
  PART_DATA_START: s++,
  PART_DATA: s++,
  END: s++
};
let f = 1;
const F = {
  PART_BOUNDARY: f,
  LAST_BOUNDARY: f *= 2
};
const LF = 10;
const CR = 13;
const SPACE = 32;
const HYPHEN = 45;
const COLON = 58;
const A = 97;
const Z = 122;
const lower = c => c | 0x20;
const noop = () => {};
class MultipartParser {
  /**
   * @param {string} boundary
   */
  constructor(boundary) {
    this.index = 0;
    this.flags = 0;
    this.onHeaderEnd = noop;
    this.onHeaderField = noop;
    this.onHeadersEnd = noop;
    this.onHeaderValue = noop;
    this.onPartBegin = noop;
    this.onPartData = noop;
    this.onPartEnd = noop;
    this.boundaryChars = {};
    boundary = '\r\n--' + boundary;
    const ui8a = new Uint8Array(boundary.length);
    for (let i = 0; i < boundary.length; i++) {
      ui8a[i] = boundary.charCodeAt(i);
      this.boundaryChars[ui8a[i]] = true;
    }
    this.boundary = ui8a;
    this.lookbehind = new Uint8Array(this.boundary.length + 8);
    this.state = S.START_BOUNDARY;
  }

  /**
   * @param {Uint8Array} data
   */
  write(data) {
    let i = 0;
    const length_ = data.length;
    let previousIndex = this.index;
    let {
      lookbehind,
      boundary,
      boundaryChars,
      index,
      state,
      flags
    } = this;
    const boundaryLength = this.boundary.length;
    const boundaryEnd = boundaryLength - 1;
    const bufferLength = data.length;
    let c;
    let cl;
    const mark = name => {
      this[name + 'Mark'] = i;
    };
    const clear = name => {
      delete this[name + 'Mark'];
    };
    const callback = (callbackSymbol, start, end, ui8a) => {
      if (start === undefined || start !== end) {
        this[callbackSymbol](ui8a && ui8a.subarray(start, end));
      }
    };
    const dataCallback = (name, clear) => {
      const markSymbol = name + 'Mark';
      if (!(markSymbol in this)) {
        return;
      }
      if (clear) {
        callback(name, this[markSymbol], i, data);
        delete this[markSymbol];
      } else {
        callback(name, this[markSymbol], data.length, data);
        this[markSymbol] = 0;
      }
    };
    for (i = 0; i < length_; i++) {
      c = data[i];
      switch (state) {
        case S.START_BOUNDARY:
          if (index === boundary.length - 2) {
            if (c === HYPHEN) {
              flags |= F.LAST_BOUNDARY;
            } else if (c !== CR) {
              return;
            }
            index++;
            break;
          } else if (index - 1 === boundary.length - 2) {
            if (flags & F.LAST_BOUNDARY && c === HYPHEN) {
              state = S.END;
              flags = 0;
            } else if (!(flags & F.LAST_BOUNDARY) && c === LF) {
              index = 0;
              callback('onPartBegin');
              state = S.HEADER_FIELD_START;
            } else {
              return;
            }
            break;
          }
          if (c !== boundary[index + 2]) {
            index = -2;
          }
          if (c === boundary[index + 2]) {
            index++;
          }
          break;
        case S.HEADER_FIELD_START:
          state = S.HEADER_FIELD;
          mark('onHeaderField');
          index = 0;
        // falls through
        case S.HEADER_FIELD:
          if (c === CR) {
            clear('onHeaderField');
            state = S.HEADERS_ALMOST_DONE;
            break;
          }
          index++;
          if (c === HYPHEN) {
            break;
          }
          if (c === COLON) {
            if (index === 1) {
              // empty header field
              return;
            }
            dataCallback('onHeaderField', true);
            state = S.HEADER_VALUE_START;
            break;
          }
          cl = lower(c);
          if (cl < A || cl > Z) {
            return;
          }
          break;
        case S.HEADER_VALUE_START:
          if (c === SPACE) {
            break;
          }
          mark('onHeaderValue');
          state = S.HEADER_VALUE;
        // falls through
        case S.HEADER_VALUE:
          if (c === CR) {
            dataCallback('onHeaderValue', true);
            callback('onHeaderEnd');
            state = S.HEADER_VALUE_ALMOST_DONE;
          }
          break;
        case S.HEADER_VALUE_ALMOST_DONE:
          if (c !== LF) {
            return;
          }
          state = S.HEADER_FIELD_START;
          break;
        case S.HEADERS_ALMOST_DONE:
          if (c !== LF) {
            return;
          }
          callback('onHeadersEnd');
          state = S.PART_DATA_START;
          break;
        case S.PART_DATA_START:
          state = S.PART_DATA;
          mark('onPartData');
        // falls through
        case S.PART_DATA:
          previousIndex = index;
          if (index === 0) {
            // boyer-moore derrived algorithm to safely skip non-boundary data
            i += boundaryEnd;
            while (i < bufferLength && !(data[i] in boundaryChars)) {
              i += boundaryLength;
            }
            i -= boundaryEnd;
            c = data[i];
          }
          if (index < boundary.length) {
            if (boundary[index] === c) {
              if (index === 0) {
                dataCallback('onPartData', true);
              }
              index++;
            } else {
              index = 0;
            }
          } else if (index === boundary.length) {
            index++;
            if (c === CR) {
              // CR = part boundary
              flags |= F.PART_BOUNDARY;
            } else if (c === HYPHEN) {
              // HYPHEN = end boundary
              flags |= F.LAST_BOUNDARY;
            } else {
              index = 0;
            }
          } else if (index - 1 === boundary.length) {
            if (flags & F.PART_BOUNDARY) {
              index = 0;
              if (c === LF) {
                // unset the PART_BOUNDARY flag
                flags &= ~F.PART_BOUNDARY;
                callback('onPartEnd');
                callback('onPartBegin');
                state = S.HEADER_FIELD_START;
                break;
              }
            } else if (flags & F.LAST_BOUNDARY) {
              if (c === HYPHEN) {
                callback('onPartEnd');
                state = S.END;
                flags = 0;
              } else {
                index = 0;
              }
            } else {
              index = 0;
            }
          }
          if (index > 0) {
            // when matching a possible boundary, keep a lookbehind reference
            // in case it turns out to be a false lead
            lookbehind[index - 1] = c;
          } else if (previousIndex > 0) {
            // if our boundary turned out to be rubbish, the captured lookbehind
            // belongs to partData
            const _lookbehind = new Uint8Array(lookbehind.buffer, lookbehind.byteOffset, lookbehind.byteLength);
            callback('onPartData', 0, previousIndex, _lookbehind);
            previousIndex = 0;
            mark('onPartData');

            // reconsider the current character even so it interrupted the sequence
            // it could be the beginning of a new sequence
            i--;
          }
          break;
        case S.END:
          break;
        default:
          throw new Error(`Unexpected state entered: ${state}`);
      }
    }
    dataCallback('onHeaderField');
    dataCallback('onHeaderValue');
    dataCallback('onPartData');

    // Update properties for the next call
    this.index = index;
    this.state = state;
    this.flags = flags;
  }
  end() {
    if (this.state === S.HEADER_FIELD_START && this.index === 0 || this.state === S.PART_DATA && this.index === this.boundary.length) {
      this.onPartEnd();
    } else if (this.state !== S.END) {
      throw new Error('MultipartParser.end(): stream ended unexpectedly');
    }
  }
}
function _fileName(headerValue) {
  // matches either a quoted-string or a token (RFC 2616 section 19.5.1)
  const m = headerValue.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);
  if (!m) {
    return;
  }
  const match = m[2] || m[3] || '';
  let filename = match.slice(match.lastIndexOf('\\') + 1);
  filename = filename.replace(/%22/g, '"');
  filename = filename.replace(/&#(\d{4});/g, (m, code) => {
    return String.fromCharCode(code);
  });
  return filename;
}
async function toFormData(Body, ct) {
  if (!/multipart/i.test(ct)) {
    throw new TypeError('Failed to fetch');
  }
  const m = ct.match(/boundary=(?:"([^"]+)"|([^;]+))/i);
  if (!m) {
    throw new TypeError('no or bad content-type header, no multipart boundary');
  }
  const parser = new MultipartParser(m[1] || m[2]);
  let headerField;
  let headerValue;
  let entryValue;
  let entryName;
  let contentType;
  let filename;
  const entryChunks = [];
  const formData = new formdata_polyfill_esm_min_js__WEBPACK_IMPORTED_MODULE_1__.FormData();
  const onPartData = ui8a => {
    entryValue += decoder.decode(ui8a, {
      stream: true
    });
  };
  const appendToFile = ui8a => {
    entryChunks.push(ui8a);
  };
  const appendFileToFormData = () => {
    const file = new fetch_blob_from_js__WEBPACK_IMPORTED_MODULE_0__.File(entryChunks, filename, {
      type: contentType
    });
    formData.append(entryName, file);
  };
  const appendEntryToFormData = () => {
    formData.append(entryName, entryValue);
  };
  const decoder = new TextDecoder('utf-8');
  decoder.decode();
  parser.onPartBegin = function () {
    parser.onPartData = onPartData;
    parser.onPartEnd = appendEntryToFormData;
    headerField = '';
    headerValue = '';
    entryValue = '';
    entryName = '';
    contentType = '';
    filename = null;
    entryChunks.length = 0;
  };
  parser.onHeaderField = function (ui8a) {
    headerField += decoder.decode(ui8a, {
      stream: true
    });
  };
  parser.onHeaderValue = function (ui8a) {
    headerValue += decoder.decode(ui8a, {
      stream: true
    });
  };
  parser.onHeaderEnd = function () {
    headerValue += decoder.decode();
    headerField = headerField.toLowerCase();
    if (headerField === 'content-disposition') {
      // matches either a quoted-string or a token (RFC 2616 section 19.5.1)
      const m = headerValue.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);
      if (m) {
        entryName = m[2] || m[3] || '';
      }
      filename = _fileName(headerValue);
      if (filename) {
        parser.onPartData = appendToFile;
        parser.onPartEnd = appendFileToFormData;
      }
    } else if (headerField === 'content-type') {
      contentType = headerValue;
    }
    headerValue = '';
    headerField = '';
  };
  for await (const chunk of Body) {
    parser.write(chunk);
  }
  parser.end();
  return formData;
}

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfbm9kZS1mZXRjaF9zcmNfdXRpbHNfbXVsdGlwYXJ0LXBhcnNlcl9qcy5jb21tLXNlcnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDYztBQUV0RCxJQUFJRSxDQUFDLEdBQUcsQ0FBQztBQUNULE1BQU1DLENBQUMsR0FBRztFQUNUQyxjQUFjLEVBQUVGLENBQUMsRUFBRTtFQUNuQkcsa0JBQWtCLEVBQUVILENBQUMsRUFBRTtFQUN2QkksWUFBWSxFQUFFSixDQUFDLEVBQUU7RUFDakJLLGtCQUFrQixFQUFFTCxDQUFDLEVBQUU7RUFDdkJNLFlBQVksRUFBRU4sQ0FBQyxFQUFFO0VBQ2pCTyx3QkFBd0IsRUFBRVAsQ0FBQyxFQUFFO0VBQzdCUSxtQkFBbUIsRUFBRVIsQ0FBQyxFQUFFO0VBQ3hCUyxlQUFlLEVBQUVULENBQUMsRUFBRTtFQUNwQlUsU0FBUyxFQUFFVixDQUFDLEVBQUU7RUFDZFcsR0FBRyxFQUFFWCxDQUFDO0FBQ1AsQ0FBQztBQUVELElBQUlZLENBQUMsR0FBRyxDQUFDO0FBQ1QsTUFBTUMsQ0FBQyxHQUFHO0VBQ1RDLGFBQWEsRUFBRUYsQ0FBQztFQUNoQkcsYUFBYSxFQUFFSCxDQUFDLElBQUk7QUFDckIsQ0FBQztBQUVELE1BQU1JLEVBQUUsR0FBRyxFQUFFO0FBQ2IsTUFBTUMsRUFBRSxHQUFHLEVBQUU7QUFDYixNQUFNQyxLQUFLLEdBQUcsRUFBRTtBQUNoQixNQUFNQyxNQUFNLEdBQUcsRUFBRTtBQUNqQixNQUFNQyxLQUFLLEdBQUcsRUFBRTtBQUNoQixNQUFNQyxDQUFDLEdBQUcsRUFBRTtBQUNaLE1BQU1DLENBQUMsR0FBRyxHQUFHO0FBRWIsTUFBTUMsS0FBSyxHQUFHQyxDQUFDLElBQUlBLENBQUMsR0FBRyxJQUFJO0FBRTNCLE1BQU1DLElBQUksR0FBR0EsQ0FBQSxLQUFNLENBQUMsQ0FBQztBQUVyQixNQUFNQyxlQUFlLENBQUM7RUFDckI7QUFDRDtBQUNBO0VB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QUFHQSxXQUFXLENBQUNpQixXQUFXLENBQUMsQ0FBQztJQUV2QyxJQUFJakIsV0FBVyxLQUFLLHFCQUFxQixFQUFFO01BQzFDO01BQ0EsTUFBTWYsQ0FBQyxHQUFHRCxXQUFXLENBQUNFLEtBQUssQ0FBQyxtREFBbUQsQ0FBQztNQUVoRixJQUFJRCxDQUFDLEVBQUU7UUFDTmlCLFNBQVMsR0FBR2pCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUU7TUFDL0I7TUFFQUUsUUFBUSxHQUFHSixTQUFTLENBQUNDLFdBQVcsQ0FBQztNQUVqQyxJQUFJRyxRQUFRLEVBQUU7UUFDYlksTUFBTSxDQUFDbEQsVUFBVSxHQUFHNEQsWUFBWTtRQUNoQ1YsTUFBTSxDQUFDakQsU0FBUyxHQUFHNkQsb0JBQW9CO01BQ3hDO0lBQ0QsQ0FBQyxNQUFNLElBQUlYLFdBQVcsS0FBSyxjQUFjLEVBQUU7TUFDMUNHLFdBQVcsR0FBR25CLFdBQVc7SUFDMUI7SUFFQUEsV0FBVyxHQUFHLEVBQUU7SUFDaEJnQixXQUFXLEdBQUcsRUFBRTtFQUNqQixDQUFDO0VBRUQsV0FBVyxNQUFNa0IsS0FBSyxJQUFJdkIsSUFBSSxFQUFFO0lBQy9CSSxNQUFNLENBQUN4QyxLQUFLLENBQUMyRCxLQUFLLENBQUM7RUFDcEI7RUFFQW5CLE1BQU0sQ0FBQzFCLEdBQUcsQ0FBQyxDQUFDO0VBRVosT0FBT2dDLFFBQVE7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi9ub2RlX21vZHVsZXMvbm9kZS1mZXRjaC9zcmMvdXRpbHMvbXVsdGlwYXJ0LXBhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZpbGV9IGZyb20gJ2ZldGNoLWJsb2IvZnJvbS5qcyc7XG5pbXBvcnQge0Zvcm1EYXRhfSBmcm9tICdmb3JtZGF0YS1wb2x5ZmlsbC9lc20ubWluLmpzJztcblxubGV0IHMgPSAwO1xuY29uc3QgUyA9IHtcblx0U1RBUlRfQk9VTkRBUlk6IHMrKyxcblx0SEVBREVSX0ZJRUxEX1NUQVJUOiBzKyssXG5cdEhFQURFUl9GSUVMRDogcysrLFxuXHRIRUFERVJfVkFMVUVfU1RBUlQ6IHMrKyxcblx0SEVBREVSX1ZBTFVFOiBzKyssXG5cdEhFQURFUl9WQUxVRV9BTE1PU1RfRE9ORTogcysrLFxuXHRIRUFERVJTX0FMTU9TVF9ET05FOiBzKyssXG5cdFBBUlRfREFUQV9TVEFSVDogcysrLFxuXHRQQVJUX0RBVEE6IHMrKyxcblx0RU5EOiBzKytcbn07XG5cbmxldCBmID0gMTtcbmNvbnN0IEYgPSB7XG5cdFBBUlRfQk9VTkRBUlk6IGYsXG5cdExBU1RfQk9VTkRBUlk6IGYgKj0gMlxufTtcblxuY29uc3QgTEYgPSAxMDtcbmNvbnN0IENSID0gMTM7XG5jb25zdCBTUEFDRSA9IDMyO1xuY29uc3QgSFlQSEVOID0gNDU7XG5jb25zdCBDT0xPTiA9IDU4O1xuY29uc3QgQSA9IDk3O1xuY29uc3QgWiA9IDEyMjtcblxuY29uc3QgbG93ZXIgPSBjID0+IGMgfCAweDIwO1xuXG5jb25zdCBub29wID0gKCkgPT4ge307XG5cbmNsYXNzIE11bHRpcGFydFBhcnNlciB7XG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYm91bmRhcnlcblx0ICovXG5cdGNvbnN0cnVjdG9yKGJvdW5kYXJ5KSB7XG5cdFx0dGhpcy5pbmRleCA9IDA7XG5cdFx0dGhpcy5mbGFncyA9IDA7XG5cblx0XHR0aGlzLm9uSGVhZGVyRW5kID0gbm9vcDtcblx0XHR0aGlzLm9uSGVhZGVyRmllbGQgPSBub29wO1xuXHRcdHRoaXMub25IZWFkZXJzRW5kID0gbm9vcDtcblx0XHR0aGlzLm9uSGVhZGVyVmFsdWUgPSBub29wO1xuXHRcdHRoaXMub25QYXJ0QmVnaW4gPSBub29wO1xuXHRcdHRoaXMub25QYXJ0RGF0YSA9IG5vb3A7XG5cdFx0dGhpcy5vblBhcnRFbmQgPSBub29wO1xuXG5cdFx0dGhpcy5ib3VuZGFyeUNoYXJzID0ge307XG5cblx0XHRib3VuZGFyeSA9ICdcXHJcXG4tLScgKyBib3VuZGFyeTtcblx0XHRjb25zdCB1aThhID0gbmV3IFVpbnQ4QXJyYXkoYm91bmRhcnkubGVuZ3RoKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGJvdW5kYXJ5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR1aThhW2ldID0gYm91bmRhcnkuY2hhckNvZGVBdChpKTtcblx0XHRcdHRoaXMuYm91bmRhcnlDaGFyc1t1aThhW2ldXSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5ib3VuZGFyeSA9IHVpOGE7XG5cdFx0dGhpcy5sb29rYmVoaW5kID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5ib3VuZGFyeS5sZW5ndGggKyA4KTtcblx0XHR0aGlzLnN0YXRlID0gUy5TVEFSVF9CT1VOREFSWTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGFcblx0ICovXG5cdHdyaXRlKGRhdGEpIHtcblx0XHRsZXQgaSA9IDA7XG5cdFx0Y29uc3QgbGVuZ3RoXyA9IGRhdGEubGVuZ3RoO1xuXHRcdGxldCBwcmV2aW91c0luZGV4ID0gdGhpcy5pbmRleDtcblx0XHRsZXQge2xvb2tiZWhpbmQsIGJvdW5kYXJ5LCBib3VuZGFyeUNoYXJzLCBpbmRleCwgc3RhdGUsIGZsYWdzfSA9IHRoaXM7XG5cdFx0Y29uc3QgYm91bmRhcnlMZW5ndGggPSB0aGlzLmJvdW5kYXJ5Lmxlbmd0aDtcblx0XHRjb25zdCBib3VuZGFyeUVuZCA9IGJvdW5kYXJ5TGVuZ3RoIC0gMTtcblx0XHRjb25zdCBidWZmZXJMZW5ndGggPSBkYXRhLmxlbmd0aDtcblx0XHRsZXQgYztcblx0XHRsZXQgY2w7XG5cblx0XHRjb25zdCBtYXJrID0gbmFtZSA9PiB7XG5cdFx0XHR0aGlzW25hbWUgKyAnTWFyayddID0gaTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgY2xlYXIgPSBuYW1lID0+IHtcblx0XHRcdGRlbGV0ZSB0aGlzW25hbWUgKyAnTWFyayddO1xuXHRcdH07XG5cblx0XHRjb25zdCBjYWxsYmFjayA9IChjYWxsYmFja1N5bWJvbCwgc3RhcnQsIGVuZCwgdWk4YSkgPT4ge1xuXHRcdFx0aWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgIT09IGVuZCkge1xuXHRcdFx0XHR0aGlzW2NhbGxiYWNrU3ltYm9sXSh1aThhICYmIHVpOGEuc3ViYXJyYXkoc3RhcnQsIGVuZCkpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb25zdCBkYXRhQ2FsbGJhY2sgPSAobmFtZSwgY2xlYXIpID0+IHtcblx0XHRcdGNvbnN0IG1hcmtTeW1ib2wgPSBuYW1lICsgJ01hcmsnO1xuXHRcdFx0aWYgKCEobWFya1N5bWJvbCBpbiB0aGlzKSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjbGVhcikge1xuXHRcdFx0XHRjYWxsYmFjayhuYW1lLCB0aGlzW21hcmtTeW1ib2xdLCBpLCBkYXRhKTtcblx0XHRcdFx0ZGVsZXRlIHRoaXNbbWFya1N5bWJvbF07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjYWxsYmFjayhuYW1lLCB0aGlzW21hcmtTeW1ib2xdLCBkYXRhLmxlbmd0aCwgZGF0YSk7XG5cdFx0XHRcdHRoaXNbbWFya1N5bWJvbF0gPSAwO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoXzsgaSsrKSB7XG5cdFx0XHRjID0gZGF0YVtpXTtcblxuXHRcdFx0c3dpdGNoIChzdGF0ZSkge1xuXHRcdFx0XHRjYXNlIFMuU1RBUlRfQk9VTkRBUlk6XG5cdFx0XHRcdFx0aWYgKGluZGV4ID09PSBib3VuZGFyeS5sZW5ndGggLSAyKSB7XG5cdFx0XHRcdFx0XHRpZiAoYyA9PT0gSFlQSEVOKSB7XG5cdFx0XHRcdFx0XHRcdGZsYWdzIHw9IEYuTEFTVF9CT1VOREFSWTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYyAhPT0gQ1IpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpbmRleCAtIDEgPT09IGJvdW5kYXJ5Lmxlbmd0aCAtIDIpIHtcblx0XHRcdFx0XHRcdGlmIChmbGFncyAmIEYuTEFTVF9CT1VOREFSWSAmJiBjID09PSBIWVBIRU4pIHtcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTLkVORDtcblx0XHRcdFx0XHRcdFx0ZmxhZ3MgPSAwO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICghKGZsYWdzICYgRi5MQVNUX0JPVU5EQVJZKSAmJiBjID09PSBMRikge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCdvblBhcnRCZWdpbicpO1xuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX0ZJRUxEX1NUQVJUO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYyAhPT0gYm91bmRhcnlbaW5kZXggKyAyXSkge1xuXHRcdFx0XHRcdFx0aW5kZXggPSAtMjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYyA9PT0gYm91bmRhcnlbaW5kZXggKyAyXSkge1xuXHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBTLkhFQURFUl9GSUVMRF9TVEFSVDpcblx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX0ZJRUxEO1xuXHRcdFx0XHRcdG1hcmsoJ29uSGVhZGVyRmllbGQnKTtcblx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0Ly8gZmFsbHMgdGhyb3VnaFxuXHRcdFx0XHRjYXNlIFMuSEVBREVSX0ZJRUxEOlxuXHRcdFx0XHRcdGlmIChjID09PSBDUikge1xuXHRcdFx0XHRcdFx0Y2xlYXIoJ29uSGVhZGVyRmllbGQnKTtcblx0XHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJTX0FMTU9TVF9ET05FO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRpZiAoYyA9PT0gSFlQSEVOKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoYyA9PT0gQ09MT04pIHtcblx0XHRcdFx0XHRcdGlmIChpbmRleCA9PT0gMSkge1xuXHRcdFx0XHRcdFx0XHQvLyBlbXB0eSBoZWFkZXIgZmllbGRcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRkYXRhQ2FsbGJhY2soJ29uSGVhZGVyRmllbGQnLCB0cnVlKTtcblx0XHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfVkFMVUVfU1RBUlQ7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjbCA9IGxvd2VyKGMpO1xuXHRcdFx0XHRcdGlmIChjbCA8IEEgfHwgY2wgPiBaKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUy5IRUFERVJfVkFMVUVfU1RBUlQ6XG5cdFx0XHRcdFx0aWYgKGMgPT09IFNQQUNFKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRtYXJrKCdvbkhlYWRlclZhbHVlJyk7XG5cdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9WQUxVRTtcblx0XHRcdFx0XHQvLyBmYWxscyB0aHJvdWdoXG5cdFx0XHRcdGNhc2UgUy5IRUFERVJfVkFMVUU6XG5cdFx0XHRcdFx0aWYgKGMgPT09IENSKSB7XG5cdFx0XHRcdFx0XHRkYXRhQ2FsbGJhY2soJ29uSGVhZGVyVmFsdWUnLCB0cnVlKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCdvbkhlYWRlckVuZCcpO1xuXHRcdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9WQUxVRV9BTE1PU1RfRE9ORTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBTLkhFQURFUl9WQUxVRV9BTE1PU1RfRE9ORTpcblx0XHRcdFx0XHRpZiAoYyAhPT0gTEYpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX0ZJRUxEX1NUQVJUO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFMuSEVBREVSU19BTE1PU1RfRE9ORTpcblx0XHRcdFx0XHRpZiAoYyAhPT0gTEYpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjYWxsYmFjaygnb25IZWFkZXJzRW5kJyk7XG5cdFx0XHRcdFx0c3RhdGUgPSBTLlBBUlRfREFUQV9TVEFSVDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBTLlBBUlRfREFUQV9TVEFSVDpcblx0XHRcdFx0XHRzdGF0ZSA9IFMuUEFSVF9EQVRBO1xuXHRcdFx0XHRcdG1hcmsoJ29uUGFydERhdGEnKTtcblx0XHRcdFx0XHQvLyBmYWxscyB0aHJvdWdoXG5cdFx0XHRcdGNhc2UgUy5QQVJUX0RBVEE6XG5cdFx0XHRcdFx0cHJldmlvdXNJbmRleCA9IGluZGV4O1xuXG5cdFx0XHRcdFx0aWYgKGluZGV4ID09PSAwKSB7XG5cdFx0XHRcdFx0XHQvLyBib3llci1tb29yZSBkZXJyaXZlZCBhbGdvcml0aG0gdG8gc2FmZWx5IHNraXAgbm9uLWJvdW5kYXJ5IGRhdGFcblx0XHRcdFx0XHRcdGkgKz0gYm91bmRhcnlFbmQ7XG5cdFx0XHRcdFx0XHR3aGlsZSAoaSA8IGJ1ZmZlckxlbmd0aCAmJiAhKGRhdGFbaV0gaW4gYm91bmRhcnlDaGFycykpIHtcblx0XHRcdFx0XHRcdFx0aSArPSBib3VuZGFyeUxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aSAtPSBib3VuZGFyeUVuZDtcblx0XHRcdFx0XHRcdGMgPSBkYXRhW2ldO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChpbmRleCA8IGJvdW5kYXJ5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0aWYgKGJvdW5kYXJ5W2luZGV4XSA9PT0gYykge1xuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQ2FsbGJhY2soJ29uUGFydERhdGEnLCB0cnVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpbmRleCA9PT0gYm91bmRhcnkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IENSKSB7XG5cdFx0XHRcdFx0XHRcdC8vIENSID0gcGFydCBib3VuZGFyeVxuXHRcdFx0XHRcdFx0XHRmbGFncyB8PSBGLlBBUlRfQk9VTkRBUlk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGMgPT09IEhZUEhFTikge1xuXHRcdFx0XHRcdFx0XHQvLyBIWVBIRU4gPSBlbmQgYm91bmRhcnlcblx0XHRcdFx0XHRcdFx0ZmxhZ3MgfD0gRi5MQVNUX0JPVU5EQVJZO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5kZXggLSAxID09PSBib3VuZGFyeS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGlmIChmbGFncyAmIEYuUEFSVF9CT1VOREFSWSkge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0XHRcdGlmIChjID09PSBMRikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIHVuc2V0IHRoZSBQQVJUX0JPVU5EQVJZIGZsYWdcblx0XHRcdFx0XHRcdFx0XHRmbGFncyAmPSB+Ri5QQVJUX0JPVU5EQVJZO1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCdvblBhcnRFbmQnKTtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjaygnb25QYXJ0QmVnaW4nKTtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX0ZJRUxEX1NUQVJUO1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGZsYWdzICYgRi5MQVNUX0JPVU5EQVJZKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChjID09PSBIWVBIRU4pIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjaygnb25QYXJ0RW5kJyk7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTLkVORDtcblx0XHRcdFx0XHRcdFx0XHRmbGFncyA9IDA7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGluZGV4ID4gMCkge1xuXHRcdFx0XHRcdFx0Ly8gd2hlbiBtYXRjaGluZyBhIHBvc3NpYmxlIGJvdW5kYXJ5LCBrZWVwIGEgbG9va2JlaGluZCByZWZlcmVuY2Vcblx0XHRcdFx0XHRcdC8vIGluIGNhc2UgaXQgdHVybnMgb3V0IHRvIGJlIGEgZmFsc2UgbGVhZFxuXHRcdFx0XHRcdFx0bG9va2JlaGluZFtpbmRleCAtIDFdID0gYztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHByZXZpb3VzSW5kZXggPiAwKSB7XG5cdFx0XHRcdFx0XHQvLyBpZiBvdXIgYm91bmRhcnkgdHVybmVkIG91dCB0byBiZSBydWJiaXNoLCB0aGUgY2FwdHVyZWQgbG9va2JlaGluZFxuXHRcdFx0XHRcdFx0Ly8gYmVsb25ncyB0byBwYXJ0RGF0YVxuXHRcdFx0XHRcdFx0Y29uc3QgX2xvb2tiZWhpbmQgPSBuZXcgVWludDhBcnJheShsb29rYmVoaW5kLmJ1ZmZlciwgbG9va2JlaGluZC5ieXRlT2Zmc2V0LCBsb29rYmVoaW5kLmJ5dGVMZW5ndGgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soJ29uUGFydERhdGEnLCAwLCBwcmV2aW91c0luZGV4LCBfbG9va2JlaGluZCk7XG5cdFx0XHRcdFx0XHRwcmV2aW91c0luZGV4ID0gMDtcblx0XHRcdFx0XHRcdG1hcmsoJ29uUGFydERhdGEnKTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVjb25zaWRlciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZXZlbiBzbyBpdCBpbnRlcnJ1cHRlZCB0aGUgc2VxdWVuY2Vcblx0XHRcdFx0XHRcdC8vIGl0IGNvdWxkIGJlIHRoZSBiZWdpbm5pbmcgb2YgYSBuZXcgc2VxdWVuY2Vcblx0XHRcdFx0XHRcdGktLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBTLkVORDpcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgc3RhdGUgZW50ZXJlZDogJHtzdGF0ZX1gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRkYXRhQ2FsbGJhY2soJ29uSGVhZGVyRmllbGQnKTtcblx0XHRkYXRhQ2FsbGJhY2soJ29uSGVhZGVyVmFsdWUnKTtcblx0XHRkYXRhQ2FsbGJhY2soJ29uUGFydERhdGEnKTtcblxuXHRcdC8vIFVwZGF0ZSBwcm9wZXJ0aWVzIGZvciB0aGUgbmV4dCBjYWxsXG5cdFx0dGhpcy5pbmRleCA9IGluZGV4O1xuXHRcdHRoaXMuc3RhdGUgPSBzdGF0ZTtcblx0XHR0aGlzLmZsYWdzID0gZmxhZ3M7XG5cdH1cblxuXHRlbmQoKSB7XG5cdFx0aWYgKCh0aGlzLnN0YXRlID09PSBTLkhFQURFUl9GSUVMRF9TVEFSVCAmJiB0aGlzLmluZGV4ID09PSAwKSB8fFxuXHRcdFx0KHRoaXMuc3RhdGUgPT09IFMuUEFSVF9EQVRBICYmIHRoaXMuaW5kZXggPT09IHRoaXMuYm91bmRhcnkubGVuZ3RoKSkge1xuXHRcdFx0dGhpcy5vblBhcnRFbmQoKTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuc3RhdGUgIT09IFMuRU5EKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGFydFBhcnNlci5lbmQoKTogc3RyZWFtIGVuZGVkIHVuZXhwZWN0ZWRseScpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBfZmlsZU5hbWUoaGVhZGVyVmFsdWUpIHtcblx0Ly8gbWF0Y2hlcyBlaXRoZXIgYSBxdW90ZWQtc3RyaW5nIG9yIGEgdG9rZW4gKFJGQyAyNjE2IHNlY3Rpb24gMTkuNS4xKVxuXHRjb25zdCBtID0gaGVhZGVyVmFsdWUubWF0Y2goL1xcYmZpbGVuYW1lPShcIiguKj8pXCJ8KFteKCk8PkAsOzpcXFxcXCIvW1xcXT89e31cXHNcXHRdKykpKCR8O1xccykvaSk7XG5cdGlmICghbSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG1hdGNoID0gbVsyXSB8fCBtWzNdIHx8ICcnO1xuXHRsZXQgZmlsZW5hbWUgPSBtYXRjaC5zbGljZShtYXRjaC5sYXN0SW5kZXhPZignXFxcXCcpICsgMSk7XG5cdGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJTIyL2csICdcIicpO1xuXHRmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyYjKFxcZHs0fSk7L2csIChtLCBjb2RlKSA9PiB7XG5cdFx0cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG5cdH0pO1xuXHRyZXR1cm4gZmlsZW5hbWU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0Zvcm1EYXRhKEJvZHksIGN0KSB7XG5cdGlmICghL211bHRpcGFydC9pLnRlc3QoY3QpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRmFpbGVkIHRvIGZldGNoJyk7XG5cdH1cblxuXHRjb25zdCBtID0gY3QubWF0Y2goL2JvdW5kYXJ5PSg/OlwiKFteXCJdKylcInwoW147XSspKS9pKTtcblxuXHRpZiAoIW0pIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdubyBvciBiYWQgY29udGVudC10eXBlIGhlYWRlciwgbm8gbXVsdGlwYXJ0IGJvdW5kYXJ5Jyk7XG5cdH1cblxuXHRjb25zdCBwYXJzZXIgPSBuZXcgTXVsdGlwYXJ0UGFyc2VyKG1bMV0gfHwgbVsyXSk7XG5cblx0bGV0IGhlYWRlckZpZWxkO1xuXHRsZXQgaGVhZGVyVmFsdWU7XG5cdGxldCBlbnRyeVZhbHVlO1xuXHRsZXQgZW50cnlOYW1lO1xuXHRsZXQgY29udGVudFR5cGU7XG5cdGxldCBmaWxlbmFtZTtcblx0Y29uc3QgZW50cnlDaHVua3MgPSBbXTtcblx0Y29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuXHRjb25zdCBvblBhcnREYXRhID0gdWk4YSA9PiB7XG5cdFx0ZW50cnlWYWx1ZSArPSBkZWNvZGVyLmRlY29kZSh1aThhLCB7c3RyZWFtOiB0cnVlfSk7XG5cdH07XG5cblx0Y29uc3QgYXBwZW5kVG9GaWxlID0gdWk4YSA9PiB7XG5cdFx0ZW50cnlDaHVua3MucHVzaCh1aThhKTtcblx0fTtcblxuXHRjb25zdCBhcHBlbmRGaWxlVG9Gb3JtRGF0YSA9ICgpID0+IHtcblx0XHRjb25zdCBmaWxlID0gbmV3IEZpbGUoZW50cnlDaHVua3MsIGZpbGVuYW1lLCB7dHlwZTogY29udGVudFR5cGV9KTtcblx0XHRmb3JtRGF0YS5hcHBlbmQoZW50cnlOYW1lLCBmaWxlKTtcblx0fTtcblxuXHRjb25zdCBhcHBlbmRFbnRyeVRvRm9ybURhdGEgPSAoKSA9PiB7XG5cdFx0Zm9ybURhdGEuYXBwZW5kKGVudHJ5TmFtZSwgZW50cnlWYWx1ZSk7XG5cdH07XG5cblx0Y29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTtcblx0ZGVjb2Rlci5kZWNvZGUoKTtcblxuXHRwYXJzZXIub25QYXJ0QmVnaW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0cGFyc2VyLm9uUGFydERhdGEgPSBvblBhcnREYXRhO1xuXHRcdHBhcnNlci5vblBhcnRFbmQgPSBhcHBlbmRFbnRyeVRvRm9ybURhdGE7XG5cblx0XHRoZWFkZXJGaWVsZCA9ICcnO1xuXHRcdGhlYWRlclZhbHVlID0gJyc7XG5cdFx0ZW50cnlWYWx1ZSA9ICcnO1xuXHRcdGVudHJ5TmFtZSA9ICcnO1xuXHRcdGNvbnRlbnRUeXBlID0gJyc7XG5cdFx0ZmlsZW5hbWUgPSBudWxsO1xuXHRcdGVudHJ5Q2h1bmtzLmxlbmd0aCA9IDA7XG5cdH07XG5cblx0cGFyc2VyLm9uSGVhZGVyRmllbGQgPSBmdW5jdGlvbiAodWk4YSkge1xuXHRcdGhlYWRlckZpZWxkICs9IGRlY29kZXIuZGVjb2RlKHVpOGEsIHtzdHJlYW06IHRydWV9KTtcblx0fTtcblxuXHRwYXJzZXIub25IZWFkZXJWYWx1ZSA9IGZ1bmN0aW9uICh1aThhKSB7XG5cdFx0aGVhZGVyVmFsdWUgKz0gZGVjb2Rlci5kZWNvZGUodWk4YSwge3N0cmVhbTogdHJ1ZX0pO1xuXHR9O1xuXG5cdHBhcnNlci5vbkhlYWRlckVuZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRoZWFkZXJWYWx1ZSArPSBkZWNvZGVyLmRlY29kZSgpO1xuXHRcdGhlYWRlckZpZWxkID0gaGVhZGVyRmllbGQudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmIChoZWFkZXJGaWVsZCA9PT0gJ2NvbnRlbnQtZGlzcG9zaXRpb24nKSB7XG5cdFx0XHQvLyBtYXRjaGVzIGVpdGhlciBhIHF1b3RlZC1zdHJpbmcgb3IgYSB0b2tlbiAoUkZDIDI2MTYgc2VjdGlvbiAxOS41LjEpXG5cdFx0XHRjb25zdCBtID0gaGVhZGVyVmFsdWUubWF0Y2goL1xcYm5hbWU9KFwiKFteXCJdKilcInwoW14oKTw+QCw7OlxcXFxcIi9bXFxdPz17fVxcc1xcdF0rKSkvaSk7XG5cblx0XHRcdGlmIChtKSB7XG5cdFx0XHRcdGVudHJ5TmFtZSA9IG1bMl0gfHwgbVszXSB8fCAnJztcblx0XHRcdH1cblxuXHRcdFx0ZmlsZW5hbWUgPSBfZmlsZU5hbWUoaGVhZGVyVmFsdWUpO1xuXG5cdFx0XHRpZiAoZmlsZW5hbWUpIHtcblx0XHRcdFx0cGFyc2VyLm9uUGFydERhdGEgPSBhcHBlbmRUb0ZpbGU7XG5cdFx0XHRcdHBhcnNlci5vblBhcnRFbmQgPSBhcHBlbmRGaWxlVG9Gb3JtRGF0YTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGhlYWRlckZpZWxkID09PSAnY29udGVudC10eXBlJykge1xuXHRcdFx0Y29udGVudFR5cGUgPSBoZWFkZXJWYWx1ZTtcblx0XHR9XG5cblx0XHRoZWFkZXJWYWx1ZSA9ICcnO1xuXHRcdGhlYWRlckZpZWxkID0gJyc7XG5cdH07XG5cblx0Zm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBCb2R5KSB7XG5cdFx0cGFyc2VyLndyaXRlKGNodW5rKTtcblx0fVxuXG5cdHBhcnNlci5lbmQoKTtcblxuXHRyZXR1cm4gZm9ybURhdGE7XG59XG4iXSwibmFtZXMiOlsiRmlsZSIsIkZvcm1EYXRhIiwicyIsIlMiLCJTVEFSVF9CT1VOREFSWSIsIkhFQURFUl9GSUVMRF9TVEFSVCIsIkhFQURFUl9GSUVMRCIsIkhFQURFUl9WQUxVRV9TVEFSVCIsIkhFQURFUl9WQUxVRSIsIkhFQURFUl9WQUxVRV9BTE1PU1RfRE9ORSIsIkhFQURFUlNfQUxNT1NUX0RPTkUiLCJQQVJUX0RBVEFfU1RBUlQiLCJQQVJUX0RBVEEiLCJFTkQiLCJmIiwiRiIsIlBBUlRfQk9VTkRBUlkiLCJMQVNUX0JPVU5EQVJZIiwiTEYiLCJDUiIsIlNQQUNFIiwiSFlQSEVOIiwiQ09MT04iLCJBIiwiWiIsImxvd2VyIiwiYyIsIm5vb3AiLCJNdWx0aXBhcnRQYXJzZXIiLCJjb25zdHJ1Y3RvciIsImJvdW5kYXJ5IiwiaW5kZXgiLCJmbGFncyIsIm9uSGVhZGVyRW5kIiwib25IZWFkZXJGaWVsZCIsIm9uSGVhZGVyc0VuZCIsIm9uSGVhZGVyVmFsdWUiLCJvblBhcnRCZWdpbiIsIm9uUGFydERhdGEiLCJvblBhcnRFbmQiLCJib3VuZGFyeUNoYXJzIiwidWk4YSIsIlVpbnQ4QXJyYXkiLCJsZW5ndGgiLCJpIiwiY2hhckNvZGVBdCIsImxvb2tiZWhpbmQiLCJzdGF0ZSIsIndyaXRlIiwiZGF0YSIsImxlbmd0aF8iLCJwcmV2aW91c0luZGV4IiwiYm91bmRhcnlMZW5ndGgiLCJib3VuZGFyeUVuZCIsImJ1ZmZlckxlbmd0aCIsImNsIiwibWFyayIsIm5hbWUiLCJjbGVhciIsImNhbGxiYWNrIiwiY2FsbGJhY2tTeW1ib2wiLCJzdGFydCIsImVuZCIsInVuZGVmaW5lZCIsInN1YmFycmF5IiwiZGF0YUNhbGxiYWNrIiwibWFya1N5bWJvbCIsIl9sb29rYmVoaW5kIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJFcnJvciIsIl9maWxlTmFtZSIsImhlYWRlclZhbHVlIiwibSIsIm1hdGNoIiwiZmlsZW5hbWUiLCJzbGljZSIsImxhc3RJbmRleE9mIiwicmVwbGFjZSIsImNvZGUiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ0b0Zvcm1EYXRhIiwiQm9keSIsImN0IiwidGVzdCIsIlR5cGVFcnJvciIsInBhcnNlciIsImhlYWRlckZpZWxkIiwiZW50cnlWYWx1ZSIsImVudHJ5TmFtZSIsImNvbnRlbnRUeXBlIiwiZW50cnlDaHVua3MiLCJmb3JtRGF0YSIsImRlY29kZXIiLCJkZWNvZGUiLCJzdHJlYW0iLCJhcHBlbmRUb0ZpbGUiLCJwdXNoIiwiYXBwZW5kRmlsZVRvRm9ybURhdGEiLCJmaWxlIiwidHlwZSIsImFwcGVuZCIsImFwcGVuZEVudHJ5VG9Gb3JtRGF0YSIsIlRleHREZWNvZGVyIiwidG9Mb3dlckNhc2UiLCJjaHVuayJdLCJzb3VyY2VSb290IjoiIn0=