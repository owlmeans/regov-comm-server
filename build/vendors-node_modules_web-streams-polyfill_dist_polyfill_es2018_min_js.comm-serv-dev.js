exports.id = "vendors-node_modules_web-streams-polyfill_dist_polyfill_es2018_min_js";
exports.ids = ["vendors-node_modules_web-streams-polyfill_dist_polyfill_es2018_min_js"];
exports.modules = {

/***/ "./node_modules/web-streams-polyfill/dist/polyfill.es2018.min.js":
/*!***********************************************************************!*\
  !*** ./node_modules/web-streams-polyfill/dist/polyfill.es2018.min.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function (e, t) {
   true ? t(exports) : 0;
}(this, function (e) {
  "use strict";

  const t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol : e => `Symbol(${e})`;
  function r() {}
  const o = "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : void 0;
  function n(e) {
    return "object" == typeof e && null !== e || "function" == typeof e;
  }
  const a = r,
    i = Promise,
    l = Promise.prototype.then,
    s = Promise.resolve.bind(i),
    u = Promise.reject.bind(i);
  function c(e) {
    return new i(e);
  }
  function d(e) {
    return s(e);
  }
  function f(e) {
    return u(e);
  }
  function b(e, t, r) {
    return l.call(e, t, r);
  }
  function h(e, t, r) {
    b(b(e, t, r), void 0, a);
  }
  function _(e, t) {
    h(e, t);
  }
  function m(e, t) {
    h(e, void 0, t);
  }
  function p(e, t, r) {
    return b(e, t, r);
  }
  function y(e) {
    b(e, void 0, a);
  }
  const g = (() => {
    const e = o && o.queueMicrotask;
    if ("function" == typeof e) return e;
    const t = d(void 0);
    return e => b(t, e);
  })();
  function S(e, t, r) {
    if ("function" != typeof e) throw new TypeError("Argument is not a function");
    return Function.prototype.apply.call(e, t, r);
  }
  function v(e, t, r) {
    try {
      return d(S(e, t, r));
    } catch (e) {
      return f(e);
    }
  }
  class w {
    constructor() {
      this._cursor = 0, this._size = 0, this._front = {
        _elements: [],
        _next: void 0
      }, this._back = this._front, this._cursor = 0, this._size = 0;
    }
    get length() {
      return this._size;
    }
    push(e) {
      const t = this._back;
      let r = t;
      16383 === t._elements.length && (r = {
        _elements: [],
        _next: void 0
      }), t._elements.push(e), r !== t && (this._back = r, t._next = r), ++this._size;
    }
    shift() {
      const e = this._front;
      let t = e;
      const r = this._cursor;
      let o = r + 1;
      const n = e._elements,
        a = n[r];
      return 16384 === o && (t = e._next, o = 0), --this._size, this._cursor = o, e !== t && (this._front = t), n[r] = void 0, a;
    }
    forEach(e) {
      let t = this._cursor,
        r = this._front,
        o = r._elements;
      for (; !(t === o.length && void 0 === r._next || t === o.length && (r = r._next, o = r._elements, t = 0, 0 === o.length));) e(o[t]), ++t;
    }
    peek() {
      const e = this._front,
        t = this._cursor;
      return e._elements[t];
    }
  }
  function R(e, t) {
    e._ownerReadableStream = t, t._reader = e, "readable" === t._state ? q(e) : "closed" === t._state ? function (e) {
      q(e), O(e);
    }(e) : E(e, t._storedError);
  }
  function T(e, t) {
    return br(e._ownerReadableStream, t);
  }
  function C(e) {
    "readable" === e._ownerReadableStream._state ? W(e, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")) : function (e, t) {
      E(e, t);
    }(e, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")), e._ownerReadableStream._reader = void 0, e._ownerReadableStream = void 0;
  }
  function P(e) {
    return new TypeError("Cannot " + e + " a stream using a released reader");
  }
  function q(e) {
    e._closedPromise = c((t, r) => {
      e._closedPromise_resolve = t, e._closedPromise_reject = r;
    });
  }
  function E(e, t) {
    q(e), W(e, t);
  }
  function W(e, t) {
    void 0 !== e._closedPromise_reject && (y(e._closedPromise), e._closedPromise_reject(t), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0);
  }
  function O(e) {
    void 0 !== e._closedPromise_resolve && (e._closedPromise_resolve(void 0), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0);
  }
  const B = t("[[AbortSteps]]"),
    k = t("[[ErrorSteps]]"),
    j = t("[[CancelSteps]]"),
    A = t("[[PullSteps]]"),
    z = Number.isFinite || function (e) {
      return "number" == typeof e && isFinite(e);
    },
    D = Math.trunc || function (e) {
      return e < 0 ? Math.ceil(e) : Math.floor(e);
    };
  function L(e, t) {
    if (void 0 !== e && "object" != typeof (r = e) && "function" != typeof r) throw new TypeError(`${t} is not an object.`);
    var r;
  }
  function F(e, t) {
    if ("function" != typeof e) throw new TypeError(`${t} is not a function.`);
  }
  function I(e, t) {
    if (!function (e) {
      return "object" == typeof e && null !== e || "function" == typeof e;
    }(e)) throw new TypeError(`${t} is not an object.`);
  }
  function $(e, t, r) {
    if (void 0 === e) throw new TypeError(`Parameter ${t} is required in '${r}'.`);
  }
  function M(e, t, r) {
    if (void 0 === e) throw new TypeError(`${t} is required in '${r}'.`);
  }
  function Q(e) {
    return Number(e);
  }
  function Y(e) {
    return 0 === e ? 0 : e;
  }
  function x(e, t) {
    const r = Number.MAX_SAFE_INTEGER;
    let o = Number(e);
    if (o = Y(o), !z(o)) throw new TypeError(`${t} is not a finite number`);
    if (o = function (e) {
      return Y(D(e));
    }(o), o < 0 || o > r) throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);
    return z(o) && 0 !== o ? o : 0;
  }
  function N(e, t) {
    if (!dr(e)) throw new TypeError(`${t} is not a ReadableStream.`);
  }
  function H(e) {
    return new ReadableStreamDefaultReader(e);
  }
  function V(e, t) {
    e._reader._readRequests.push(t);
  }
  function U(e, t, r) {
    const o = e._reader._readRequests.shift();
    r ? o._closeSteps() : o._chunkSteps(t);
  }
  function G(e) {
    return e._reader._readRequests.length;
  }
  function X(e) {
    const t = e._reader;
    return void 0 !== t && !!J(t);
  }
  class ReadableStreamDefaultReader {
    constructor(e) {
      if ($(e, 1, "ReadableStreamDefaultReader"), N(e, "First parameter"), fr(e)) throw new TypeError("This stream has already been locked for exclusive reading by another reader");
      R(this, e), this._readRequests = new w();
    }
    get closed() {
      return J(this) ? this._closedPromise : f(Z("closed"));
    }
    cancel(e) {
      return J(this) ? void 0 === this._ownerReadableStream ? f(P("cancel")) : T(this, e) : f(Z("cancel"));
    }
    read() {
      if (!J(this)) return f(Z("read"));
      if (void 0 === this._ownerReadableStream) return f(P("read from"));
      let e, t;
      const r = c((r, o) => {
        e = r, t = o;
      });
      return K(this, {
        _chunkSteps: t => e({
          value: t,
          done: !1
        }),
        _closeSteps: () => e({
          value: void 0,
          done: !0
        }),
        _errorSteps: e => t(e)
      }), r;
    }
    releaseLock() {
      if (!J(this)) throw Z("releaseLock");
      if (void 0 !== this._ownerReadableStream) {
        if (this._readRequests.length > 0) throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
        C(this);
      }
    }
  }
  function J(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_readRequests") && e instanceof ReadableStreamDefaultReader;
  }
  function K(e, t) {
    const r = e._ownerReadableStream;
    r._disturbed = !0, "closed" === r._state ? t._closeSteps() : "errored" === r._state ? t._errorSteps(r._storedError) : r._readableStreamController[A](t);
  }
  function Z(e) {
    return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`);
  }
  Object.defineProperties(ReadableStreamDefaultReader.prototype, {
    cancel: {
      enumerable: !0
    },
    read: {
      enumerable: !0
    },
    releaseLock: {
      enumerable: !0
    },
    closed: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamDefaultReader.prototype, t.toStringTag, {
    value: "ReadableStreamDefaultReader",
    configurable: !0
  });
  const ee = Object.getPrototypeOf(Object.getPrototypeOf(async function* () {}).prototype);
  class te {
    constructor(e, t) {
      this._ongoingPromise = void 0, this._isFinished = !1, this._reader = e, this._preventCancel = t;
    }
    next() {
      const e = () => this._nextSteps();
      return this._ongoingPromise = this._ongoingPromise ? p(this._ongoingPromise, e, e) : e(), this._ongoingPromise;
    }
    return(e) {
      const t = () => this._returnSteps(e);
      return this._ongoingPromise ? p(this._ongoingPromise, t, t) : t();
    }
    _nextSteps() {
      if (this._isFinished) return Promise.resolve({
        value: void 0,
        done: !0
      });
      const e = this._reader;
      if (void 0 === e._ownerReadableStream) return f(P("iterate"));
      let t, r;
      const o = c((e, o) => {
        t = e, r = o;
      });
      return K(e, {
        _chunkSteps: e => {
          this._ongoingPromise = void 0, g(() => t({
            value: e,
            done: !1
          }));
        },
        _closeSteps: () => {
          this._ongoingPromise = void 0, this._isFinished = !0, C(e), t({
            value: void 0,
            done: !0
          });
        },
        _errorSteps: t => {
          this._ongoingPromise = void 0, this._isFinished = !0, C(e), r(t);
        }
      }), o;
    }
    _returnSteps(e) {
      if (this._isFinished) return Promise.resolve({
        value: e,
        done: !0
      });
      this._isFinished = !0;
      const t = this._reader;
      if (void 0 === t._ownerReadableStream) return f(P("finish iterating"));
      if (!this._preventCancel) {
        const r = T(t, e);
        return C(t), p(r, () => ({
          value: e,
          done: !0
        }));
      }
      return C(t), d({
        value: e,
        done: !0
      });
    }
  }
  const re = {
    next() {
      return oe(this) ? this._asyncIteratorImpl.next() : f(ne("next"));
    },
    return(e) {
      return oe(this) ? this._asyncIteratorImpl.return(e) : f(ne("return"));
    }
  };
  function oe(e) {
    if (!n(e)) return !1;
    if (!Object.prototype.hasOwnProperty.call(e, "_asyncIteratorImpl")) return !1;
    try {
      return e._asyncIteratorImpl instanceof te;
    } catch (e) {
      return !1;
    }
  }
  function ne(e) {
    return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`);
  }
  void 0 !== ee && Object.setPrototypeOf(re, ee);
  const ae = Number.isNaN || function (e) {
    return e != e;
  };
  function ie(e) {
    return e.slice();
  }
  function le(e, t, r, o, n) {
    new Uint8Array(e).set(new Uint8Array(r, o, n), t);
  }
  function se(e, t, r) {
    if (e.slice) return e.slice(t, r);
    const o = r - t,
      n = new ArrayBuffer(o);
    return le(n, 0, e, t, o), n;
  }
  function ue(e) {
    const t = se(e.buffer, e.byteOffset, e.byteOffset + e.byteLength);
    return new Uint8Array(t);
  }
  function ce(e) {
    const t = e._queue.shift();
    return e._queueTotalSize -= t.size, e._queueTotalSize < 0 && (e._queueTotalSize = 0), t.value;
  }
  function de(e, t, r) {
    if ("number" != typeof (o = r) || ae(o) || o < 0 || r === 1 / 0) throw new RangeError("Size must be a finite, non-NaN, non-negative number.");
    var o;
    e._queue.push({
      value: t,
      size: r
    }), e._queueTotalSize += r;
  }
  function fe(e) {
    e._queue = new w(), e._queueTotalSize = 0;
  }
  class ReadableStreamBYOBRequest {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get view() {
      if (!he(this)) throw De("view");
      return this._view;
    }
    respond(e) {
      if (!he(this)) throw De("respond");
      if ($(e, 1, "respond"), e = x(e, "First parameter"), void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated");
      this._view.buffer, je(this._associatedReadableByteStreamController, e);
    }
    respondWithNewView(e) {
      if (!he(this)) throw De("respondWithNewView");
      if ($(e, 1, "respondWithNewView"), !ArrayBuffer.isView(e)) throw new TypeError("You can only respond with array buffer views");
      if (void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated");
      e.buffer, Ae(this._associatedReadableByteStreamController, e);
    }
  }
  Object.defineProperties(ReadableStreamBYOBRequest.prototype, {
    respond: {
      enumerable: !0
    },
    respondWithNewView: {
      enumerable: !0
    },
    view: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamBYOBRequest.prototype, t.toStringTag, {
    value: "ReadableStreamBYOBRequest",
    configurable: !0
  });
  class ReadableByteStreamController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get byobRequest() {
      if (!be(this)) throw Le("byobRequest");
      return Be(this);
    }
    get desiredSize() {
      if (!be(this)) throw Le("desiredSize");
      return ke(this);
    }
    close() {
      if (!be(this)) throw Le("close");
      if (this._closeRequested) throw new TypeError("The stream has already been closed; do not close it again!");
      const e = this._controlledReadableByteStream._state;
      if ("readable" !== e) throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);
      Ee(this);
    }
    enqueue(e) {
      if (!be(this)) throw Le("enqueue");
      if ($(e, 1, "enqueue"), !ArrayBuffer.isView(e)) throw new TypeError("chunk must be an array buffer view");
      if (0 === e.byteLength) throw new TypeError("chunk must have non-zero byteLength");
      if (0 === e.buffer.byteLength) throw new TypeError("chunk's buffer must have non-zero byteLength");
      if (this._closeRequested) throw new TypeError("stream is closed or draining");
      const t = this._controlledReadableByteStream._state;
      if ("readable" !== t) throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);
      We(this, e);
    }
    error(e) {
      if (!be(this)) throw Le("error");
      Oe(this, e);
    }
    [j](e) {
      me(this), fe(this);
      const t = this._cancelAlgorithm(e);
      return qe(this), t;
    }
    [A](e) {
      const t = this._controlledReadableByteStream;
      if (this._queueTotalSize > 0) {
        const t = this._queue.shift();
        this._queueTotalSize -= t.byteLength, we(this);
        const r = new Uint8Array(t.buffer, t.byteOffset, t.byteLength);
        return void e._chunkSteps(r);
      }
      const r = this._autoAllocateChunkSize;
      if (void 0 !== r) {
        let t;
        try {
          t = new ArrayBuffer(r);
        } catch (t) {
          return void e._errorSteps(t);
        }
        const o = {
          buffer: t,
          bufferByteLength: r,
          byteOffset: 0,
          byteLength: r,
          bytesFilled: 0,
          elementSize: 1,
          viewConstructor: Uint8Array,
          readerType: "default"
        };
        this._pendingPullIntos.push(o);
      }
      V(t, e), _e(this);
    }
  }
  function be(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledReadableByteStream") && e instanceof ReadableByteStreamController;
  }
  function he(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_associatedReadableByteStreamController") && e instanceof ReadableStreamBYOBRequest;
  }
  function _e(e) {
    if (!function (e) {
      const t = e._controlledReadableByteStream;
      if ("readable" !== t._state) return !1;
      if (e._closeRequested) return !1;
      if (!e._started) return !1;
      if (X(t) && G(t) > 0) return !0;
      if (Me(t) && $e(t) > 0) return !0;
      if (ke(e) > 0) return !0;
      return !1;
    }(e)) return;
    if (e._pulling) return void (e._pullAgain = !0);
    e._pulling = !0;
    h(e._pullAlgorithm(), () => {
      e._pulling = !1, e._pullAgain && (e._pullAgain = !1, _e(e));
    }, t => {
      Oe(e, t);
    });
  }
  function me(e) {
    Re(e), e._pendingPullIntos = new w();
  }
  function pe(e, t) {
    let r = !1;
    "closed" === e._state && (r = !0);
    const o = ye(t);
    "default" === t.readerType ? U(e, o, r) : function (e, t, r) {
      const o = e._reader._readIntoRequests.shift();
      r ? o._closeSteps(t) : o._chunkSteps(t);
    }(e, o, r);
  }
  function ye(e) {
    const t = e.bytesFilled,
      r = e.elementSize;
    return new e.viewConstructor(e.buffer, e.byteOffset, t / r);
  }
  function ge(e, t, r, o) {
    e._queue.push({
      buffer: t,
      byteOffset: r,
      byteLength: o
    }), e._queueTotalSize += o;
  }
  function Se(e, t) {
    const r = t.elementSize,
      o = t.bytesFilled - t.bytesFilled % r,
      n = Math.min(e._queueTotalSize, t.byteLength - t.bytesFilled),
      a = t.bytesFilled + n,
      i = a - a % r;
    let l = n,
      s = !1;
    i > o && (l = i - t.bytesFilled, s = !0);
    const u = e._queue;
    for (; l > 0;) {
      const r = u.peek(),
        o = Math.min(l, r.byteLength),
        n = t.byteOffset + t.bytesFilled;
      le(t.buffer, n, r.buffer, r.byteOffset, o), r.byteLength === o ? u.shift() : (r.byteOffset += o, r.byteLength -= o), e._queueTotalSize -= o, ve(e, o, t), l -= o;
    }
    return s;
  }
  function ve(e, t, r) {
    r.bytesFilled += t;
  }
  function we(e) {
    0 === e._queueTotalSize && e._closeRequested ? (qe(e), hr(e._controlledReadableByteStream)) : _e(e);
  }
  function Re(e) {
    null !== e._byobRequest && (e._byobRequest._associatedReadableByteStreamController = void 0, e._byobRequest._view = null, e._byobRequest = null);
  }
  function Te(e) {
    for (; e._pendingPullIntos.length > 0;) {
      if (0 === e._queueTotalSize) return;
      const t = e._pendingPullIntos.peek();
      Se(e, t) && (Pe(e), pe(e._controlledReadableByteStream, t));
    }
  }
  function Ce(e, t) {
    const r = e._pendingPullIntos.peek();
    Re(e);
    "closed" === e._controlledReadableByteStream._state ? function (e, t) {
      const r = e._controlledReadableByteStream;
      if (Me(r)) for (; $e(r) > 0;) pe(r, Pe(e));
    }(e) : function (e, t, r) {
      if (ve(0, t, r), r.bytesFilled < r.elementSize) return;
      Pe(e);
      const o = r.bytesFilled % r.elementSize;
      if (o > 0) {
        const t = r.byteOffset + r.bytesFilled,
          n = se(r.buffer, t - o, t);
        ge(e, n, 0, n.byteLength);
      }
      r.bytesFilled -= o, pe(e._controlledReadableByteStream, r), Te(e);
    }(e, t, r), _e(e);
  }
  function Pe(e) {
    return e._pendingPullIntos.shift();
  }
  function qe(e) {
    e._pullAlgorithm = void 0, e._cancelAlgorithm = void 0;
  }
  function Ee(e) {
    const t = e._controlledReadableByteStream;
    if (!e._closeRequested && "readable" === t._state) if (e._queueTotalSize > 0) e._closeRequested = !0;else {
      if (e._pendingPullIntos.length > 0) {
        if (e._pendingPullIntos.peek().bytesFilled > 0) {
          const t = new TypeError("Insufficient bytes to fill elements in the given buffer");
          throw Oe(e, t), t;
        }
      }
      qe(e), hr(t);
    }
  }
  function We(e, t) {
    const r = e._controlledReadableByteStream;
    if (e._closeRequested || "readable" !== r._state) return;
    const o = t.buffer,
      n = t.byteOffset,
      a = t.byteLength,
      i = o;
    if (e._pendingPullIntos.length > 0) {
      const t = e._pendingPullIntos.peek();
      t.buffer, 0, t.buffer = t.buffer;
    }
    if (Re(e), X(r)) {
      if (0 === G(r)) ge(e, i, n, a);else {
        e._pendingPullIntos.length > 0 && Pe(e);
        U(r, new Uint8Array(i, n, a), !1);
      }
    } else Me(r) ? (ge(e, i, n, a), Te(e)) : ge(e, i, n, a);
    _e(e);
  }
  function Oe(e, t) {
    const r = e._controlledReadableByteStream;
    "readable" === r._state && (me(e), fe(e), qe(e), _r(r, t));
  }
  function Be(e) {
    if (null === e._byobRequest && e._pendingPullIntos.length > 0) {
      const t = e._pendingPullIntos.peek(),
        r = new Uint8Array(t.buffer, t.byteOffset + t.bytesFilled, t.byteLength - t.bytesFilled),
        o = Object.create(ReadableStreamBYOBRequest.prototype);
      !function (e, t, r) {
        e._associatedReadableByteStreamController = t, e._view = r;
      }(o, e, r), e._byobRequest = o;
    }
    return e._byobRequest;
  }
  function ke(e) {
    const t = e._controlledReadableByteStream._state;
    return "errored" === t ? null : "closed" === t ? 0 : e._strategyHWM - e._queueTotalSize;
  }
  function je(e, t) {
    const r = e._pendingPullIntos.peek();
    if ("closed" === e._controlledReadableByteStream._state) {
      if (0 !== t) throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");
    } else {
      if (0 === t) throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");
      if (r.bytesFilled + t > r.byteLength) throw new RangeError("bytesWritten out of range");
    }
    r.buffer = r.buffer, Ce(e, t);
  }
  function Ae(e, t) {
    const r = e._pendingPullIntos.peek();
    if ("closed" === e._controlledReadableByteStream._state) {
      if (0 !== t.byteLength) throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream");
    } else if (0 === t.byteLength) throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");
    if (r.byteOffset + r.bytesFilled !== t.byteOffset) throw new RangeError("The region specified by view does not match byobRequest");
    if (r.bufferByteLength !== t.buffer.byteLength) throw new RangeError("The buffer of view has different capacity than byobRequest");
    if (r.bytesFilled + t.byteLength > r.byteLength) throw new RangeError("The region specified by view is larger than byobRequest");
    const o = t.byteLength;
    r.buffer = t.buffer, Ce(e, o);
  }
  function ze(e, t, r, o, n, a, i) {
    t._controlledReadableByteStream = e, t._pullAgain = !1, t._pulling = !1, t._byobRequest = null, t._queue = t._queueTotalSize = void 0, fe(t), t._closeRequested = !1, t._started = !1, t._strategyHWM = a, t._pullAlgorithm = o, t._cancelAlgorithm = n, t._autoAllocateChunkSize = i, t._pendingPullIntos = new w(), e._readableStreamController = t;
    h(d(r()), () => {
      t._started = !0, _e(t);
    }, e => {
      Oe(t, e);
    });
  }
  function De(e) {
    return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`);
  }
  function Le(e) {
    return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`);
  }
  function Fe(e) {
    return new ReadableStreamBYOBReader(e);
  }
  function Ie(e, t) {
    e._reader._readIntoRequests.push(t);
  }
  function $e(e) {
    return e._reader._readIntoRequests.length;
  }
  function Me(e) {
    const t = e._reader;
    return void 0 !== t && !!Qe(t);
  }
  Object.defineProperties(ReadableByteStreamController.prototype, {
    close: {
      enumerable: !0
    },
    enqueue: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    },
    byobRequest: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableByteStreamController.prototype, t.toStringTag, {
    value: "ReadableByteStreamController",
    configurable: !0
  });
  class ReadableStreamBYOBReader {
    constructor(e) {
      if ($(e, 1, "ReadableStreamBYOBReader"), N(e, "First parameter"), fr(e)) throw new TypeError("This stream has already been locked for exclusive reading by another reader");
      if (!be(e._readableStreamController)) throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
      R(this, e), this._readIntoRequests = new w();
    }
    get closed() {
      return Qe(this) ? this._closedPromise : f(xe("closed"));
    }
    cancel(e) {
      return Qe(this) ? void 0 === this._ownerReadableStream ? f(P("cancel")) : T(this, e) : f(xe("cancel"));
    }
    read(e) {
      if (!Qe(this)) return f(xe("read"));
      if (!ArrayBuffer.isView(e)) return f(new TypeError("view must be an array buffer view"));
      if (0 === e.byteLength) return f(new TypeError("view must have non-zero byteLength"));
      if (0 === e.buffer.byteLength) return f(new TypeError("view's buffer must have non-zero byteLength"));
      if (e.buffer, void 0 === this._ownerReadableStream) return f(P("read from"));
      let t, r;
      const o = c((e, o) => {
        t = e, r = o;
      });
      return Ye(this, e, {
        _chunkSteps: e => t({
          value: e,
          done: !1
        }),
        _closeSteps: e => t({
          value: e,
          done: !0
        }),
        _errorSteps: e => r(e)
      }), o;
    }
    releaseLock() {
      if (!Qe(this)) throw xe("releaseLock");
      if (void 0 !== this._ownerReadableStream) {
        if (this._readIntoRequests.length > 0) throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
        C(this);
      }
    }
  }
  function Qe(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_readIntoRequests") && e instanceof ReadableStreamBYOBReader;
  }
  function Ye(e, t, r) {
    const o = e._ownerReadableStream;
    o._disturbed = !0, "errored" === o._state ? r._errorSteps(o._storedError) : function (e, t, r) {
      const o = e._controlledReadableByteStream;
      let n = 1;
      t.constructor !== DataView && (n = t.constructor.BYTES_PER_ELEMENT);
      const a = t.constructor,
        i = t.buffer,
        l = {
          buffer: i,
          bufferByteLength: i.byteLength,
          byteOffset: t.byteOffset,
          byteLength: t.byteLength,
          bytesFilled: 0,
          elementSize: n,
          viewConstructor: a,
          readerType: "byob"
        };
      if (e._pendingPullIntos.length > 0) return e._pendingPullIntos.push(l), void Ie(o, r);
      if ("closed" !== o._state) {
        if (e._queueTotalSize > 0) {
          if (Se(e, l)) {
            const t = ye(l);
            return we(e), void r._chunkSteps(t);
          }
          if (e._closeRequested) {
            const t = new TypeError("Insufficient bytes to fill elements in the given buffer");
            return Oe(e, t), void r._errorSteps(t);
          }
        }
        e._pendingPullIntos.push(l), Ie(o, r), _e(e);
      } else {
        const e = new a(l.buffer, l.byteOffset, 0);
        r._closeSteps(e);
      }
    }(o._readableStreamController, t, r);
  }
  function xe(e) {
    return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`);
  }
  function Ne(e, t) {
    const {
      highWaterMark: r
    } = e;
    if (void 0 === r) return t;
    if (ae(r) || r < 0) throw new RangeError("Invalid highWaterMark");
    return r;
  }
  function He(e) {
    const {
      size: t
    } = e;
    return t || (() => 1);
  }
  function Ve(e, t) {
    L(e, t);
    const r = null == e ? void 0 : e.highWaterMark,
      o = null == e ? void 0 : e.size;
    return {
      highWaterMark: void 0 === r ? void 0 : Q(r),
      size: void 0 === o ? void 0 : Ue(o, `${t} has member 'size' that`)
    };
  }
  function Ue(e, t) {
    return F(e, t), t => Q(e(t));
  }
  function Ge(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function Xe(e, t, r) {
    return F(e, r), () => v(e, t, []);
  }
  function Je(e, t, r) {
    return F(e, r), r => S(e, t, [r]);
  }
  function Ke(e, t, r) {
    return F(e, r), (r, o) => v(e, t, [r, o]);
  }
  function Ze(e, t) {
    if (!ot(e)) throw new TypeError(`${t} is not a WritableStream.`);
  }
  Object.defineProperties(ReadableStreamBYOBReader.prototype, {
    cancel: {
      enumerable: !0
    },
    read: {
      enumerable: !0
    },
    releaseLock: {
      enumerable: !0
    },
    closed: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamBYOBReader.prototype, t.toStringTag, {
    value: "ReadableStreamBYOBReader",
    configurable: !0
  });
  const et = "function" == typeof AbortController;
  class WritableStream {
    constructor(e = {}, t = {}) {
      void 0 === e ? e = null : I(e, "First parameter");
      const r = Ve(t, "Second parameter"),
        o = function (e, t) {
          L(e, t);
          const r = null == e ? void 0 : e.abort,
            o = null == e ? void 0 : e.close,
            n = null == e ? void 0 : e.start,
            a = null == e ? void 0 : e.type,
            i = null == e ? void 0 : e.write;
          return {
            abort: void 0 === r ? void 0 : Ge(r, e, `${t} has member 'abort' that`),
            close: void 0 === o ? void 0 : Xe(o, e, `${t} has member 'close' that`),
            start: void 0 === n ? void 0 : Je(n, e, `${t} has member 'start' that`),
            write: void 0 === i ? void 0 : Ke(i, e, `${t} has member 'write' that`),
            type: a
          };
        }(e, "First parameter");
      rt(this);
      if (void 0 !== o.type) throw new RangeError("Invalid type is specified");
      const n = He(r);
      !function (e, t, r, o) {
        const n = Object.create(WritableStreamDefaultController.prototype);
        let a = () => {},
          i = () => d(void 0),
          l = () => d(void 0),
          s = () => d(void 0);
        void 0 !== t.start && (a = () => t.start(n));
        void 0 !== t.write && (i = e => t.write(e, n));
        void 0 !== t.close && (l = () => t.close());
        void 0 !== t.abort && (s = e => t.abort(e));
        vt(e, n, a, i, l, s, r, o);
      }(this, o, Ne(r, 1), n);
    }
    get locked() {
      if (!ot(this)) throw Et("locked");
      return nt(this);
    }
    abort(e) {
      return ot(this) ? nt(this) ? f(new TypeError("Cannot abort a stream that already has a writer")) : at(this, e) : f(Et("abort"));
    }
    close() {
      return ot(this) ? nt(this) ? f(new TypeError("Cannot close a stream that already has a writer")) : ct(this) ? f(new TypeError("Cannot close an already-closing stream")) : it(this) : f(Et("close"));
    }
    getWriter() {
      if (!ot(this)) throw Et("getWriter");
      return tt(this);
    }
  }
  function tt(e) {
    return new WritableStreamDefaultWriter(e);
  }
  function rt(e) {
    e._state = "writable", e._storedError = void 0, e._writer = void 0, e._writableStreamController = void 0, e._writeRequests = new w(), e._inFlightWriteRequest = void 0, e._closeRequest = void 0, e._inFlightCloseRequest = void 0, e._pendingAbortRequest = void 0, e._backpressure = !1;
  }
  function ot(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_writableStreamController") && e instanceof WritableStream;
  }
  function nt(e) {
    return void 0 !== e._writer;
  }
  function at(e, t) {
    var r;
    if ("closed" === e._state || "errored" === e._state) return d(void 0);
    e._writableStreamController._abortReason = t, null === (r = e._writableStreamController._abortController) || void 0 === r || r.abort();
    const o = e._state;
    if ("closed" === o || "errored" === o) return d(void 0);
    if (void 0 !== e._pendingAbortRequest) return e._pendingAbortRequest._promise;
    let n = !1;
    "erroring" === o && (n = !0, t = void 0);
    const a = c((r, o) => {
      e._pendingAbortRequest = {
        _promise: void 0,
        _resolve: r,
        _reject: o,
        _reason: t,
        _wasAlreadyErroring: n
      };
    });
    return e._pendingAbortRequest._promise = a, n || st(e, t), a;
  }
  function it(e) {
    const t = e._state;
    if ("closed" === t || "errored" === t) return f(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));
    const r = c((t, r) => {
        const o = {
          _resolve: t,
          _reject: r
        };
        e._closeRequest = o;
      }),
      o = e._writer;
    var n;
    return void 0 !== o && e._backpressure && "writable" === t && $t(o), de(n = e._writableStreamController, gt, 0), Tt(n), r;
  }
  function lt(e, t) {
    "writable" !== e._state ? ut(e) : st(e, t);
  }
  function st(e, t) {
    const r = e._writableStreamController;
    e._state = "erroring", e._storedError = t;
    const o = e._writer;
    void 0 !== o && mt(o, t), !function (e) {
      if (void 0 === e._inFlightWriteRequest && void 0 === e._inFlightCloseRequest) return !1;
      return !0;
    }(e) && r._started && ut(e);
  }
  function ut(e) {
    e._state = "errored", e._writableStreamController[k]();
    const t = e._storedError;
    if (e._writeRequests.forEach(e => {
      e._reject(t);
    }), e._writeRequests = new w(), void 0 === e._pendingAbortRequest) return void dt(e);
    const r = e._pendingAbortRequest;
    if (e._pendingAbortRequest = void 0, r._wasAlreadyErroring) return r._reject(t), void dt(e);
    h(e._writableStreamController[B](r._reason), () => {
      r._resolve(), dt(e);
    }, t => {
      r._reject(t), dt(e);
    });
  }
  function ct(e) {
    return void 0 !== e._closeRequest || void 0 !== e._inFlightCloseRequest;
  }
  function dt(e) {
    void 0 !== e._closeRequest && (e._closeRequest._reject(e._storedError), e._closeRequest = void 0);
    const t = e._writer;
    void 0 !== t && At(t, e._storedError);
  }
  function ft(e, t) {
    const r = e._writer;
    void 0 !== r && t !== e._backpressure && (t ? function (e) {
      Dt(e);
    }(r) : $t(r)), e._backpressure = t;
  }
  Object.defineProperties(WritableStream.prototype, {
    abort: {
      enumerable: !0
    },
    close: {
      enumerable: !0
    },
    getWriter: {
      enumerable: !0
    },
    locked: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(WritableStream.prototype, t.toStringTag, {
    value: "WritableStream",
    configurable: !0
  });
  class WritableStreamDefaultWriter {
    constructor(e) {
      if ($(e, 1, "WritableStreamDefaultWriter"), Ze(e, "First parameter"), nt(e)) throw new TypeError("This stream has already been locked for exclusive writing by another writer");
      this._ownerWritableStream = e, e._writer = this;
      const t = e._state;
      if ("writable" === t) !ct(e) && e._backpressure ? Dt(this) : Ft(this), kt(this);else if ("erroring" === t) Lt(this, e._storedError), kt(this);else if ("closed" === t) Ft(this), kt(r = this), zt(r);else {
        const t = e._storedError;
        Lt(this, t), jt(this, t);
      }
      var r;
    }
    get closed() {
      return bt(this) ? this._closedPromise : f(Ot("closed"));
    }
    get desiredSize() {
      if (!bt(this)) throw Ot("desiredSize");
      if (void 0 === this._ownerWritableStream) throw Bt("desiredSize");
      return function (e) {
        const t = e._ownerWritableStream,
          r = t._state;
        if ("errored" === r || "erroring" === r) return null;
        if ("closed" === r) return 0;
        return Rt(t._writableStreamController);
      }(this);
    }
    get ready() {
      return bt(this) ? this._readyPromise : f(Ot("ready"));
    }
    abort(e) {
      return bt(this) ? void 0 === this._ownerWritableStream ? f(Bt("abort")) : function (e, t) {
        return at(e._ownerWritableStream, t);
      }(this, e) : f(Ot("abort"));
    }
    close() {
      if (!bt(this)) return f(Ot("close"));
      const e = this._ownerWritableStream;
      return void 0 === e ? f(Bt("close")) : ct(e) ? f(new TypeError("Cannot close an already-closing stream")) : ht(this);
    }
    releaseLock() {
      if (!bt(this)) throw Ot("releaseLock");
      void 0 !== this._ownerWritableStream && pt(this);
    }
    write(e) {
      return bt(this) ? void 0 === this._ownerWritableStream ? f(Bt("write to")) : yt(this, e) : f(Ot("write"));
    }
  }
  function bt(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_ownerWritableStream") && e instanceof WritableStreamDefaultWriter;
  }
  function ht(e) {
    return it(e._ownerWritableStream);
  }
  function _t(e, t) {
    "pending" === e._closedPromiseState ? At(e, t) : function (e, t) {
      jt(e, t);
    }(e, t);
  }
  function mt(e, t) {
    "pending" === e._readyPromiseState ? It(e, t) : function (e, t) {
      Lt(e, t);
    }(e, t);
  }
  function pt(e) {
    const t = e._ownerWritableStream,
      r = new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
    mt(e, r), _t(e, r), t._writer = void 0, e._ownerWritableStream = void 0;
  }
  function yt(e, t) {
    const r = e._ownerWritableStream,
      o = r._writableStreamController,
      n = function (e, t) {
        try {
          return e._strategySizeAlgorithm(t);
        } catch (t) {
          return Ct(e, t), 1;
        }
      }(o, t);
    if (r !== e._ownerWritableStream) return f(Bt("write to"));
    const a = r._state;
    if ("errored" === a) return f(r._storedError);
    if (ct(r) || "closed" === a) return f(new TypeError("The stream is closing or closed and cannot be written to"));
    if ("erroring" === a) return f(r._storedError);
    const i = function (e) {
      return c((t, r) => {
        const o = {
          _resolve: t,
          _reject: r
        };
        e._writeRequests.push(o);
      });
    }(r);
    return function (e, t, r) {
      try {
        de(e, t, r);
      } catch (t) {
        return void Ct(e, t);
      }
      const o = e._controlledWritableStream;
      if (!ct(o) && "writable" === o._state) {
        ft(o, Pt(e));
      }
      Tt(e);
    }(o, t, n), i;
  }
  Object.defineProperties(WritableStreamDefaultWriter.prototype, {
    abort: {
      enumerable: !0
    },
    close: {
      enumerable: !0
    },
    releaseLock: {
      enumerable: !0
    },
    write: {
      enumerable: !0
    },
    closed: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    },
    ready: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(WritableStreamDefaultWriter.prototype, t.toStringTag, {
    value: "WritableStreamDefaultWriter",
    configurable: !0
  });
  const gt = {};
  class WritableStreamDefaultController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get abortReason() {
      if (!St(this)) throw Wt("abortReason");
      return this._abortReason;
    }
    get signal() {
      if (!St(this)) throw Wt("signal");
      if (void 0 === this._abortController) throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");
      return this._abortController.signal;
    }
    error(e) {
      if (!St(this)) throw Wt("error");
      "writable" === this._controlledWritableStream._state && qt(this, e);
    }
    [B](e) {
      const t = this._abortAlgorithm(e);
      return wt(this), t;
    }
    [k]() {
      fe(this);
    }
  }
  function St(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledWritableStream") && e instanceof WritableStreamDefaultController;
  }
  function vt(e, t, r, o, n, a, i, l) {
    t._controlledWritableStream = e, e._writableStreamController = t, t._queue = void 0, t._queueTotalSize = void 0, fe(t), t._abortReason = void 0, t._abortController = function () {
      if (et) return new AbortController();
    }(), t._started = !1, t._strategySizeAlgorithm = l, t._strategyHWM = i, t._writeAlgorithm = o, t._closeAlgorithm = n, t._abortAlgorithm = a;
    const s = Pt(t);
    ft(e, s);
    h(d(r()), () => {
      t._started = !0, Tt(t);
    }, r => {
      t._started = !0, lt(e, r);
    });
  }
  function wt(e) {
    e._writeAlgorithm = void 0, e._closeAlgorithm = void 0, e._abortAlgorithm = void 0, e._strategySizeAlgorithm = void 0;
  }
  function Rt(e) {
    return e._strategyHWM - e._queueTotalSize;
  }
  function Tt(e) {
    const t = e._controlledWritableStream;
    if (!e._started) return;
    if (void 0 !== t._inFlightWriteRequest) return;
    if ("erroring" === t._state) return void ut(t);
    if (0 === e._queue.length) return;
    const r = e._queue.peek().value;
    r === gt ? function (e) {
      const t = e._controlledWritableStream;
      (function (e) {
        e._inFlightCloseRequest = e._closeRequest, e._closeRequest = void 0;
      })(t), ce(e);
      const r = e._closeAlgorithm();
      wt(e), h(r, () => {
        !function (e) {
          e._inFlightCloseRequest._resolve(void 0), e._inFlightCloseRequest = void 0, "erroring" === e._state && (e._storedError = void 0, void 0 !== e._pendingAbortRequest && (e._pendingAbortRequest._resolve(), e._pendingAbortRequest = void 0)), e._state = "closed";
          const t = e._writer;
          void 0 !== t && zt(t);
        }(t);
      }, e => {
        !function (e, t) {
          e._inFlightCloseRequest._reject(t), e._inFlightCloseRequest = void 0, void 0 !== e._pendingAbortRequest && (e._pendingAbortRequest._reject(t), e._pendingAbortRequest = void 0), lt(e, t);
        }(t, e);
      });
    }(e) : function (e, t) {
      const r = e._controlledWritableStream;
      !function (e) {
        e._inFlightWriteRequest = e._writeRequests.shift();
      }(r);
      h(e._writeAlgorithm(t), () => {
        !function (e) {
          e._inFlightWriteRequest._resolve(void 0), e._inFlightWriteRequest = void 0;
        }(r);
        const t = r._state;
        if (ce(e), !ct(r) && "writable" === t) {
          const t = Pt(e);
          ft(r, t);
        }
        Tt(e);
      }, t => {
        "writable" === r._state && wt(e), function (e, t) {
          e._inFlightWriteRequest._reject(t), e._inFlightWriteRequest = void 0, lt(e, t);
        }(r, t);
      });
    }(e, r);
  }
  function Ct(e, t) {
    "writable" === e._controlledWritableStream._state && qt(e, t);
  }
  function Pt(e) {
    return Rt(e) <= 0;
  }
  function qt(e, t) {
    const r = e._controlledWritableStream;
    wt(e), st(r, t);
  }
  function Et(e) {
    return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`);
  }
  function Wt(e) {
    return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`);
  }
  function Ot(e) {
    return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`);
  }
  function Bt(e) {
    return new TypeError("Cannot " + e + " a stream using a released writer");
  }
  function kt(e) {
    e._closedPromise = c((t, r) => {
      e._closedPromise_resolve = t, e._closedPromise_reject = r, e._closedPromiseState = "pending";
    });
  }
  function jt(e, t) {
    kt(e), At(e, t);
  }
  function At(e, t) {
    void 0 !== e._closedPromise_reject && (y(e._closedPromise), e._closedPromise_reject(t), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0, e._closedPromiseState = "rejected");
  }
  function zt(e) {
    void 0 !== e._closedPromise_resolve && (e._closedPromise_resolve(void 0), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0, e._closedPromiseState = "resolved");
  }
  function Dt(e) {
    e._readyPromise = c((t, r) => {
      e._readyPromise_resolve = t, e._readyPromise_reject = r;
    }), e._readyPromiseState = "pending";
  }
  function Lt(e, t) {
    Dt(e), It(e, t);
  }
  function Ft(e) {
    Dt(e), $t(e);
  }
  function It(e, t) {
    void 0 !== e._readyPromise_reject && (y(e._readyPromise), e._readyPromise_reject(t), e._readyPromise_resolve = void 0, e._readyPromise_reject = void 0, e._readyPromiseState = "rejected");
  }
  function $t(e) {
    void 0 !== e._readyPromise_resolve && (e._readyPromise_resolve(void 0), e._readyPromise_resolve = void 0, e._readyPromise_reject = void 0, e._readyPromiseState = "fulfilled");
  }
  Object.defineProperties(WritableStreamDefaultController.prototype, {
    abortReason: {
      enumerable: !0
    },
    signal: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(WritableStreamDefaultController.prototype, t.toStringTag, {
    value: "WritableStreamDefaultController",
    configurable: !0
  });
  const Mt = "undefined" != typeof DOMException ? DOMException : void 0;
  const Qt = function (e) {
    if ("function" != typeof e && "object" != typeof e) return !1;
    try {
      return new e(), !0;
    } catch (e) {
      return !1;
    }
  }(Mt) ? Mt : function () {
    const e = function (e, t) {
      this.message = e || "", this.name = t || "Error", Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
    };
    return e.prototype = Object.create(Error.prototype), Object.defineProperty(e.prototype, "constructor", {
      value: e,
      writable: !0,
      configurable: !0
    }), e;
  }();
  function Yt(e, t, o, n, a, i) {
    const l = H(e),
      s = tt(t);
    e._disturbed = !0;
    let u = !1,
      p = d(void 0);
    return c((g, S) => {
      let v;
      if (void 0 !== i) {
        if (v = () => {
          const r = new Qt("Aborted", "AbortError"),
            o = [];
          n || o.push(() => "writable" === t._state ? at(t, r) : d(void 0)), a || o.push(() => "readable" === e._state ? br(e, r) : d(void 0)), E(() => Promise.all(o.map(e => e())), !0, r);
        }, i.aborted) return void v();
        i.addEventListener("abort", v);
      }
      var w, R, T;
      if (q(e, l._closedPromise, e => {
        n ? W(!0, e) : E(() => at(t, e), !0, e);
      }), q(t, s._closedPromise, t => {
        a ? W(!0, t) : E(() => br(e, t), !0, t);
      }), w = e, R = l._closedPromise, T = () => {
        o ? W() : E(() => function (e) {
          const t = e._ownerWritableStream,
            r = t._state;
          return ct(t) || "closed" === r ? d(void 0) : "errored" === r ? f(t._storedError) : ht(e);
        }(s));
      }, "closed" === w._state ? T() : _(R, T), ct(t) || "closed" === t._state) {
        const t = new TypeError("the destination writable stream closed before all data could be piped to it");
        a ? W(!0, t) : E(() => br(e, t), !0, t);
      }
      function P() {
        const e = p;
        return b(p, () => e !== p ? P() : void 0);
      }
      function q(e, t, r) {
        "errored" === e._state ? r(e._storedError) : m(t, r);
      }
      function E(e, r, o) {
        function n() {
          h(e(), () => O(r, o), e => O(!0, e));
        }
        u || (u = !0, "writable" !== t._state || ct(t) ? n() : _(P(), n));
      }
      function W(e, r) {
        u || (u = !0, "writable" !== t._state || ct(t) ? O(e, r) : _(P(), () => O(e, r)));
      }
      function O(e, t) {
        pt(s), C(l), void 0 !== i && i.removeEventListener("abort", v), e ? S(t) : g(void 0);
      }
      y(c((e, t) => {
        !function o(n) {
          n ? e() : b(u ? d(!0) : b(s._readyPromise, () => c((e, t) => {
            K(l, {
              _chunkSteps: t => {
                p = b(yt(s, t), void 0, r), e(!1);
              },
              _closeSteps: () => e(!0),
              _errorSteps: t
            });
          })), o, t);
        }(!1);
      }));
    });
  }
  class ReadableStreamDefaultController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get desiredSize() {
      if (!xt(this)) throw er("desiredSize");
      return Jt(this);
    }
    close() {
      if (!xt(this)) throw er("close");
      if (!Kt(this)) throw new TypeError("The stream is not in a state that permits close");
      Ut(this);
    }
    enqueue(e) {
      if (!xt(this)) throw er("enqueue");
      if (!Kt(this)) throw new TypeError("The stream is not in a state that permits enqueue");
      return Gt(this, e);
    }
    error(e) {
      if (!xt(this)) throw er("error");
      Xt(this, e);
    }
    [j](e) {
      fe(this);
      const t = this._cancelAlgorithm(e);
      return Vt(this), t;
    }
    [A](e) {
      const t = this._controlledReadableStream;
      if (this._queue.length > 0) {
        const r = ce(this);
        this._closeRequested && 0 === this._queue.length ? (Vt(this), hr(t)) : Nt(this), e._chunkSteps(r);
      } else V(t, e), Nt(this);
    }
  }
  function xt(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledReadableStream") && e instanceof ReadableStreamDefaultController;
  }
  function Nt(e) {
    if (!Ht(e)) return;
    if (e._pulling) return void (e._pullAgain = !0);
    e._pulling = !0;
    h(e._pullAlgorithm(), () => {
      e._pulling = !1, e._pullAgain && (e._pullAgain = !1, Nt(e));
    }, t => {
      Xt(e, t);
    });
  }
  function Ht(e) {
    const t = e._controlledReadableStream;
    if (!Kt(e)) return !1;
    if (!e._started) return !1;
    if (fr(t) && G(t) > 0) return !0;
    return Jt(e) > 0;
  }
  function Vt(e) {
    e._pullAlgorithm = void 0, e._cancelAlgorithm = void 0, e._strategySizeAlgorithm = void 0;
  }
  function Ut(e) {
    if (!Kt(e)) return;
    const t = e._controlledReadableStream;
    e._closeRequested = !0, 0 === e._queue.length && (Vt(e), hr(t));
  }
  function Gt(e, t) {
    if (!Kt(e)) return;
    const r = e._controlledReadableStream;
    if (fr(r) && G(r) > 0) U(r, t, !1);else {
      let r;
      try {
        r = e._strategySizeAlgorithm(t);
      } catch (t) {
        throw Xt(e, t), t;
      }
      try {
        de(e, t, r);
      } catch (t) {
        throw Xt(e, t), t;
      }
    }
    Nt(e);
  }
  function Xt(e, t) {
    const r = e._controlledReadableStream;
    "readable" === r._state && (fe(e), Vt(e), _r(r, t));
  }
  function Jt(e) {
    const t = e._controlledReadableStream._state;
    return "errored" === t ? null : "closed" === t ? 0 : e._strategyHWM - e._queueTotalSize;
  }
  function Kt(e) {
    const t = e._controlledReadableStream._state;
    return !e._closeRequested && "readable" === t;
  }
  function Zt(e, t, r, o, n, a, i) {
    t._controlledReadableStream = e, t._queue = void 0, t._queueTotalSize = void 0, fe(t), t._started = !1, t._closeRequested = !1, t._pullAgain = !1, t._pulling = !1, t._strategySizeAlgorithm = i, t._strategyHWM = a, t._pullAlgorithm = o, t._cancelAlgorithm = n, e._readableStreamController = t;
    h(d(r()), () => {
      t._started = !0, Nt(t);
    }, e => {
      Xt(t, e);
    });
  }
  function er(e) {
    return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`);
  }
  function tr(e, t) {
    return be(e._readableStreamController) ? function (e) {
      let t,
        r,
        o,
        n,
        a,
        i = H(e),
        l = !1,
        s = !1,
        u = !1,
        f = !1,
        b = !1;
      const h = c(e => {
        a = e;
      });
      function _(e) {
        m(e._closedPromise, t => {
          e === i && (Oe(o._readableStreamController, t), Oe(n._readableStreamController, t), f && b || a(void 0));
        });
      }
      function p() {
        Qe(i) && (C(i), i = H(e), _(i));
        K(i, {
          _chunkSteps: t => {
            g(() => {
              s = !1, u = !1;
              const r = t;
              let i = t;
              if (!f && !b) try {
                i = ue(t);
              } catch (t) {
                return Oe(o._readableStreamController, t), Oe(n._readableStreamController, t), void a(br(e, t));
              }
              f || We(o._readableStreamController, r), b || We(n._readableStreamController, i), l = !1, s ? S() : u && v();
            });
          },
          _closeSteps: () => {
            l = !1, f || Ee(o._readableStreamController), b || Ee(n._readableStreamController), o._readableStreamController._pendingPullIntos.length > 0 && je(o._readableStreamController, 0), n._readableStreamController._pendingPullIntos.length > 0 && je(n._readableStreamController, 0), f && b || a(void 0);
          },
          _errorSteps: () => {
            l = !1;
          }
        });
      }
      function y(t, r) {
        J(i) && (C(i), i = Fe(e), _(i));
        const c = r ? n : o,
          d = r ? o : n;
        Ye(i, t, {
          _chunkSteps: t => {
            g(() => {
              s = !1, u = !1;
              const o = r ? b : f;
              if (r ? f : b) o || Ae(c._readableStreamController, t);else {
                let r;
                try {
                  r = ue(t);
                } catch (t) {
                  return Oe(c._readableStreamController, t), Oe(d._readableStreamController, t), void a(br(e, t));
                }
                o || Ae(c._readableStreamController, t), We(d._readableStreamController, r);
              }
              l = !1, s ? S() : u && v();
            });
          },
          _closeSteps: e => {
            l = !1;
            const t = r ? b : f,
              o = r ? f : b;
            t || Ee(c._readableStreamController), o || Ee(d._readableStreamController), void 0 !== e && (t || Ae(c._readableStreamController, e), !o && d._readableStreamController._pendingPullIntos.length > 0 && je(d._readableStreamController, 0)), t && o || a(void 0);
          },
          _errorSteps: () => {
            l = !1;
          }
        });
      }
      function S() {
        if (l) return s = !0, d(void 0);
        l = !0;
        const e = Be(o._readableStreamController);
        return null === e ? p() : y(e._view, !1), d(void 0);
      }
      function v() {
        if (l) return u = !0, d(void 0);
        l = !0;
        const e = Be(n._readableStreamController);
        return null === e ? p() : y(e._view, !0), d(void 0);
      }
      function w(o) {
        if (f = !0, t = o, b) {
          const o = ie([t, r]),
            n = br(e, o);
          a(n);
        }
        return h;
      }
      function R(o) {
        if (b = !0, r = o, f) {
          const o = ie([t, r]),
            n = br(e, o);
          a(n);
        }
        return h;
      }
      function T() {}
      return o = ur(T, S, w), n = ur(T, v, R), _(i), [o, n];
    }(e) : function (e, t) {
      const r = H(e);
      let o,
        n,
        a,
        i,
        l,
        s = !1,
        u = !1,
        f = !1,
        b = !1;
      const h = c(e => {
        l = e;
      });
      function _() {
        if (s) return u = !0, d(void 0);
        s = !0;
        return K(r, {
          _chunkSteps: e => {
            g(() => {
              u = !1;
              const t = e,
                r = e;
              f || Gt(a._readableStreamController, t), b || Gt(i._readableStreamController, r), s = !1, u && _();
            });
          },
          _closeSteps: () => {
            s = !1, f || Ut(a._readableStreamController), b || Ut(i._readableStreamController), f && b || l(void 0);
          },
          _errorSteps: () => {
            s = !1;
          }
        }), d(void 0);
      }
      function p(t) {
        if (f = !0, o = t, b) {
          const t = ie([o, n]),
            r = br(e, t);
          l(r);
        }
        return h;
      }
      function y(t) {
        if (b = !0, n = t, f) {
          const t = ie([o, n]),
            r = br(e, t);
          l(r);
        }
        return h;
      }
      function S() {}
      return a = sr(S, _, p), i = sr(S, _, y), m(r._closedPromise, e => {
        Xt(a._readableStreamController, e), Xt(i._readableStreamController, e), f && b || l(void 0);
      }), [a, i];
    }(e);
  }
  function rr(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function or(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function nr(e, t, r) {
    return F(e, r), r => S(e, t, [r]);
  }
  function ar(e, t) {
    if ("bytes" !== (e = `${e}`)) throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);
    return e;
  }
  function ir(e, t) {
    if ("byob" !== (e = `${e}`)) throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);
    return e;
  }
  function lr(e, t) {
    L(e, t);
    const r = null == e ? void 0 : e.preventAbort,
      o = null == e ? void 0 : e.preventCancel,
      n = null == e ? void 0 : e.preventClose,
      a = null == e ? void 0 : e.signal;
    return void 0 !== a && function (e, t) {
      if (!function (e) {
        if ("object" != typeof e || null === e) return !1;
        try {
          return "boolean" == typeof e.aborted;
        } catch (e) {
          return !1;
        }
      }(e)) throw new TypeError(`${t} is not an AbortSignal.`);
    }(a, `${t} has member 'signal' that`), {
      preventAbort: Boolean(r),
      preventCancel: Boolean(o),
      preventClose: Boolean(n),
      signal: a
    };
  }
  Object.defineProperties(ReadableStreamDefaultController.prototype, {
    close: {
      enumerable: !0
    },
    enqueue: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamDefaultController.prototype, t.toStringTag, {
    value: "ReadableStreamDefaultController",
    configurable: !0
  });
  class ReadableStream {
    constructor(e = {}, t = {}) {
      void 0 === e ? e = null : I(e, "First parameter");
      const r = Ve(t, "Second parameter"),
        o = function (e, t) {
          L(e, t);
          const r = e,
            o = null == r ? void 0 : r.autoAllocateChunkSize,
            n = null == r ? void 0 : r.cancel,
            a = null == r ? void 0 : r.pull,
            i = null == r ? void 0 : r.start,
            l = null == r ? void 0 : r.type;
          return {
            autoAllocateChunkSize: void 0 === o ? void 0 : x(o, `${t} has member 'autoAllocateChunkSize' that`),
            cancel: void 0 === n ? void 0 : rr(n, r, `${t} has member 'cancel' that`),
            pull: void 0 === a ? void 0 : or(a, r, `${t} has member 'pull' that`),
            start: void 0 === i ? void 0 : nr(i, r, `${t} has member 'start' that`),
            type: void 0 === l ? void 0 : ar(l, `${t} has member 'type' that`)
          };
        }(e, "First parameter");
      if (cr(this), "bytes" === o.type) {
        if (void 0 !== r.size) throw new RangeError("The strategy for a byte stream cannot have a size function");
        !function (e, t, r) {
          const o = Object.create(ReadableByteStreamController.prototype);
          let n = () => {},
            a = () => d(void 0),
            i = () => d(void 0);
          void 0 !== t.start && (n = () => t.start(o)), void 0 !== t.pull && (a = () => t.pull(o)), void 0 !== t.cancel && (i = e => t.cancel(e));
          const l = t.autoAllocateChunkSize;
          if (0 === l) throw new TypeError("autoAllocateChunkSize must be greater than 0");
          ze(e, o, n, a, i, r, l);
        }(this, o, Ne(r, 0));
      } else {
        const e = He(r);
        !function (e, t, r, o) {
          const n = Object.create(ReadableStreamDefaultController.prototype);
          let a = () => {},
            i = () => d(void 0),
            l = () => d(void 0);
          void 0 !== t.start && (a = () => t.start(n)), void 0 !== t.pull && (i = () => t.pull(n)), void 0 !== t.cancel && (l = e => t.cancel(e)), Zt(e, n, a, i, l, r, o);
        }(this, o, Ne(r, 1), e);
      }
    }
    get locked() {
      if (!dr(this)) throw mr("locked");
      return fr(this);
    }
    cancel(e) {
      return dr(this) ? fr(this) ? f(new TypeError("Cannot cancel a stream that already has a reader")) : br(this, e) : f(mr("cancel"));
    }
    getReader(e) {
      if (!dr(this)) throw mr("getReader");
      return void 0 === function (e, t) {
        L(e, t);
        const r = null == e ? void 0 : e.mode;
        return {
          mode: void 0 === r ? void 0 : ir(r, `${t} has member 'mode' that`)
        };
      }(e, "First parameter").mode ? H(this) : Fe(this);
    }
    pipeThrough(e, t = {}) {
      if (!dr(this)) throw mr("pipeThrough");
      $(e, 1, "pipeThrough");
      const r = function (e, t) {
          L(e, t);
          const r = null == e ? void 0 : e.readable;
          M(r, "readable", "ReadableWritablePair"), N(r, `${t} has member 'readable' that`);
          const o = null == e ? void 0 : e.writable;
          return M(o, "writable", "ReadableWritablePair"), Ze(o, `${t} has member 'writable' that`), {
            readable: r,
            writable: o
          };
        }(e, "First parameter"),
        o = lr(t, "Second parameter");
      if (fr(this)) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");
      if (nt(r.writable)) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");
      return y(Yt(this, r.writable, o.preventClose, o.preventAbort, o.preventCancel, o.signal)), r.readable;
    }
    pipeTo(e, t = {}) {
      if (!dr(this)) return f(mr("pipeTo"));
      if (void 0 === e) return f("Parameter 1 is required in 'pipeTo'.");
      if (!ot(e)) return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));
      let r;
      try {
        r = lr(t, "Second parameter");
      } catch (e) {
        return f(e);
      }
      return fr(this) ? f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")) : nt(e) ? f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")) : Yt(this, e, r.preventClose, r.preventAbort, r.preventCancel, r.signal);
    }
    tee() {
      if (!dr(this)) throw mr("tee");
      return ie(tr(this));
    }
    values(e) {
      if (!dr(this)) throw mr("values");
      return function (e, t) {
        const r = H(e),
          o = new te(r, t),
          n = Object.create(re);
        return n._asyncIteratorImpl = o, n;
      }(this, function (e, t) {
        L(e, t);
        const r = null == e ? void 0 : e.preventCancel;
        return {
          preventCancel: Boolean(r)
        };
      }(e, "First parameter").preventCancel);
    }
  }
  function sr(e, t, r, o = 1, n = () => 1) {
    const a = Object.create(ReadableStream.prototype);
    cr(a);
    return Zt(a, Object.create(ReadableStreamDefaultController.prototype), e, t, r, o, n), a;
  }
  function ur(e, t, r) {
    const o = Object.create(ReadableStream.prototype);
    cr(o);
    return ze(o, Object.create(ReadableByteStreamController.prototype), e, t, r, 0, void 0), o;
  }
  function cr(e) {
    e._state = "readable", e._reader = void 0, e._storedError = void 0, e._disturbed = !1;
  }
  function dr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_readableStreamController") && e instanceof ReadableStream;
  }
  function fr(e) {
    return void 0 !== e._reader;
  }
  function br(e, t) {
    if (e._disturbed = !0, "closed" === e._state) return d(void 0);
    if ("errored" === e._state) return f(e._storedError);
    hr(e);
    const o = e._reader;
    void 0 !== o && Qe(o) && (o._readIntoRequests.forEach(e => {
      e._closeSteps(void 0);
    }), o._readIntoRequests = new w());
    return p(e._readableStreamController[j](t), r);
  }
  function hr(e) {
    e._state = "closed";
    const t = e._reader;
    void 0 !== t && (O(t), J(t) && (t._readRequests.forEach(e => {
      e._closeSteps();
    }), t._readRequests = new w()));
  }
  function _r(e, t) {
    e._state = "errored", e._storedError = t;
    const r = e._reader;
    void 0 !== r && (W(r, t), J(r) ? (r._readRequests.forEach(e => {
      e._errorSteps(t);
    }), r._readRequests = new w()) : (r._readIntoRequests.forEach(e => {
      e._errorSteps(t);
    }), r._readIntoRequests = new w()));
  }
  function mr(e) {
    return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`);
  }
  function pr(e, t) {
    L(e, t);
    const r = null == e ? void 0 : e.highWaterMark;
    return M(r, "highWaterMark", "QueuingStrategyInit"), {
      highWaterMark: Q(r)
    };
  }
  Object.defineProperties(ReadableStream.prototype, {
    cancel: {
      enumerable: !0
    },
    getReader: {
      enumerable: !0
    },
    pipeThrough: {
      enumerable: !0
    },
    pipeTo: {
      enumerable: !0
    },
    tee: {
      enumerable: !0
    },
    values: {
      enumerable: !0
    },
    locked: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStream.prototype, t.toStringTag, {
    value: "ReadableStream",
    configurable: !0
  }), "symbol" == typeof t.asyncIterator && Object.defineProperty(ReadableStream.prototype, t.asyncIterator, {
    value: ReadableStream.prototype.values,
    writable: !0,
    configurable: !0
  });
  const yr = e => e.byteLength;
  try {
    Object.defineProperty(yr, "name", {
      value: "size",
      configurable: !0
    });
  } catch (e) {}
  class ByteLengthQueuingStrategy {
    constructor(e) {
      $(e, 1, "ByteLengthQueuingStrategy"), e = pr(e, "First parameter"), this._byteLengthQueuingStrategyHighWaterMark = e.highWaterMark;
    }
    get highWaterMark() {
      if (!Sr(this)) throw gr("highWaterMark");
      return this._byteLengthQueuingStrategyHighWaterMark;
    }
    get size() {
      if (!Sr(this)) throw gr("size");
      return yr;
    }
  }
  function gr(e) {
    return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`);
  }
  function Sr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_byteLengthQueuingStrategyHighWaterMark") && e instanceof ByteLengthQueuingStrategy;
  }
  Object.defineProperties(ByteLengthQueuingStrategy.prototype, {
    highWaterMark: {
      enumerable: !0
    },
    size: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ByteLengthQueuingStrategy.prototype, t.toStringTag, {
    value: "ByteLengthQueuingStrategy",
    configurable: !0
  });
  const vr = () => 1;
  try {
    Object.defineProperty(vr, "name", {
      value: "size",
      configurable: !0
    });
  } catch (e) {}
  class CountQueuingStrategy {
    constructor(e) {
      $(e, 1, "CountQueuingStrategy"), e = pr(e, "First parameter"), this._countQueuingStrategyHighWaterMark = e.highWaterMark;
    }
    get highWaterMark() {
      if (!Rr(this)) throw wr("highWaterMark");
      return this._countQueuingStrategyHighWaterMark;
    }
    get size() {
      if (!Rr(this)) throw wr("size");
      return vr;
    }
  }
  function wr(e) {
    return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`);
  }
  function Rr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_countQueuingStrategyHighWaterMark") && e instanceof CountQueuingStrategy;
  }
  function Tr(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function Cr(e, t, r) {
    return F(e, r), r => S(e, t, [r]);
  }
  function Pr(e, t, r) {
    return F(e, r), (r, o) => v(e, t, [r, o]);
  }
  Object.defineProperties(CountQueuingStrategy.prototype, {
    highWaterMark: {
      enumerable: !0
    },
    size: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(CountQueuingStrategy.prototype, t.toStringTag, {
    value: "CountQueuingStrategy",
    configurable: !0
  });
  class TransformStream {
    constructor(e = {}, t = {}, r = {}) {
      void 0 === e && (e = null);
      const o = Ve(t, "Second parameter"),
        n = Ve(r, "Third parameter"),
        a = function (e, t) {
          L(e, t);
          const r = null == e ? void 0 : e.flush,
            o = null == e ? void 0 : e.readableType,
            n = null == e ? void 0 : e.start,
            a = null == e ? void 0 : e.transform,
            i = null == e ? void 0 : e.writableType;
          return {
            flush: void 0 === r ? void 0 : Tr(r, e, `${t} has member 'flush' that`),
            readableType: o,
            start: void 0 === n ? void 0 : Cr(n, e, `${t} has member 'start' that`),
            transform: void 0 === a ? void 0 : Pr(a, e, `${t} has member 'transform' that`),
            writableType: i
          };
        }(e, "First parameter");
      if (void 0 !== a.readableType) throw new RangeError("Invalid readableType specified");
      if (void 0 !== a.writableType) throw new RangeError("Invalid writableType specified");
      const i = Ne(n, 0),
        l = He(n),
        s = Ne(o, 1),
        u = He(o);
      let b;
      !function (e, t, r, o, n, a) {
        function i() {
          return t;
        }
        function l(t) {
          return function (e, t) {
            const r = e._transformStreamController;
            if (e._backpressure) {
              return p(e._backpressureChangePromise, () => {
                const o = e._writable;
                if ("erroring" === o._state) throw o._storedError;
                return Ar(r, t);
              });
            }
            return Ar(r, t);
          }(e, t);
        }
        function s(t) {
          return function (e, t) {
            return Er(e, t), d(void 0);
          }(e, t);
        }
        function u() {
          return function (e) {
            const t = e._readable,
              r = e._transformStreamController,
              o = r._flushAlgorithm();
            return kr(r), p(o, () => {
              if ("errored" === t._state) throw t._storedError;
              Ut(t._readableStreamController);
            }, r => {
              throw Er(e, r), t._storedError;
            });
          }(e);
        }
        function c() {
          return function (e) {
            return Or(e, !1), e._backpressureChangePromise;
          }(e);
        }
        function f(t) {
          return Wr(e, t), d(void 0);
        }
        e._writable = function (e, t, r, o, n = 1, a = () => 1) {
          const i = Object.create(WritableStream.prototype);
          return rt(i), vt(i, Object.create(WritableStreamDefaultController.prototype), e, t, r, o, n, a), i;
        }(i, l, u, s, r, o), e._readable = sr(i, c, f, n, a), e._backpressure = void 0, e._backpressureChangePromise = void 0, e._backpressureChangePromise_resolve = void 0, Or(e, !0), e._transformStreamController = void 0;
      }(this, c(e => {
        b = e;
      }), s, u, i, l), function (e, t) {
        const r = Object.create(TransformStreamDefaultController.prototype);
        let o = e => {
            try {
              return jr(r, e), d(void 0);
            } catch (e) {
              return f(e);
            }
          },
          n = () => d(void 0);
        void 0 !== t.transform && (o = e => t.transform(e, r));
        void 0 !== t.flush && (n = () => t.flush(r));
        !function (e, t, r, o) {
          t._controlledTransformStream = e, e._transformStreamController = t, t._transformAlgorithm = r, t._flushAlgorithm = o;
        }(e, r, o, n);
      }(this, a), void 0 !== a.start ? b(a.start(this._transformStreamController)) : b(void 0);
    }
    get readable() {
      if (!qr(this)) throw Dr("readable");
      return this._readable;
    }
    get writable() {
      if (!qr(this)) throw Dr("writable");
      return this._writable;
    }
  }
  function qr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_transformStreamController") && e instanceof TransformStream;
  }
  function Er(e, t) {
    Xt(e._readable._readableStreamController, t), Wr(e, t);
  }
  function Wr(e, t) {
    kr(e._transformStreamController), Ct(e._writable._writableStreamController, t), e._backpressure && Or(e, !1);
  }
  function Or(e, t) {
    void 0 !== e._backpressureChangePromise && e._backpressureChangePromise_resolve(), e._backpressureChangePromise = c(t => {
      e._backpressureChangePromise_resolve = t;
    }), e._backpressure = t;
  }
  Object.defineProperties(TransformStream.prototype, {
    readable: {
      enumerable: !0
    },
    writable: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(TransformStream.prototype, t.toStringTag, {
    value: "TransformStream",
    configurable: !0
  });
  class TransformStreamDefaultController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get desiredSize() {
      if (!Br(this)) throw zr("desiredSize");
      return Jt(this._controlledTransformStream._readable._readableStreamController);
    }
    enqueue(e) {
      if (!Br(this)) throw zr("enqueue");
      jr(this, e);
    }
    error(e) {
      if (!Br(this)) throw zr("error");
      var t;
      t = e, Er(this._controlledTransformStream, t);
    }
    terminate() {
      if (!Br(this)) throw zr("terminate");
      !function (e) {
        const t = e._controlledTransformStream;
        Ut(t._readable._readableStreamController);
        const r = new TypeError("TransformStream terminated");
        Wr(t, r);
      }(this);
    }
  }
  function Br(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledTransformStream") && e instanceof TransformStreamDefaultController;
  }
  function kr(e) {
    e._transformAlgorithm = void 0, e._flushAlgorithm = void 0;
  }
  function jr(e, t) {
    const r = e._controlledTransformStream,
      o = r._readable._readableStreamController;
    if (!Kt(o)) throw new TypeError("Readable side is not in a state that permits enqueue");
    try {
      Gt(o, t);
    } catch (e) {
      throw Wr(r, e), r._readable._storedError;
    }
    (function (e) {
      return !Ht(e);
    })(o) !== r._backpressure && Or(r, !0);
  }
  function Ar(e, t) {
    return p(e._transformAlgorithm(t), void 0, t => {
      throw Er(e._controlledTransformStream, t), t;
    });
  }
  function zr(e) {
    return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`);
  }
  function Dr(e) {
    return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`);
  }
  Object.defineProperties(TransformStreamDefaultController.prototype, {
    enqueue: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    },
    terminate: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(TransformStreamDefaultController.prototype, t.toStringTag, {
    value: "TransformStreamDefaultController",
    configurable: !0
  });
  const Lr = {
    ReadableStream: ReadableStream,
    ReadableStreamDefaultController: ReadableStreamDefaultController,
    ReadableByteStreamController: ReadableByteStreamController,
    ReadableStreamBYOBRequest: ReadableStreamBYOBRequest,
    ReadableStreamDefaultReader: ReadableStreamDefaultReader,
    ReadableStreamBYOBReader: ReadableStreamBYOBReader,
    WritableStream: WritableStream,
    WritableStreamDefaultController: WritableStreamDefaultController,
    WritableStreamDefaultWriter: WritableStreamDefaultWriter,
    ByteLengthQueuingStrategy: ByteLengthQueuingStrategy,
    CountQueuingStrategy: CountQueuingStrategy,
    TransformStream: TransformStream,
    TransformStreamDefaultController: TransformStreamDefaultController
  };
  if (void 0 !== o) for (const e in Lr) Object.prototype.hasOwnProperty.call(Lr, e) && Object.defineProperty(o, e, {
    value: Lr[e],
    writable: !0,
    configurable: !0
  });
  e.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy, e.CountQueuingStrategy = CountQueuingStrategy, e.ReadableByteStreamController = ReadableByteStreamController, e.ReadableStream = ReadableStream, e.ReadableStreamBYOBReader = ReadableStreamBYOBReader, e.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest, e.ReadableStreamDefaultController = ReadableStreamDefaultController, e.ReadableStreamDefaultReader = ReadableStreamDefaultReader, e.TransformStream = TransformStream, e.TransformStreamDefaultController = TransformStreamDefaultController, e.WritableStream = WritableStream, e.WritableStreamDefaultController = WritableStreamDefaultController, e.WritableStreamDefaultWriter = WritableStreamDefaultWriter, Object.defineProperty(e, "__esModule", {
    value: !0
  });
});

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfd2ViLXN0cmVhbXMtcG9seWZpbGxfZGlzdF9wb2x5ZmlsbF9lczIwMThfbWluX2pzLmNvbW0tc2Vydi1kZXYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0VBRUEsTUFBTUEsQ0FBQSxHQUNjLHFCQUFYQyxNQUFBLElBQW9ELG1CQUFwQkEsTUFBQSxDQUFPQyxRQUFBLEdBQzVDRCxNQUFBLEdBQ0FFLENBQUEsSUFBZSxVQUFVQSxDQUFBO0VBQUEsU0NIYkMsRUFBQTtFQWVULE1BQU1DLENBQUEsR0FWUyxzQkFBVEMsSUFBQSxHQUNGQSxJQUFBLEdBQ29CLHNCQUFYQyxNQUFBLEdBQ1RBLE1BQUEsR0FDb0Isc0JBQVhDLE1BQUEsR0FDVEEsTUFBQSxRQURGO0VBQUEsU0NST0MsRUFBYU4sQ0FBQTtJQUMzQixPQUFxQixtQkFBTkEsQ0FBQSxJQUF3QixTQUFOQSxDQUFBLElBQTRCLHFCQUFOQSxDQUFBO0VBQUE7RUFHbEQsTUFBTU8sQ0FBQSxHQVVQTixDQUFBO0lDYkFPLENBQUEsR0FBa0JDLE9BQUE7SUFDbEJDLENBQUEsR0FBc0JELE9BQUEsQ0FBUUUsU0FBQSxDQUFVQyxJQUFBO0lBQ3hDQyxDQUFBLEdBQXlCSixPQUFBLENBQVFLLE9BQUEsQ0FBUUMsSUFBQSxDQUFLUCxDQUFBO0lBQzlDUSxDQUFBLEdBQXdCUCxPQUFBLENBQVFRLE1BQUEsQ0FBT0YsSUFBQSxDQUFLUCxDQUFBO0VBQUEsU0FFbENVLEVBQWNsQixDQUFBO0lBSTVCLE9BQU8sSUFBSVEsQ0FBQSxDQUFnQlIsQ0FBQTtFQUFBO0VBQUEsU0FHYm1CLEVBQXVCbkIsQ0FBQTtJQUNyQyxPQUFPYSxDQUFBLENBQXVCYixDQUFBO0VBQUE7RUFBQSxTQUdoQm9CLEVBQStCcEIsQ0FBQTtJQUM3QyxPQUFPZ0IsQ0FBQSxDQUFzQmhCLENBQUE7RUFBQTtFQUFBLFNBR2ZxQixFQUNkckIsQ0FBQSxFQUNBSCxDQUFBLEVBQ0FJLENBQUE7SUFHQSxPQUFPUyxD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LEVBQUFwSixNQUFBLENBQUFPLGNBQUEsQ0FBQWxILENBQUE7SUFBQXVHLEtBQUE7RUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9zdHViL3N5bWJvbC50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2hlbHBlcnMvbWlzY2VsbGFuZW91cy50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9oZWxwZXJzL3dlYmlkbC50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9zaW1wbGUtcXVldWUudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL2dlbmVyaWMtcmVhZGVyLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2Fic3RyYWN0LW9wcy9pbnRlcm5hbC1tZXRob2RzLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvc3R1Yi9udW1iZXItaXNmaW5pdGUudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9zdHViL21hdGgtdHJ1bmMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy9iYXNpYy50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3JlYWRhYmxlLXN0cmVhbS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9yZWFkYWJsZS1zdHJlYW0vZGVmYXVsdC1yZWFkZXIudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy90YXJnZXQvZXMyMDE4L3N0dWIvYXN5bmMtaXRlcmF0b3ItcHJvdG90eXBlLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3JlYWRhYmxlLXN0cmVhbS9hc3luYy1pdGVyYXRvci50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3N0dWIvbnVtYmVyLWlzbmFuLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2Fic3RyYWN0LW9wcy9lY21hc2NyaXB0LnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2Fic3RyYWN0LW9wcy9taXNjZWxsYW5lb3VzLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2Fic3RyYWN0LW9wcy9xdWV1ZS13aXRoLXNpemVzLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3JlYWRhYmxlLXN0cmVhbS9ieXRlLXN0cmVhbS1jb250cm9sbGVyLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3JlYWRhYmxlLXN0cmVhbS9ieW9iLXJlYWRlci50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9hYnN0cmFjdC1vcHMvcXVldWluZy1zdHJhdGVneS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3F1ZXVpbmctc3RyYXRlZ3kudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy91bmRlcmx5aW5nLXNpbmsudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy93cml0YWJsZS1zdHJlYW0udHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvYWJvcnQtc2lnbmFsLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3dyaXRhYmxlLXN0cmVhbS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3N0dWIvbmF0aXZlLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvc3R1Yi9kb20tZXhjZXB0aW9uLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3JlYWRhYmxlLXN0cmVhbS9waXBlLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3JlYWRhYmxlLXN0cmVhbS9kZWZhdWx0LWNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL3RlZS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3VuZGVybHlpbmctc291cmNlLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvcmVhZGVyLW9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy9waXBlLW9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvcmVhZGFibGUtd3JpdGFibGUtcGFpci50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL2l0ZXJhdG9yLW9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy9xdWV1aW5nLXN0cmF0ZWd5LWluaXQudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvYnl0ZS1sZW5ndGgtcXVldWluZy1zdHJhdGVneS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9jb3VudC1xdWV1aW5nLXN0cmF0ZWd5LnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvdHJhbnNmb3JtZXIudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdHJhbnNmb3JtLXN0cmVhbS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3BvbHlmaWxsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIGxpYj1cImVzMjAxNS5zeW1ib2xcIiAvPlxuXG5jb25zdCBTeW1ib2xQb2x5ZmlsbDogKGRlc2NyaXB0aW9uPzogc3RyaW5nKSA9PiBzeW1ib2wgPVxuICB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnID9cbiAgICBTeW1ib2wgOlxuICAgIGRlc2NyaXB0aW9uID0+IGBTeW1ib2woJHtkZXNjcmlwdGlvbn0pYCBhcyBhbnkgYXMgc3ltYm9sO1xuXG5leHBvcnQgZGVmYXVsdCBTeW1ib2xQb2x5ZmlsbDtcbiIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbVwiIC8+XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCk6IHVuZGVmaW5lZCB7XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGdldEdsb2JhbHMoKSB7XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZ2xvYmFsO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBnbG9iYWxzID0gZ2V0R2xvYmFscygpO1xuIiwiaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IEFzc2VydGlvbkVycm9yIH0gZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gdHlwZUlzT2JqZWN0KHg6IGFueSk6IHggaXMgb2JqZWN0IHtcbiAgcmV0dXJuICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCkgfHwgdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5cbmV4cG9ydCBjb25zdCByZXRocm93QXNzZXJ0aW9uRXJyb3JSZWplY3Rpb246IChlOiBhbnkpID0+IHZvaWQgPVxuICBERUJVRyA/IGUgPT4ge1xuICAgIC8vIFVzZWQgdGhyb3VnaG91dCB0aGUgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uLCBhcyBgLmNhdGNoKHJldGhyb3dBc3NlcnRpb25FcnJvclJlamVjdGlvbilgLCB0byBlbnN1cmUgYW55IGVycm9yc1xuICAgIC8vIGdldCBzaG93bi4gVGhlcmUgYXJlIHBsYWNlcyBpbiB0aGUgc3BlYyB3aGVyZSB3ZSBkbyBwcm9taXNlIHRyYW5zZm9ybWF0aW9ucyBhbmQgcHVycG9zZWZ1bGx5IGlnbm9yZSBvciBkb24ndFxuICAgIC8vIGV4cGVjdCBhbnkgZXJyb3JzLCBidXQgYXNzZXJ0aW9uIGVycm9ycyBhcmUgYWx3YXlzIHByb2JsZW1hdGljLlxuICAgIGlmIChlICYmIGUgaW5zdGFuY2VvZiBBc3NlcnRpb25FcnJvcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH0gOiBub29wO1xuIiwiaW1wb3J0IHsgZ2xvYmFscyB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCB7IHJldGhyb3dBc3NlcnRpb25FcnJvclJlamVjdGlvbiB9IGZyb20gJy4vbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcblxuY29uc3Qgb3JpZ2luYWxQcm9taXNlID0gUHJvbWlzZTtcbmNvbnN0IG9yaWdpbmFsUHJvbWlzZVRoZW4gPSBQcm9taXNlLnByb3RvdHlwZS50aGVuO1xuY29uc3Qgb3JpZ2luYWxQcm9taXNlUmVzb2x2ZSA9IFByb21pc2UucmVzb2x2ZS5iaW5kKG9yaWdpbmFsUHJvbWlzZSk7XG5jb25zdCBvcmlnaW5hbFByb21pc2VSZWplY3QgPSBQcm9taXNlLnJlamVjdC5iaW5kKG9yaWdpbmFsUHJvbWlzZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdQcm9taXNlPFQ+KGV4ZWN1dG9yOiAoXG4gIHJlc29sdmU6ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkLFxuICByZWplY3Q6IChyZWFzb24/OiBhbnkpID0+IHZvaWRcbikgPT4gdm9pZCk6IFByb21pc2U8VD4ge1xuICByZXR1cm4gbmV3IG9yaWdpbmFsUHJvbWlzZShleGVjdXRvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlUmVzb2x2ZWRXaXRoPFQ+KHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pOiBQcm9taXNlPFQ+IHtcbiAgcmV0dXJuIG9yaWdpbmFsUHJvbWlzZVJlc29sdmUodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZVJlamVjdGVkV2l0aDxUID0gbmV2ZXI+KHJlYXNvbjogYW55KTogUHJvbWlzZTxUPiB7XG4gIHJldHVybiBvcmlnaW5hbFByb21pc2VSZWplY3QocmVhc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBlcmZvcm1Qcm9taXNlVGhlbjxULCBUUmVzdWx0MSA9IFQsIFRSZXN1bHQyID0gbmV2ZXI+KFxuICBwcm9taXNlOiBQcm9taXNlPFQ+LFxuICBvbkZ1bGZpbGxlZD86ICh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT4sXG4gIG9uUmVqZWN0ZWQ/OiAocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+KTogUHJvbWlzZTxUUmVzdWx0MSB8IFRSZXN1bHQyPiB7XG4gIC8vIFRoZXJlIGRvZXNuJ3QgYXBwZWFyIHRvIGJlIGFueSB3YXkgdG8gY29ycmVjdGx5IGVtdWxhdGUgdGhlIGJlaGF2aW91ciBmcm9tIEphdmFTY3JpcHQsIHNvIHRoaXMgaXMganVzdCBhblxuICAvLyBhcHByb3hpbWF0aW9uLlxuICByZXR1cm4gb3JpZ2luYWxQcm9taXNlVGhlbi5jYWxsKHByb21pc2UsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSBhcyBQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBvblByb21pc2U8VD4oXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIG9uRnVsZmlsbGVkPzogKHZhbHVlOiBUKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4sXG4gIG9uUmVqZWN0ZWQ/OiAocmVhc29uOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPik6IHZvaWQge1xuICBQZXJmb3JtUHJvbWlzZVRoZW4oXG4gICAgUGVyZm9ybVByb21pc2VUaGVuKHByb21pc2UsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSxcbiAgICB1bmRlZmluZWQsXG4gICAgcmV0aHJvd0Fzc2VydGlvbkVycm9yUmVqZWN0aW9uXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cG9uRnVsZmlsbG1lbnQ8VD4ocHJvbWlzZTogUHJvbWlzZTxUPiwgb25GdWxmaWxsZWQ6ICh2YWx1ZTogVCkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+KTogdm9pZCB7XG4gIHVwb25Qcm9taXNlKHByb21pc2UsIG9uRnVsZmlsbGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwb25SZWplY3Rpb24ocHJvbWlzZTogUHJvbWlzZTx1bmtub3duPiwgb25SZWplY3RlZDogKHJlYXNvbjogYW55KSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4pOiB2b2lkIHtcbiAgdXBvblByb21pc2UocHJvbWlzZSwgdW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVByb21pc2VXaXRoPFQsIFRSZXN1bHQxID0gVCwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIGZ1bGZpbGxtZW50SGFuZGxlcj86ICh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT4sXG4gIHJlamVjdGlvbkhhbmRsZXI/OiAocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+KTogUHJvbWlzZTxUUmVzdWx0MSB8IFRSZXN1bHQyPiB7XG4gIHJldHVybiBQZXJmb3JtUHJvbWlzZVRoZW4ocHJvbWlzZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb21pc2VJc0hhbmRsZWRUb1RydWUocHJvbWlzZTogUHJvbWlzZTx1bmtub3duPik6IHZvaWQge1xuICBQZXJmb3JtUHJvbWlzZVRoZW4ocHJvbWlzZSwgdW5kZWZpbmVkLCByZXRocm93QXNzZXJ0aW9uRXJyb3JSZWplY3Rpb24pO1xufVxuXG5leHBvcnQgY29uc3QgcXVldWVNaWNyb3Rhc2s6IChmbjogKCkgPT4gdm9pZCkgPT4gdm9pZCA9ICgoKSA9PiB7XG4gIGNvbnN0IGdsb2JhbFF1ZXVlTWljcm90YXNrID0gZ2xvYmFscyAmJiBnbG9iYWxzLnF1ZXVlTWljcm90YXNrO1xuICBpZiAodHlwZW9mIGdsb2JhbFF1ZXVlTWljcm90YXNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGdsb2JhbFF1ZXVlTWljcm90YXNrO1xuICB9XG5cbiAgY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICByZXR1cm4gKGZuOiAoKSA9PiB2b2lkKSA9PiBQZXJmb3JtUHJvbWlzZVRoZW4ocmVzb2x2ZWRQcm9taXNlLCBmbik7XG59KSgpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdENhbGw8VCwgQSBleHRlbmRzIGFueVtdLCBSPihGOiAodGhpczogVCwgLi4uZm5BcmdzOiBBKSA9PiBSLCBWOiBULCBhcmdzOiBBKTogUiB7XG4gIGlmICh0eXBlb2YgRiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gIH1cbiAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKEYsIFYsIGFyZ3MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZUNhbGw8VCwgQSBleHRlbmRzIGFueVtdLCBSPihGOiAodGhpczogVCwgLi4uZm5BcmdzOiBBKSA9PiBSIHwgUHJvbWlzZUxpa2U8Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWOiBULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogQSk6IFByb21pc2U8Uj4ge1xuICBhc3NlcnQodHlwZW9mIEYgPT09ICdmdW5jdGlvbicpO1xuICBhc3NlcnQoViAhPT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KEFycmF5LmlzQXJyYXkoYXJncykpO1xuICB0cnkge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHJlZmxlY3RDYWxsKEYsIFYsIGFyZ3MpKTtcbiAgfSBjYXRjaCAodmFsdWUpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aCh2YWx1ZSk7XG4gIH1cbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnLi4vc3R1Yi9hc3NlcnQnO1xuXG4vLyBPcmlnaW5hbCBmcm9tIENocm9taXVtXG4vLyBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vY2hyb21pdW0vc3JjLysvMGFlZTQ0MzRhNGRiYTQyYTQyYWJhZWE5YmZiYzBjZDE5NmE2M2JjMS90aGlyZF9wYXJ0eS9ibGluay9yZW5kZXJlci9jb3JlL3N0cmVhbXMvU2ltcGxlUXVldWUuanNcblxuY29uc3QgUVVFVUVfTUFYX0FSUkFZX1NJWkUgPSAxNjM4NDtcblxuaW50ZXJmYWNlIE5vZGU8VD4ge1xuICBfZWxlbWVudHM6IFRbXTtcbiAgX25leHQ6IE5vZGU8VD4gfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogU2ltcGxlIHF1ZXVlIHN0cnVjdHVyZS5cbiAqXG4gKiBBdm9pZHMgc2NhbGFiaWxpdHkgaXNzdWVzIHdpdGggdXNpbmcgYSBwYWNrZWQgYXJyYXkgZGlyZWN0bHkgYnkgdXNpbmdcbiAqIG11bHRpcGxlIGFycmF5cyBpbiBhIGxpbmtlZCBsaXN0IGFuZCBrZWVwaW5nIHRoZSBhcnJheSBzaXplIGJvdW5kZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVRdWV1ZTxUPiB7XG4gIHByaXZhdGUgX2Zyb250OiBOb2RlPFQ+O1xuICBwcml2YXRlIF9iYWNrOiBOb2RlPFQ+O1xuICBwcml2YXRlIF9jdXJzb3IgPSAwO1xuICBwcml2YXRlIF9zaXplID0gMDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBfZnJvbnQgYW5kIF9iYWNrIGFyZSBhbHdheXMgZGVmaW5lZC5cbiAgICB0aGlzLl9mcm9udCA9IHtcbiAgICAgIF9lbGVtZW50czogW10sXG4gICAgICBfbmV4dDogdW5kZWZpbmVkXG4gICAgfTtcbiAgICB0aGlzLl9iYWNrID0gdGhpcy5fZnJvbnQ7XG4gICAgLy8gVGhlIGN1cnNvciBpcyB1c2VkIHRvIGF2b2lkIGNhbGxpbmcgQXJyYXkuc2hpZnQoKS5cbiAgICAvLyBJdCBjb250YWlucyB0aGUgaW5kZXggb2YgdGhlIGZyb250IGVsZW1lbnQgb2YgdGhlIGFycmF5IGluc2lkZSB0aGVcbiAgICAvLyBmcm9udC1tb3N0IG5vZGUuIEl0IGlzIGFsd2F5cyBpbiB0aGUgcmFuZ2UgWzAsIFFVRVVFX01BWF9BUlJBWV9TSVpFKS5cbiAgICB0aGlzLl9jdXJzb3IgPSAwO1xuICAgIC8vIFdoZW4gdGhlcmUgaXMgb25seSBvbmUgbm9kZSwgc2l6ZSA9PT0gZWxlbWVudHMubGVuZ3RoIC0gY3Vyc29yLlxuICAgIHRoaXMuX3NpemUgPSAwO1xuICB9XG5cbiAgZ2V0IGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9zaXplO1xuICB9XG5cbiAgLy8gRm9yIGV4Y2VwdGlvbiBzYWZldHksIHRoaXMgbWV0aG9kIGlzIHN0cnVjdHVyZWQgaW4gb3JkZXI6XG4gIC8vIDEuIFJlYWQgc3RhdGVcbiAgLy8gMi4gQ2FsY3VsYXRlIHJlcXVpcmVkIHN0YXRlIG11dGF0aW9uc1xuICAvLyAzLiBQZXJmb3JtIHN0YXRlIG11dGF0aW9uc1xuICBwdXNoKGVsZW1lbnQ6IFQpOiB2b2lkIHtcbiAgICBjb25zdCBvbGRCYWNrID0gdGhpcy5fYmFjaztcbiAgICBsZXQgbmV3QmFjayA9IG9sZEJhY2s7XG4gICAgYXNzZXJ0KG9sZEJhY2suX25leHQgPT09IHVuZGVmaW5lZCk7XG4gICAgaWYgKG9sZEJhY2suX2VsZW1lbnRzLmxlbmd0aCA9PT0gUVVFVUVfTUFYX0FSUkFZX1NJWkUgLSAxKSB7XG4gICAgICBuZXdCYWNrID0ge1xuICAgICAgICBfZWxlbWVudHM6IFtdLFxuICAgICAgICBfbmV4dDogdW5kZWZpbmVkXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIHB1c2goKSBpcyB0aGUgbXV0YXRpb24gbW9zdCBsaWtlbHkgdG8gdGhyb3cgYW4gZXhjZXB0aW9uLCBzbyBpdFxuICAgIC8vIGdvZXMgZmlyc3QuXG4gICAgb2xkQmFjay5fZWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICBpZiAobmV3QmFjayAhPT0gb2xkQmFjaykge1xuICAgICAgdGhpcy5fYmFjayA9IG5ld0JhY2s7XG4gICAgICBvbGRCYWNrLl9uZXh0ID0gbmV3QmFjaztcbiAgICB9XG4gICAgKyt0aGlzLl9zaXplO1xuICB9XG5cbiAgLy8gTGlrZSBwdXNoKCksIHNoaWZ0KCkgZm9sbG93cyB0aGUgcmVhZCAtPiBjYWxjdWxhdGUgLT4gbXV0YXRlIHBhdHRlcm4gZm9yXG4gIC8vIGV4Y2VwdGlvbiBzYWZldHkuXG4gIHNoaWZ0KCk6IFQge1xuICAgIGFzc2VydCh0aGlzLl9zaXplID4gMCk7IC8vIG11c3Qgbm90IGJlIGNhbGxlZCBvbiBhbiBlbXB0eSBxdWV1ZVxuXG4gICAgY29uc3Qgb2xkRnJvbnQgPSB0aGlzLl9mcm9udDtcbiAgICBsZXQgbmV3RnJvbnQgPSBvbGRGcm9udDtcbiAgICBjb25zdCBvbGRDdXJzb3IgPSB0aGlzLl9jdXJzb3I7XG4gICAgbGV0IG5ld0N1cnNvciA9IG9sZEN1cnNvciArIDE7XG5cbiAgICBjb25zdCBlbGVtZW50cyA9IG9sZEZyb250Ll9lbGVtZW50cztcbiAgICBjb25zdCBlbGVtZW50ID0gZWxlbWVudHNbb2xkQ3Vyc29yXTtcblxuICAgIGlmIChuZXdDdXJzb3IgPT09IFFVRVVFX01BWF9BUlJBWV9TSVpFKSB7XG4gICAgICBhc3NlcnQoZWxlbWVudHMubGVuZ3RoID09PSBRVUVVRV9NQVhfQVJSQVlfU0laRSk7XG4gICAgICBhc3NlcnQob2xkRnJvbnQuX25leHQgIT09IHVuZGVmaW5lZCk7XG4gICAgICBuZXdGcm9udCA9IG9sZEZyb250Ll9uZXh0ITtcbiAgICAgIG5ld0N1cnNvciA9IDA7XG4gICAgfVxuXG4gICAgLy8gTm8gbXV0YXRpb25zIGJlZm9yZSB0aGlzIHBvaW50LlxuICAgIC0tdGhpcy5fc2l6ZTtcbiAgICB0aGlzLl9jdXJzb3IgPSBuZXdDdXJzb3I7XG4gICAgaWYgKG9sZEZyb250ICE9PSBuZXdGcm9udCkge1xuICAgICAgdGhpcy5fZnJvbnQgPSBuZXdGcm9udDtcbiAgICB9XG5cbiAgICAvLyBQZXJtaXQgc2hpZnRlZCBlbGVtZW50IHRvIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuICAgIGVsZW1lbnRzW29sZEN1cnNvcl0gPSB1bmRlZmluZWQhO1xuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICAvLyBUaGUgdHJpY2t5IHRoaW5nIGFib3V0IGZvckVhY2goKSBpcyB0aGF0IGl0IGNhbiBiZSBjYWxsZWRcbiAgLy8gcmUtZW50cmFudGx5LiBUaGUgcXVldWUgbWF5IGJlIG11dGF0ZWQgaW5zaWRlIHRoZSBjYWxsYmFjay4gSXQgaXMgZWFzeSB0b1xuICAvLyBzZWUgdGhhdCBwdXNoKCkgd2l0aGluIHRoZSBjYWxsYmFjayBoYXMgbm8gbmVnYXRpdmUgZWZmZWN0cyBzaW5jZSB0aGUgZW5kXG4gIC8vIG9mIHRoZSBxdWV1ZSBpcyBjaGVja2VkIGZvciBvbiBldmVyeSBpdGVyYXRpb24uIElmIHNoaWZ0KCkgaXMgY2FsbGVkXG4gIC8vIHJlcGVhdGVkbHkgd2l0aGluIHRoZSBjYWxsYmFjayB0aGVuIHRoZSBuZXh0IGl0ZXJhdGlvbiBtYXkgcmV0dXJuIGFuXG4gIC8vIGVsZW1lbnQgdGhhdCBoYXMgYmVlbiByZW1vdmVkLiBJbiB0aGlzIGNhc2UgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkXG4gIC8vIHdpdGggdW5kZWZpbmVkIHZhbHVlcyB1bnRpbCB3ZSBlaXRoZXIgXCJjYXRjaCB1cFwiIHdpdGggZWxlbWVudHMgdGhhdCBzdGlsbFxuICAvLyBleGlzdCBvciByZWFjaCB0aGUgYmFjayBvZiB0aGUgcXVldWUuXG4gIGZvckVhY2goY2FsbGJhY2s6IChlbGVtZW50OiBUKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgbGV0IGkgPSB0aGlzLl9jdXJzb3I7XG4gICAgbGV0IG5vZGUgPSB0aGlzLl9mcm9udDtcbiAgICBsZXQgZWxlbWVudHMgPSBub2RlLl9lbGVtZW50cztcbiAgICB3aGlsZSAoaSAhPT0gZWxlbWVudHMubGVuZ3RoIHx8IG5vZGUuX25leHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGkgPT09IGVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICBhc3NlcnQobm9kZS5fbmV4dCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgYXNzZXJ0KGkgPT09IFFVRVVFX01BWF9BUlJBWV9TSVpFKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQhO1xuICAgICAgICBlbGVtZW50cyA9IG5vZGUuX2VsZW1lbnRzO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlbGVtZW50c1tpXSk7XG4gICAgICArK2k7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBlbGVtZW50IHRoYXQgd291bGQgYmUgcmV0dXJuZWQgaWYgc2hpZnQoKSB3YXMgY2FsbGVkIG5vdyxcbiAgLy8gd2l0aG91dCBtb2RpZnlpbmcgdGhlIHF1ZXVlLlxuICBwZWVrKCk6IFQge1xuICAgIGFzc2VydCh0aGlzLl9zaXplID4gMCk7IC8vIG11c3Qgbm90IGJlIGNhbGxlZCBvbiBhbiBlbXB0eSBxdWV1ZVxuXG4gICAgY29uc3QgZnJvbnQgPSB0aGlzLl9mcm9udDtcbiAgICBjb25zdCBjdXJzb3IgPSB0aGlzLl9jdXJzb3I7XG4gICAgcmV0dXJuIGZyb250Ll9lbGVtZW50c1tjdXJzb3JdO1xuICB9XG59XG4iLCJpbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtLCBSZWFkYWJsZVN0cmVhbUNhbmNlbCwgUmVhZGFibGVTdHJlYW1SZWFkZXIgfSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgbmV3UHJvbWlzZSwgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZSB9IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0luaXRpYWxpemU8Uj4ocmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxSPiwgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPikge1xuICByZWFkZXIuX293bmVyUmVhZGFibGVTdHJlYW0gPSBzdHJlYW07XG4gIHN0cmVhbS5fcmVhZGVyID0gcmVhZGVyO1xuXG4gIGlmIChzdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKSB7XG4gICAgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHJlYWRlcik7XG4gIH0gZWxzZSBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1Jlc29sdmVkKHJlYWRlcik7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmVkJyk7XG5cbiAgICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHJlYWRlciwgc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gIH1cbn1cblxuLy8gQSBjbGllbnQgb2YgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyIGFuZCBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIgbWF5IHVzZSB0aGVzZSBmdW5jdGlvbnMgZGlyZWN0bHkgdG8gYnlwYXNzIHN0YXRlXG4vLyBjaGVjay5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0NhbmNlbChyZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPGFueT4sIHJlYXNvbjogYW55KTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgY29uc3Qgc3RyZWFtID0gcmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtO1xuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuICByZXR1cm4gUmVhZGFibGVTdHJlYW1DYW5jZWwoc3RyZWFtLCByZWFzb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPGFueT4pIHtcbiAgYXNzZXJ0KHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbSAhPT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbS5fcmVhZGVyID09PSByZWFkZXIpO1xuXG4gIGlmIChyZWFkZXIuX293bmVyUmVhZGFibGVTdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKSB7XG4gICAgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZWplY3QoXG4gICAgICByZWFkZXIsXG4gICAgICBuZXcgVHlwZUVycm9yKGBSZWFkZXIgd2FzIHJlbGVhc2VkIGFuZCBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgdG8gbW9uaXRvciB0aGUgc3RyZWFtJ3MgY2xvc2VkbmVzc2ApKTtcbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZVJlc2V0VG9SZWplY3RlZChcbiAgICAgIHJlYWRlcixcbiAgICAgIG5ldyBUeXBlRXJyb3IoYFJlYWRlciB3YXMgcmVsZWFzZWQgYW5kIGNhbiBubyBsb25nZXIgYmUgdXNlZCB0byBtb25pdG9yIHRoZSBzdHJlYW0ncyBjbG9zZWRuZXNzYCkpO1xuICB9XG5cbiAgcmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtLl9yZWFkZXIgPSB1bmRlZmluZWQ7XG4gIHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbSA9IHVuZGVmaW5lZCE7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSByZWFkZXJzLlxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZGVyTG9ja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQ2Fubm90ICcgKyBuYW1lICsgJyBhIHN0cmVhbSB1c2luZyBhIHJlbGVhc2VkIHJlYWRlcicpO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLlxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55Pikge1xuICByZWFkZXIuX2Nsb3NlZFByb21pc2UgPSBuZXdQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgcmVhZGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9IHJlamVjdDtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55PiwgcmVhc29uOiBhbnkpIHtcbiAgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHJlYWRlcik7XG4gIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVqZWN0KHJlYWRlciwgcmVhc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQocmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxhbnk+KSB7XG4gIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZShyZWFkZXIpO1xuICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZVJlc29sdmUocmVhZGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVqZWN0KHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55PiwgcmVhc29uOiBhbnkpIHtcbiAgaWYgKHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZWplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHNldFByb21pc2VJc0hhbmRsZWRUb1RydWUocmVhZGVyLl9jbG9zZWRQcm9taXNlKTtcbiAgcmVhZGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdChyZWFzb24pO1xuICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9IHVuZGVmaW5lZDtcbiAgcmVhZGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVzZXRUb1JlamVjdGVkKHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55PiwgcmVhc29uOiBhbnkpIHtcbiAgYXNzZXJ0KHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID09PSB1bmRlZmluZWQpO1xuICBhc3NlcnQocmVhZGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9PT0gdW5kZWZpbmVkKTtcblxuICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHJlYWRlciwgcmVhc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVzb2x2ZShyZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPGFueT4pIHtcbiAgaWYgKHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSh1bmRlZmluZWQpO1xuICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9IHVuZGVmaW5lZDtcbiAgcmVhZGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9IHVuZGVmaW5lZDtcbn1cbiIsImV4cG9ydCBjb25zdCBBYm9ydFN0ZXBzID0gU3ltYm9sKCdbW0Fib3J0U3RlcHNdXScpO1xuZXhwb3J0IGNvbnN0IEVycm9yU3RlcHMgPSBTeW1ib2woJ1tbRXJyb3JTdGVwc11dJyk7XG5leHBvcnQgY29uc3QgQ2FuY2VsU3RlcHMgPSBTeW1ib2woJ1tbQ2FuY2VsU3RlcHNdXScpO1xuZXhwb3J0IGNvbnN0IFB1bGxTdGVwcyA9IFN5bWJvbCgnW1tQdWxsU3RlcHNdXScpO1xuIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZXMyMDE1LmNvcmVcIiAvPlxuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNGaW5pdGUjUG9seWZpbGxcbmNvbnN0IE51bWJlcklzRmluaXRlOiB0eXBlb2YgTnVtYmVyLmlzRmluaXRlID0gTnVtYmVyLmlzRmluaXRlIHx8IGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUoeCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBOdW1iZXJJc0Zpbml0ZTtcbiIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImVzMjAxNS5jb3JlXCIgLz5cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC90cnVuYyNQb2x5ZmlsbFxuY29uc3QgTWF0aFRydW5jOiB0eXBlb2YgTWF0aC50cnVuYyA9IE1hdGgudHJ1bmMgfHwgZnVuY3Rpb24gKHYpIHtcbiAgcmV0dXJuIHYgPCAwID8gTWF0aC5jZWlsKHYpIDogTWF0aC5mbG9vcih2KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1hdGhUcnVuYztcbiIsImltcG9ydCBOdW1iZXJJc0Zpbml0ZSBmcm9tICcuLi8uLi9zdHViL251bWJlci1pc2Zpbml0ZSc7XG5pbXBvcnQgTWF0aFRydW5jIGZyb20gJy4uLy4uL3N0dWIvbWF0aC10cnVuYyc7XG5cbi8vIGh0dHBzOi8vaGV5Y2FtLmdpdGh1Yi5pby93ZWJpZGwvI2lkbC1kaWN0aW9uYXJpZXNcbmV4cG9ydCBmdW5jdGlvbiBpc0RpY3Rpb25hcnkoeDogYW55KTogeCBpcyBvYmplY3QgfCBudWxsIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERpY3Rpb25hcnkob2JqOiB1bmtub3duLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogYXNzZXJ0cyBvYmogaXMgb2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZCB7XG4gIGlmIChvYmogIT09IHVuZGVmaW5lZCAmJiAhaXNEaWN0aW9uYXJ5KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9IGlzIG5vdCBhbiBvYmplY3QuYCk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQW55RnVuY3Rpb24gPSAoLi4uYXJnczogYW55W10pID0+IGFueTtcblxuLy8gaHR0cHM6Ly9oZXljYW0uZ2l0aHViLmlvL3dlYmlkbC8jaWRsLWNhbGxiYWNrLWZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKHg6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IGFzc2VydHMgeCBpcyBBbnlGdW5jdGlvbiB7XG4gIGlmICh0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gaXMgbm90IGEgZnVuY3Rpb24uYCk7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9oZXljYW0uZ2l0aHViLmlvL3dlYmlkbC8jaWRsLW9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHg6IGFueSk6IHggaXMgb2JqZWN0IHtcbiAgcmV0dXJuICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPT0gbnVsbCkgfHwgdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPYmplY3QoeDogdW5rbm93bixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogYXNzZXJ0cyB4IGlzIG9iamVjdCB7XG4gIGlmICghaXNPYmplY3QoeCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9IGlzIG5vdCBhbiBvYmplY3QuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFJlcXVpcmVkQXJndW1lbnQ8VCBleHRlbmRzIGFueT4oeDogVCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBhc3NlcnRzIHggaXMgVCB7XG4gIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBQYXJhbWV0ZXIgJHtwb3NpdGlvbn0gaXMgcmVxdWlyZWQgaW4gJyR7Y29udGV4dH0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRSZXF1aXJlZEZpZWxkPFQgZXh0ZW5kcyBhbnk+KHg6IFQgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogYXNzZXJ0cyB4IGlzIFQge1xuICBpZiAoeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtmaWVsZH0gaXMgcmVxdWlyZWQgaW4gJyR7Y29udGV4dH0nLmApO1xuICB9XG59XG5cbi8vIGh0dHBzOi8vaGV5Y2FtLmdpdGh1Yi5pby93ZWJpZGwvI2lkbC11bnJlc3RyaWN0ZWQtZG91YmxlXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVucmVzdHJpY3RlZERvdWJsZSh2YWx1ZTogdW5rbm93bik6IG51bWJlciB7XG4gIHJldHVybiBOdW1iZXIodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBjZW5zb3JOZWdhdGl2ZVplcm8oeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHggPT09IDAgPyAwIDogeDtcbn1cblxuZnVuY3Rpb24gaW50ZWdlclBhcnQoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGNlbnNvck5lZ2F0aXZlWmVybyhNYXRoVHJ1bmMoeCkpO1xufVxuXG4vLyBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNpZGwtdW5zaWduZWQtbG9uZy1sb25nXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVuc2lnbmVkTG9uZ0xvbmdXaXRoRW5mb3JjZVJhbmdlKHZhbHVlOiB1bmtub3duLCBjb250ZXh0OiBzdHJpbmcpOiBudW1iZXIge1xuICBjb25zdCBsb3dlckJvdW5kID0gMDtcbiAgY29uc3QgdXBwZXJCb3VuZCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuXG4gIGxldCB4ID0gTnVtYmVyKHZhbHVlKTtcbiAgeCA9IGNlbnNvck5lZ2F0aXZlWmVybyh4KTtcblxuICBpZiAoIU51bWJlcklzRmluaXRlKHgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjb250ZXh0fSBpcyBub3QgYSBmaW5pdGUgbnVtYmVyYCk7XG4gIH1cblxuICB4ID0gaW50ZWdlclBhcnQoeCk7XG5cbiAgaWYgKHggPCBsb3dlckJvdW5kIHx8IHggPiB1cHBlckJvdW5kKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjb250ZXh0fSBpcyBvdXRzaWRlIHRoZSBhY2NlcHRlZCByYW5nZSBvZiAke2xvd2VyQm91bmR9IHRvICR7dXBwZXJCb3VuZH0sIGluY2x1c2l2ZWApO1xuICB9XG5cbiAgaWYgKCFOdW1iZXJJc0Zpbml0ZSh4KSB8fCB4ID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvLyBUT0RPIFVzZSBCaWdJbnQgaWYgc3VwcG9ydGVkP1xuICAvLyBsZXQgeEJpZ0ludCA9IEJpZ0ludChpbnRlZ2VyUGFydCh4KSk7XG4gIC8vIHhCaWdJbnQgPSBCaWdJbnQuYXNVaW50Tig2NCwgeEJpZ0ludCk7XG4gIC8vIHJldHVybiBOdW1iZXIoeEJpZ0ludCk7XG5cbiAgcmV0dXJuIHg7XG59XG4iLCJpbXBvcnQgeyBJc1JlYWRhYmxlU3RyZWFtLCBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRSZWFkYWJsZVN0cmVhbSh4OiB1bmtub3duLCBjb250ZXh0OiBzdHJpbmcpOiBhc3NlcnRzIHggaXMgUmVhZGFibGVTdHJlYW0ge1xuICBpZiAoIUlzUmVhZGFibGVTdHJlYW0oeCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9IGlzIG5vdCBhIFJlYWRhYmxlU3RyZWFtLmApO1xuICB9XG59XG4iLCJpbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7IFNpbXBsZVF1ZXVlIH0gZnJvbSAnLi4vc2ltcGxlLXF1ZXVlJztcbmltcG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0NhbmNlbCxcbiAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljSW5pdGlhbGl6ZSxcbiAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZSxcbiAgcmVhZGVyTG9ja0V4Y2VwdGlvblxufSBmcm9tICcuL2dlbmVyaWMtcmVhZGVyJztcbmltcG9ydCB7IElzUmVhZGFibGVTdHJlYW1Mb2NrZWQsIFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4uL2hlbHBlcnMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgeyBQdWxsU3RlcHMgfSBmcm9tICcuLi9hYnN0cmFjdC1vcHMvaW50ZXJuYWwtbWV0aG9kcyc7XG5pbXBvcnQgeyBuZXdQcm9taXNlLCBwcm9taXNlUmVqZWN0ZWRXaXRoIH0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuaW1wb3J0IHsgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudCB9IGZyb20gJy4uL3ZhbGlkYXRvcnMvYmFzaWMnO1xuaW1wb3J0IHsgYXNzZXJ0UmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi92YWxpZGF0b3JzL3JlYWRhYmxlLXN0cmVhbSc7XG5cbi8qKlxuICogQSByZXN1bHQgcmV0dXJuZWQgYnkge0BsaW5rIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5yZWFkfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8VD4gPSB7XG4gIGRvbmU6IGZhbHNlO1xuICB2YWx1ZTogVDtcbn0gfCB7XG4gIGRvbmU6IHRydWU7XG4gIHZhbHVlPzogdW5kZWZpbmVkO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW0uXG5cbmV4cG9ydCBmdW5jdGlvbiBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4ge1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcihzdHJlYW0pO1xufVxuXG4vLyBSZWFkYWJsZVN0cmVhbSBBUEkgZXhwb3NlZCBmb3IgY29udHJvbGxlcnMuXG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUFkZFJlYWRSZXF1ZXN0PFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8Uj4pOiB2b2lkIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHN0cmVhbS5fcmVhZGVyKSk7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKTtcblxuICAoc3RyZWFtLl9yZWFkZXIhIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPikuX3JlYWRSZXF1ZXN0cy5wdXNoKHJlYWRSZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRSZXF1ZXN0PFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sIGNodW5rOiBSIHwgdW5kZWZpbmVkLCBkb25lOiBib29sZWFuKSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5fcmVhZGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPjtcblxuICBhc3NlcnQocmVhZGVyLl9yZWFkUmVxdWVzdHMubGVuZ3RoID4gMCk7XG5cbiAgY29uc3QgcmVhZFJlcXVlc3QgPSByZWFkZXIuX3JlYWRSZXF1ZXN0cy5zaGlmdCgpITtcbiAgaWYgKGRvbmUpIHtcbiAgICByZWFkUmVxdWVzdC5fY2xvc2VTdGVwcygpO1xuICB9IGVsc2Uge1xuICAgIHJlYWRSZXF1ZXN0Ll9jaHVua1N0ZXBzKGNodW5rISk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZFJlcXVlc3RzPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4pOiBudW1iZXIge1xuICByZXR1cm4gKHN0cmVhbS5fcmVhZGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPikuX3JlYWRSZXF1ZXN0cy5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUhhc0RlZmF1bHRSZWFkZXIoc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IGJvb2xlYW4ge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uX3JlYWRlcjtcblxuICBpZiAocmVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIUlzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHJlYWRlcikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gUmVhZGVyc1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRSZXF1ZXN0PFI+IHtcbiAgX2NodW5rU3RlcHMoY2h1bms6IFIpOiB2b2lkO1xuXG4gIF9jbG9zZVN0ZXBzKCk6IHZvaWQ7XG5cbiAgX2Vycm9yU3RlcHMoZTogYW55KTogdm9pZDtcbn1cblxuLyoqXG4gKiBBIGRlZmF1bHQgcmVhZGVyIHZlbmRlZCBieSBhIHtAbGluayBSZWFkYWJsZVN0cmVhbX0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFIgPSBhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfb3duZXJSZWFkYWJsZVN0cmVhbSE6IFJlYWRhYmxlU3RyZWFtPFI+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlITogUHJvbWlzZTx1bmRlZmluZWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlX3Jlc29sdmU/OiAodmFsdWU/OiB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VfcmVqZWN0PzogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkUmVxdWVzdHM6IFNpbXBsZVF1ZXVlPFJlYWRSZXF1ZXN0PFI+PjtcblxuICBjb25zdHJ1Y3RvcihzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+KSB7XG4gICAgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudChzdHJlYW0sIDEsICdSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXInKTtcbiAgICBhc3NlcnRSZWFkYWJsZVN0cmVhbShzdHJlYW0sICdGaXJzdCBwYXJhbWV0ZXInKTtcblxuICAgIGlmIChJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXMgc3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gbG9ja2VkIGZvciBleGNsdXNpdmUgcmVhZGluZyBieSBhbm90aGVyIHJlYWRlcicpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0luaXRpYWxpemUodGhpcywgc3RyZWFtKTtcblxuICAgIHRoaXMuX3JlYWRSZXF1ZXN0cyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2hlbiB0aGUgc3RyZWFtIGJlY29tZXMgY2xvc2VkLFxuICAgKiBvciByZWplY3RlZCBpZiB0aGUgc3RyZWFtIGV2ZXIgZXJyb3JzIG9yIHRoZSByZWFkZXIncyBsb2NrIGlzIHJlbGVhc2VkIGJlZm9yZSB0aGUgc3RyZWFtIGZpbmlzaGVzIGNsb3NpbmcuXG4gICAqL1xuICBnZXQgY2xvc2VkKCk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Nsb3NlZCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2xvc2VkUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgcmVhZGVyIGlzIGFjdGl2ZSwgYmVoYXZlcyB0aGUgc2FtZSBhcyB7QGxpbmsgUmVhZGFibGVTdHJlYW0uY2FuY2VsIHwgc3RyZWFtLmNhbmNlbChyZWFzb24pfS5cbiAgICovXG4gIGNhbmNlbChyZWFzb246IGFueSA9IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdjYW5jZWwnKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgocmVhZGVyTG9ja0V4Y2VwdGlvbignY2FuY2VsJykpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNDYW5jZWwodGhpcywgcmVhc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGFsbG93cyBhY2Nlc3MgdG8gdGhlIG5leHQgY2h1bmsgZnJvbSB0aGUgc3RyZWFtJ3MgaW50ZXJuYWwgcXVldWUsIGlmIGF2YWlsYWJsZS5cbiAgICpcbiAgICogSWYgcmVhZGluZyBhIGNodW5rIGNhdXNlcyB0aGUgcXVldWUgdG8gYmVjb21lIGVtcHR5LCBtb3JlIGRhdGEgd2lsbCBiZSBwdWxsZWQgZnJvbSB0aGUgdW5kZXJseWluZyBzb3VyY2UuXG4gICAqL1xuICByZWFkKCk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxSPj4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdyZWFkJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lclJlYWRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHJlYWRlckxvY2tFeGNlcHRpb24oJ3JlYWQgZnJvbScpKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2UhOiAocmVzdWx0OiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PFI+KSA9PiB2b2lkO1xuICAgIGxldCByZWplY3RQcm9taXNlITogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXdQcm9taXNlPFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8Uj4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHJlamVjdFByb21pc2UgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgY29uc3QgcmVhZFJlcXVlc3Q6IFJlYWRSZXF1ZXN0PFI+ID0ge1xuICAgICAgX2NodW5rU3RlcHM6IGNodW5rID0+IHJlc29sdmVQcm9taXNlKHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9KSxcbiAgICAgIF9jbG9zZVN0ZXBzOiAoKSA9PiByZXNvbHZlUHJvbWlzZSh7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSksXG4gICAgICBfZXJyb3JTdGVwczogZSA9PiByZWplY3RQcm9taXNlKGUpXG4gICAgfTtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkKHRoaXMsIHJlYWRSZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgcmVhZGVyJ3MgbG9jayBvbiB0aGUgY29ycmVzcG9uZGluZyBzdHJlYW0uIEFmdGVyIHRoZSBsb2NrIGlzIHJlbGVhc2VkLCB0aGUgcmVhZGVyIGlzIG5vIGxvbmdlciBhY3RpdmUuXG4gICAqIElmIHRoZSBhc3NvY2lhdGVkIHN0cmVhbSBpcyBlcnJvcmVkIHdoZW4gdGhlIGxvY2sgaXMgcmVsZWFzZWQsIHRoZSByZWFkZXIgd2lsbCBhcHBlYXIgZXJyb3JlZCBpbiB0aGUgc2FtZSB3YXlcbiAgICogZnJvbSBub3cgb247IG90aGVyd2lzZSwgdGhlIHJlYWRlciB3aWxsIGFwcGVhciBjbG9zZWQuXG4gICAqXG4gICAqIEEgcmVhZGVyJ3MgbG9jayBjYW5ub3QgYmUgcmVsZWFzZWQgd2hpbGUgaXQgc3RpbGwgaGFzIGEgcGVuZGluZyByZWFkIHJlcXVlc3QsIGkuZS4sIGlmIGEgcHJvbWlzZSByZXR1cm5lZCBieVxuICAgKiB0aGUgcmVhZGVyJ3Mge0BsaW5rIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5yZWFkIHwgcmVhZCgpfSBtZXRob2QgaGFzIG5vdCB5ZXQgYmVlbiBzZXR0bGVkLiBBdHRlbXB0aW5nIHRvXG4gICAqIGRvIHNvIHdpbGwgdGhyb3cgYSBgVHlwZUVycm9yYCBhbmQgbGVhdmUgdGhlIHJlYWRlciBsb2NrZWQgdG8gdGhlIHN0cmVhbS5cbiAgICovXG4gIHJlbGVhc2VMb2NrKCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdyZWxlYXNlTG9jaycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lclJlYWRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVhZFJlcXVlc3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RyaWVkIHRvIHJlbGVhc2UgYSByZWFkZXIgbG9jayB3aGVuIHRoYXQgcmVhZGVyIGhhcyBwZW5kaW5nIHJlYWQoKSBjYWxscyB1bi1zZXR0bGVkJyk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZSh0aGlzKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIucHJvdG90eXBlLCB7XG4gIGNhbmNlbDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHJlYWQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICByZWxlYXNlTG9jazogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGNsb3NlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuaWYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcicsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgcmVhZGVycy5cblxuZXhwb3J0IGZ1bmN0aW9uIElzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFIgPSBhbnk+KHg6IGFueSk6IHggaXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+IHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX3JlYWRSZXF1ZXN0cycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkPFI+KHJlYWRlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZFJlcXVlc3Q6IFJlYWRSZXF1ZXN0PFI+KTogdm9pZCB7XG4gIGNvbnN0IHN0cmVhbSA9IHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbTtcblxuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuXG4gIHN0cmVhbS5fZGlzdHVyYmVkID0gdHJ1ZTtcblxuICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICByZWFkUmVxdWVzdC5fY2xvc2VTdGVwcygpO1xuICB9IGVsc2UgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJlYWRSZXF1ZXN0Ll9lcnJvclN0ZXBzKHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKTtcbiAgICBzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcltQdWxsU3RlcHNdKHJlYWRSZXF1ZXN0IGFzIFJlYWRSZXF1ZXN0PGFueT4pO1xuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIuXG5cbmZ1bmN0aW9uIGRlZmF1bHRSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFxuICAgIGBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcmApO1xufVxuIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZXMyMDE4LmFzeW5jaXRlcmFibGVcIiAvPlxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24gKi9cbmV4cG9ydCBjb25zdCBBc3luY0l0ZXJhdG9yUHJvdG90eXBlOiBBc3luY0l0ZXJhYmxlPGFueT4gfCB1bmRlZmluZWQgPVxuICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmdldFByb3RvdHlwZU9mKGFzeW5jIGZ1bmN0aW9uKiAoKTogQXN5bmNJdGVyYWJsZUl0ZXJhdG9yPGFueT4ge30pLnByb3RvdHlwZSk7XG4iLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJlczIwMTguYXN5bmNpdGVyYWJsZVwiIC8+XG5cbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7XG4gIEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyUmVhZCxcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdCxcbiAgUmVhZFJlcXVlc3Rcbn0gZnJvbSAnLi9kZWZhdWx0LXJlYWRlcic7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNDYW5jZWwsXG4gIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY1JlbGVhc2UsXG4gIHJlYWRlckxvY2tFeGNlcHRpb25cbn0gZnJvbSAnLi9nZW5lcmljLXJlYWRlcic7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7IEFzeW5jSXRlcmF0b3JQcm90b3R5cGUgfSBmcm9tICdAQHRhcmdldC9zdHViL2FzeW5jLWl0ZXJhdG9yLXByb3RvdHlwZSc7XG5pbXBvcnQgeyB0eXBlSXNPYmplY3QgfSBmcm9tICcuLi9oZWxwZXJzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHtcbiAgbmV3UHJvbWlzZSxcbiAgcHJvbWlzZVJlamVjdGVkV2l0aCxcbiAgcHJvbWlzZVJlc29sdmVkV2l0aCxcbiAgcXVldWVNaWNyb3Rhc2ssXG4gIHRyYW5zZm9ybVByb21pc2VXaXRoXG59IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcblxuLyoqXG4gKiBBbiBhc3luYyBpdGVyYXRvciByZXR1cm5lZCBieSB7QGxpbmsgUmVhZGFibGVTdHJlYW0udmFsdWVzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+IGV4dGVuZHMgQXN5bmNJdGVyYXRvcjxSPiB7XG4gIG5leHQoKTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxSLCB1bmRlZmluZWQ+PjtcblxuICByZXR1cm4odmFsdWU/OiBhbnkpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PGFueT4+O1xufVxuXG5leHBvcnQgY2xhc3MgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9ySW1wbDxSPiB7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3JlYWRlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+O1xuICBwcml2YXRlIHJlYWRvbmx5IF9wcmV2ZW50Q2FuY2VsOiBib29sZWFuO1xuICBwcml2YXRlIF9vbmdvaW5nUHJvbWlzZTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PFI+PiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfaXNGaW5pc2hlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHJlYWRlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+LCBwcmV2ZW50Q2FuY2VsOiBib29sZWFuKSB7XG4gICAgdGhpcy5fcmVhZGVyID0gcmVhZGVyO1xuICAgIHRoaXMuX3ByZXZlbnRDYW5jZWwgPSBwcmV2ZW50Q2FuY2VsO1xuICB9XG5cbiAgbmV4dCgpOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8Uj4+IHtcbiAgICBjb25zdCBuZXh0U3RlcHMgPSAoKSA9PiB0aGlzLl9uZXh0U3RlcHMoKTtcbiAgICB0aGlzLl9vbmdvaW5nUHJvbWlzZSA9IHRoaXMuX29uZ29pbmdQcm9taXNlID9cbiAgICAgIHRyYW5zZm9ybVByb21pc2VXaXRoKHRoaXMuX29uZ29pbmdQcm9taXNlLCBuZXh0U3RlcHMsIG5leHRTdGVwcykgOlxuICAgICAgbmV4dFN0ZXBzKCk7XG4gICAgcmV0dXJuIHRoaXMuX29uZ29pbmdQcm9taXNlO1xuICB9XG5cbiAgcmV0dXJuKHZhbHVlOiBhbnkpOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8YW55Pj4ge1xuICAgIGNvbnN0IHJldHVyblN0ZXBzID0gKCkgPT4gdGhpcy5fcmV0dXJuU3RlcHModmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9vbmdvaW5nUHJvbWlzZSA/XG4gICAgICB0cmFuc2Zvcm1Qcm9taXNlV2l0aCh0aGlzLl9vbmdvaW5nUHJvbWlzZSwgcmV0dXJuU3RlcHMsIHJldHVyblN0ZXBzKSA6XG4gICAgICByZXR1cm5TdGVwcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBfbmV4dFN0ZXBzKCk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxSPj4ge1xuICAgIGlmICh0aGlzLl9pc0ZpbmlzaGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFkZXIgPSB0aGlzLl9yZWFkZXI7XG4gICAgaWYgKHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChyZWFkZXJMb2NrRXhjZXB0aW9uKCdpdGVyYXRlJykpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZSE6IChyZXN1bHQ6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8Uj4pID0+IHZvaWQ7XG4gICAgbGV0IHJlamVjdFByb21pc2UhOiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ld1Byb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxSPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgcmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBjb25zdCByZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8Uj4gPSB7XG4gICAgICBfY2h1bmtTdGVwczogY2h1bmsgPT4ge1xuICAgICAgICB0aGlzLl9vbmdvaW5nUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBkZWxheWVkIGJ5IG9uZSBtaWNyb3Rhc2ssIG90aGVyd2lzZSB3ZSBzdG9wIHB1bGxpbmcgdG9vIGVhcmx5IHdoaWNoIGJyZWFrcyBhIHRlc3QuXG4gICAgICAgIC8vIEZJWE1FIElzIHRoaXMgYSBidWcgaW4gdGhlIHNwZWNpZmljYXRpb24sIG9yIGluIHRoZSB0ZXN0P1xuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiByZXNvbHZlUHJvbWlzZSh7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSkpO1xuICAgICAgfSxcbiAgICAgIF9jbG9zZVN0ZXBzOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuX29uZ29pbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9pc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXIpO1xuICAgICAgICByZXNvbHZlUHJvbWlzZSh7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSk7XG4gICAgICB9LFxuICAgICAgX2Vycm9yU3RlcHM6IHJlYXNvbiA9PiB7XG4gICAgICAgIHRoaXMuX29uZ29pbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9pc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXIpO1xuICAgICAgICByZWplY3RQcm9taXNlKHJlYXNvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkKHJlYWRlciwgcmVhZFJlcXVlc3QpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmV0dXJuU3RlcHModmFsdWU6IGFueSk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxhbnk+PiB7XG4gICAgaWYgKHRoaXMuX2lzRmluaXNoZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyB2YWx1ZSwgZG9uZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgdGhpcy5faXNGaW5pc2hlZCA9IHRydWU7XG5cbiAgICBjb25zdCByZWFkZXIgPSB0aGlzLl9yZWFkZXI7XG4gICAgaWYgKHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChyZWFkZXJMb2NrRXhjZXB0aW9uKCdmaW5pc2ggaXRlcmF0aW5nJykpO1xuICAgIH1cblxuICAgIGFzc2VydChyZWFkZXIuX3JlYWRSZXF1ZXN0cy5sZW5ndGggPT09IDApO1xuXG4gICAgaWYgKCF0aGlzLl9wcmV2ZW50Q2FuY2VsKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNDYW5jZWwocmVhZGVyLCB2YWx1ZSk7XG4gICAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcik7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtUHJvbWlzZVdpdGgocmVzdWx0LCAoKSA9PiAoeyB2YWx1ZSwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXIpO1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHsgdmFsdWUsIGRvbmU6IHRydWUgfSk7XG4gIH1cbn1cblxuZGVjbGFyZSBjbGFzcyBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbnN0YW5jZTxSPiBpbXBsZW1lbnRzIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSPiB7XG4gIC8qKiBAaW50ZXJhbCAqL1xuICBfYXN5bmNJdGVyYXRvckltcGw6IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckltcGw8Uj47XG5cbiAgbmV4dCgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFIsIHVuZGVmaW5lZD4+O1xuXG4gIHJldHVybih2YWx1ZT86IGFueSk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8YW55Pj47XG59XG5cbmNvbnN0IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvclByb3RvdHlwZTogUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9ySW5zdGFuY2U8YW55PiA9IHtcbiAgbmV4dCh0aGlzOiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbnN0YW5jZTxhbnk+KTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PGFueT4+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW1Bc3luY0l0ZXJhdG9yQnJhbmRDaGVja0V4Y2VwdGlvbignbmV4dCcpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FzeW5jSXRlcmF0b3JJbXBsLm5leHQoKTtcbiAgfSxcblxuICByZXR1cm4odGhpczogUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9ySW5zdGFuY2U8YW55PiwgdmFsdWU6IGFueSk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxhbnk+PiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtQXN5bmNJdGVyYXRvckJyYW5kQ2hlY2tFeGNlcHRpb24oJ3JldHVybicpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FzeW5jSXRlcmF0b3JJbXBsLnJldHVybih2YWx1ZSk7XG4gIH1cbn0gYXMgYW55O1xuaWYgKEFzeW5jSXRlcmF0b3JQcm90b3R5cGUgIT09IHVuZGVmaW5lZCkge1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yUHJvdG90eXBlLCBBc3luY0l0ZXJhdG9yUHJvdG90eXBlKTtcbn1cblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtLlxuXG5leHBvcnQgZnVuY3Rpb24gQWNxdWlyZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSPihzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudENhbmNlbDogYm9vbGVhbik6IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSPiB7XG4gIGNvbnN0IHJlYWRlciA9IEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4oc3RyZWFtKTtcbiAgY29uc3QgaW1wbCA9IG5ldyBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbXBsKHJlYWRlciwgcHJldmVudENhbmNlbCk7XG4gIGNvbnN0IGl0ZXJhdG9yOiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbnN0YW5jZTxSPiA9IE9iamVjdC5jcmVhdGUoUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yUHJvdG90eXBlKTtcbiAgaXRlcmF0b3IuX2FzeW5jSXRlcmF0b3JJbXBsID0gaW1wbDtcbiAgcmV0dXJuIGl0ZXJhdG9yO1xufVxuXG5mdW5jdGlvbiBJc1JlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSID0gYW55Pih4OiBhbnkpOiB4IGlzIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSPiB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19hc3luY0l0ZXJhdG9ySW1wbCcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBub2luc3BlY3Rpb24gU3VzcGljaW91c1R5cGVPZkd1YXJkXG4gICAgcmV0dXJuICh4IGFzIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckluc3RhbmNlPGFueT4pLl9hc3luY0l0ZXJhdG9ySW1wbCBpbnN0YW5jZW9mXG4gICAgICBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbXBsO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtLlxuXG5mdW5jdGlvbiBzdHJlYW1Bc3luY0l0ZXJhdG9yQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlU3RlYW1Bc3luY0l0ZXJhdG9yYCk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJlczIwMTUuY29yZVwiIC8+XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc05hTiNQb2x5ZmlsbFxuY29uc3QgTnVtYmVySXNOYU46IHR5cGVvZiBOdW1iZXIuaXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gKHgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICByZXR1cm4geCAhPT0geDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE51bWJlcklzTmFOO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFycmF5RnJvbUxpc3Q8VCBleHRlbmRzIGFueVtdPihlbGVtZW50czogVCk6IFQge1xuICAvLyBXZSB1c2UgYXJyYXlzIHRvIHJlcHJlc2VudCBsaXN0cywgc28gdGhpcyBpcyBiYXNpY2FsbHkgYSBuby1vcC5cbiAgLy8gRG8gYSBzbGljZSB0aG91Z2gganVzdCBpbiBjYXNlIHdlIGhhcHBlbiB0byBkZXBlbmQgb24gdGhlIHVuaXF1ZS1uZXNzLlxuICByZXR1cm4gZWxlbWVudHMuc2xpY2UoKSBhcyBUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29weURhdGFCbG9ja0J5dGVzKGRlc3Q6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0T2Zmc2V0OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogQXJyYXlCdWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY09mZnNldDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuOiBudW1iZXIpIHtcbiAgbmV3IFVpbnQ4QXJyYXkoZGVzdCkuc2V0KG5ldyBVaW50OEFycmF5KHNyYywgc3JjT2Zmc2V0LCBuKSwgZGVzdE9mZnNldCk7XG59XG5cbi8vIE5vdCBpbXBsZW1lbnRlZCBjb3JyZWN0bHlcbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2ZlckFycmF5QnVmZmVyPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlckxpa2U+KE86IFQpOiBUIHtcbiAgcmV0dXJuIE87XG59XG5cbi8vIE5vdCBpbXBsZW1lbnRlZCBjb3JyZWN0bHlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmV4cG9ydCBmdW5jdGlvbiBDYW5UcmFuc2ZlckFycmF5QnVmZmVyKE86IEFycmF5QnVmZmVyTGlrZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gTm90IGltcGxlbWVudGVkIGNvcnJlY3RseVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZXhwb3J0IGZ1bmN0aW9uIElzRGV0YWNoZWRCdWZmZXIoTzogQXJyYXlCdWZmZXJMaWtlKTogYm9vbGVhbiB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFycmF5QnVmZmVyU2xpY2UoYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2UsIGJlZ2luOiBudW1iZXIsIGVuZDogbnVtYmVyKTogQXJyYXlCdWZmZXJMaWtlIHtcbiAgLy8gQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlIGlzIG5vdCBhdmFpbGFibGUgb24gSUUxMFxuICAvLyBodHRwczovL3d3dy5jYW5pdXNlLmNvbS9tZG4tamF2YXNjcmlwdF9idWlsdGluc19hcnJheWJ1ZmZlcl9zbGljZVxuICBpZiAoYnVmZmVyLnNsaWNlKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5zbGljZShiZWdpbiwgZW5kKTtcbiAgfVxuICBjb25zdCBsZW5ndGggPSBlbmQgLSBiZWdpbjtcbiAgY29uc3Qgc2xpY2UgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgQ29weURhdGFCbG9ja0J5dGVzKHNsaWNlLCAwLCBidWZmZXIsIGJlZ2luLCBsZW5ndGgpO1xuICByZXR1cm4gc2xpY2U7XG59XG4iLCJpbXBvcnQgTnVtYmVySXNOYU4gZnJvbSAnLi4vLi4vc3R1Yi9udW1iZXItaXNuYW4nO1xuaW1wb3J0IHsgQXJyYXlCdWZmZXJTbGljZSB9IGZyb20gJy4vZWNtYXNjcmlwdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBJc05vbk5lZ2F0aXZlTnVtYmVyKHY6IG51bWJlcik6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHYgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKE51bWJlcklzTmFOKHYpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHYgPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDbG9uZUFzVWludDhBcnJheShPOiBBcnJheUJ1ZmZlclZpZXcpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgYnVmZmVyID0gQXJyYXlCdWZmZXJTbGljZShPLmJ1ZmZlciwgTy5ieXRlT2Zmc2V0LCBPLmJ5dGVPZmZzZXQgKyBPLmJ5dGVMZW5ndGgpO1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgU2ltcGxlUXVldWUgfSBmcm9tICcuLi9zaW1wbGUtcXVldWUnO1xuaW1wb3J0IHsgSXNOb25OZWdhdGl2ZU51bWJlciB9IGZyb20gJy4vbWlzY2VsbGFuZW91cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVldWVDb250YWluZXI8VD4ge1xuICBfcXVldWU6IFNpbXBsZVF1ZXVlPFQ+O1xuICBfcXVldWVUb3RhbFNpemU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRdWV1ZVBhaXI8VD4ge1xuICB2YWx1ZTogVDtcbiAgc2l6ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRGVxdWV1ZVZhbHVlPFQ+KGNvbnRhaW5lcjogUXVldWVDb250YWluZXI8UXVldWVQYWlyPFQ+Pik6IFQge1xuICBhc3NlcnQoJ19xdWV1ZScgaW4gY29udGFpbmVyICYmICdfcXVldWVUb3RhbFNpemUnIGluIGNvbnRhaW5lcik7XG4gIGFzc2VydChjb250YWluZXIuX3F1ZXVlLmxlbmd0aCA+IDApO1xuXG4gIGNvbnN0IHBhaXIgPSBjb250YWluZXIuX3F1ZXVlLnNoaWZ0KCkhO1xuICBjb250YWluZXIuX3F1ZXVlVG90YWxTaXplIC09IHBhaXIuc2l6ZTtcbiAgaWYgKGNvbnRhaW5lci5fcXVldWVUb3RhbFNpemUgPCAwKSB7XG4gICAgY29udGFpbmVyLl9xdWV1ZVRvdGFsU2l6ZSA9IDA7XG4gIH1cblxuICByZXR1cm4gcGFpci52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVucXVldWVWYWx1ZVdpdGhTaXplPFQ+KGNvbnRhaW5lcjogUXVldWVDb250YWluZXI8UXVldWVQYWlyPFQ+PiwgdmFsdWU6IFQsIHNpemU6IG51bWJlcikge1xuICBhc3NlcnQoJ19xdWV1ZScgaW4gY29udGFpbmVyICYmICdfcXVldWVUb3RhbFNpemUnIGluIGNvbnRhaW5lcik7XG5cbiAgaWYgKCFJc05vbk5lZ2F0aXZlTnVtYmVyKHNpemUpIHx8IHNpemUgPT09IEluZmluaXR5KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1NpemUgbXVzdCBiZSBhIGZpbml0ZSwgbm9uLU5hTiwgbm9uLW5lZ2F0aXZlIG51bWJlci4nKTtcbiAgfVxuXG4gIGNvbnRhaW5lci5fcXVldWUucHVzaCh7IHZhbHVlLCBzaXplIH0pO1xuICBjb250YWluZXIuX3F1ZXVlVG90YWxTaXplICs9IHNpemU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQZWVrUXVldWVWYWx1ZTxUPihjb250YWluZXI6IFF1ZXVlQ29udGFpbmVyPFF1ZXVlUGFpcjxUPj4pOiBUIHtcbiAgYXNzZXJ0KCdfcXVldWUnIGluIGNvbnRhaW5lciAmJiAnX3F1ZXVlVG90YWxTaXplJyBpbiBjb250YWluZXIpO1xuICBhc3NlcnQoY29udGFpbmVyLl9xdWV1ZS5sZW5ndGggPiAwKTtcblxuICBjb25zdCBwYWlyID0gY29udGFpbmVyLl9xdWV1ZS5wZWVrKCk7XG4gIHJldHVybiBwYWlyLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzZXRRdWV1ZTxUPihjb250YWluZXI6IFF1ZXVlQ29udGFpbmVyPFQ+KSB7XG4gIGFzc2VydCgnX3F1ZXVlJyBpbiBjb250YWluZXIgJiYgJ19xdWV1ZVRvdGFsU2l6ZScgaW4gY29udGFpbmVyKTtcblxuICBjb250YWluZXIuX3F1ZXVlID0gbmV3IFNpbXBsZVF1ZXVlPFQ+KCk7XG4gIGNvbnRhaW5lci5fcXVldWVUb3RhbFNpemUgPSAwO1xufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi8uLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQgeyBTaW1wbGVRdWV1ZSB9IGZyb20gJy4uL3NpbXBsZS1xdWV1ZSc7XG5pbXBvcnQgeyBSZXNldFF1ZXVlIH0gZnJvbSAnLi4vYWJzdHJhY3Qtb3BzL3F1ZXVlLXdpdGgtc2l6ZXMnO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1BZGRSZWFkUmVxdWVzdCxcbiAgUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZFJlcXVlc3QsXG4gIFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZFJlcXVlc3RzLFxuICBSZWFkYWJsZVN0cmVhbUhhc0RlZmF1bHRSZWFkZXIsXG4gIFJlYWRSZXF1ZXN0XG59IGZyb20gJy4vZGVmYXVsdC1yZWFkZXInO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1BZGRSZWFkSW50b1JlcXVlc3QsXG4gIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRJbnRvUmVxdWVzdCxcbiAgUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkSW50b1JlcXVlc3RzLFxuICBSZWFkYWJsZVN0cmVhbUhhc0JZT0JSZWFkZXIsXG4gIFJlYWRJbnRvUmVxdWVzdFxufSBmcm9tICcuL2J5b2ItcmVhZGVyJztcbmltcG9ydCBOdW1iZXJJc0ludGVnZXIgZnJvbSAnLi4vLi4vc3R1Yi9udW1iZXItaXNpbnRlZ2VyJztcbmltcG9ydCB7XG4gIElzUmVhZGFibGVTdHJlYW1Mb2NrZWQsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgUmVhZGFibGVTdHJlYW1DbG9zZSxcbiAgUmVhZGFibGVTdHJlYW1FcnJvclxufSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgVmFsaWRhdGVkVW5kZXJseWluZ0J5dGVTb3VyY2UgfSBmcm9tICcuL3VuZGVybHlpbmctc291cmNlJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4uL2hlbHBlcnMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQge1xuICBBcnJheUJ1ZmZlclNsaWNlLFxuICBDYW5UcmFuc2ZlckFycmF5QnVmZmVyLFxuICBDb3B5RGF0YUJsb2NrQnl0ZXMsXG4gIElzRGV0YWNoZWRCdWZmZXIsXG4gIFRyYW5zZmVyQXJyYXlCdWZmZXJcbn0gZnJvbSAnLi4vYWJzdHJhY3Qtb3BzL2VjbWFzY3JpcHQnO1xuaW1wb3J0IHsgQ2FuY2VsU3RlcHMsIFB1bGxTdGVwcyB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9pbnRlcm5hbC1tZXRob2RzJztcbmltcG9ydCB7IHByb21pc2VSZXNvbHZlZFdpdGgsIHVwb25Qcm9taXNlIH0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuaW1wb3J0IHsgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudCwgY29udmVydFVuc2lnbmVkTG9uZ0xvbmdXaXRoRW5mb3JjZVJhbmdlIH0gZnJvbSAnLi4vdmFsaWRhdG9ycy9iYXNpYyc7XG5cbi8qKlxuICogQSBwdWxsLWludG8gcmVxdWVzdCBpbiBhIHtAbGluayBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIhOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyO1xuICAvKiogQGludGVybmFsICovXG4gIF92aWV3ITogQXJyYXlCdWZmZXJWaWV3IHwgbnVsbDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgY29uc3RydWN0b3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2aWV3IGZvciB3cml0aW5nIGluIHRvLCBvciBgbnVsbGAgaWYgdGhlIEJZT0IgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHJlc3BvbmRlZCB0by5cbiAgICovXG4gIGdldCB2aWV3KCk6IEFycmF5QnVmZmVyVmlldyB8IG51bGwge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0KHRoaXMpKSB7XG4gICAgICB0aHJvdyBieW9iUmVxdWVzdEJyYW5kQ2hlY2tFeGNlcHRpb24oJ3ZpZXcnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdmlldztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdG8gdGhlIGFzc29jaWF0ZWQgcmVhZGFibGUgYnl0ZSBzdHJlYW0gdGhhdCBgYnl0ZXNXcml0dGVuYCBieXRlcyB3ZXJlIHdyaXR0ZW4gaW50b1xuICAgKiB7QGxpbmsgUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdC52aWV3IHwgdmlld30sIGNhdXNpbmcgdGhlIHJlc3VsdCBiZSBzdXJmYWNlZCB0byB0aGUgY29uc3VtZXIuXG4gICAqXG4gICAqIEFmdGVyIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCwge0BsaW5rIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QudmlldyB8IHZpZXd9IHdpbGwgYmUgdHJhbnNmZXJyZWQgYW5kIG5vIGxvbmdlclxuICAgKiBtb2RpZmlhYmxlLlxuICAgKi9cbiAgcmVzcG9uZChieXRlc1dyaXR0ZW46IG51bWJlcik6IHZvaWQ7XG4gIHJlc3BvbmQoYnl0ZXNXcml0dGVuOiBudW1iZXIgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdCh0aGlzKSkge1xuICAgICAgdGhyb3cgYnlvYlJlcXVlc3RCcmFuZENoZWNrRXhjZXB0aW9uKCdyZXNwb25kJyk7XG4gICAgfVxuICAgIGFzc2VydFJlcXVpcmVkQXJndW1lbnQoYnl0ZXNXcml0dGVuLCAxLCAncmVzcG9uZCcpO1xuICAgIGJ5dGVzV3JpdHRlbiA9IGNvbnZlcnRVbnNpZ25lZExvbmdMb25nV2l0aEVuZm9yY2VSYW5nZShieXRlc1dyaXR0ZW4sICdGaXJzdCBwYXJhbWV0ZXInKTtcblxuICAgIGlmICh0aGlzLl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIEJZT0IgcmVxdWVzdCBoYXMgYmVlbiBpbnZhbGlkYXRlZCcpO1xuICAgIH1cblxuICAgIGlmIChJc0RldGFjaGVkQnVmZmVyKHRoaXMuX3ZpZXchLmJ1ZmZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBCWU9CIHJlcXVlc3QncyBidWZmZXIgaGFzIGJlZW4gZGV0YWNoZWQgYW5kIHNvIGNhbm5vdCBiZSB1c2VkIGFzIGEgcmVzcG9uc2VgKTtcbiAgICB9XG5cbiAgICBhc3NlcnQodGhpcy5fdmlldyEuYnl0ZUxlbmd0aCA+IDApO1xuICAgIGFzc2VydCh0aGlzLl92aWV3IS5idWZmZXIuYnl0ZUxlbmd0aCA+IDApO1xuXG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmQodGhpcy5fYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsIGJ5dGVzV3JpdHRlbik7XG4gIH1cblxuICAvKipcbiAgICogSW5kaWNhdGVzIHRvIHRoZSBhc3NvY2lhdGVkIHJlYWRhYmxlIGJ5dGUgc3RyZWFtIHRoYXQgaW5zdGVhZCBvZiB3cml0aW5nIGludG9cbiAgICoge0BsaW5rIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QudmlldyB8IHZpZXd9LCB0aGUgdW5kZXJseWluZyBieXRlIHNvdXJjZSBpcyBwcm92aWRpbmcgYSBuZXcgYEFycmF5QnVmZmVyVmlld2AsXG4gICAqIHdoaWNoIHdpbGwgYmUgZ2l2ZW4gdG8gdGhlIGNvbnN1bWVyIG9mIHRoZSByZWFkYWJsZSBieXRlIHN0cmVhbS5cbiAgICpcbiAgICogQWZ0ZXIgdGhpcyBtZXRob2QgaXMgY2FsbGVkLCBgdmlld2Agd2lsbCBiZSB0cmFuc2ZlcnJlZCBhbmQgbm8gbG9uZ2VyIG1vZGlmaWFibGUuXG4gICAqL1xuICByZXNwb25kV2l0aE5ld1ZpZXcodmlldzogQXJyYXlCdWZmZXJWaWV3KTogdm9pZDtcbiAgcmVzcG9uZFdpdGhOZXdWaWV3KHZpZXc6IEFycmF5QnVmZmVyVmlldyB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0KHRoaXMpKSB7XG4gICAgICB0aHJvdyBieW9iUmVxdWVzdEJyYW5kQ2hlY2tFeGNlcHRpb24oJ3Jlc3BvbmRXaXRoTmV3VmlldycpO1xuICAgIH1cbiAgICBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50KHZpZXcsIDEsICdyZXNwb25kV2l0aE5ld1ZpZXcnKTtcblxuICAgIGlmICghQXJyYXlCdWZmZXIuaXNWaWV3KHZpZXcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgY2FuIG9ubHkgcmVzcG9uZCB3aXRoIGFycmF5IGJ1ZmZlciB2aWV3cycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIEJZT0IgcmVxdWVzdCBoYXMgYmVlbiBpbnZhbGlkYXRlZCcpO1xuICAgIH1cblxuICAgIGlmIChJc0RldGFjaGVkQnVmZmVyKHZpZXcuYnVmZmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGdpdmVuIHZpZXdcXCdzIGJ1ZmZlciBoYXMgYmVlbiBkZXRhY2hlZCBhbmQgc28gY2Fubm90IGJlIHVzZWQgYXMgYSByZXNwb25zZScpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kV2l0aE5ld1ZpZXcodGhpcy5fYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsIHZpZXcpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlLCB7XG4gIHJlc3BvbmQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICByZXNwb25kV2l0aE5ld1ZpZXc6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICB2aWV3OiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ1JlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QnLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuaW50ZXJmYWNlIEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlclZpZXc+IHtcbiAgbmV3KGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlLCBieXRlT2Zmc2V0OiBudW1iZXIsIGxlbmd0aD86IG51bWJlcik6IFQ7XG5cbiAgcmVhZG9ubHkgcHJvdG90eXBlOiBUO1xuICByZWFkb25seSBCWVRFU19QRVJfRUxFTUVOVDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQnl0ZVF1ZXVlRWxlbWVudCB7XG4gIGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlO1xuICBieXRlT2Zmc2V0OiBudW1iZXI7XG4gIGJ5dGVMZW5ndGg6IG51bWJlcjtcbn1cblxudHlwZSBQdWxsSW50b0Rlc2NyaXB0b3I8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyVmlldz4gPVxuICBEZWZhdWx0UHVsbEludG9EZXNjcmlwdG9yXG4gIHwgQllPQlB1bGxJbnRvRGVzY3JpcHRvcjxUPjtcblxuaW50ZXJmYWNlIERlZmF1bHRQdWxsSW50b0Rlc2NyaXB0b3Ige1xuICBidWZmZXI6IEFycmF5QnVmZmVyTGlrZTtcbiAgYnVmZmVyQnl0ZUxlbmd0aDogbnVtYmVyO1xuICBieXRlT2Zmc2V0OiBudW1iZXI7XG4gIGJ5dGVMZW5ndGg6IG51bWJlcjtcbiAgYnl0ZXNGaWxsZWQ6IG51bWJlcjtcbiAgZWxlbWVudFNpemU6IG51bWJlcjtcbiAgdmlld0NvbnN0cnVjdG9yOiBBcnJheUJ1ZmZlclZpZXdDb25zdHJ1Y3RvcjxVaW50OEFycmF5PjtcbiAgcmVhZGVyVHlwZTogJ2RlZmF1bHQnO1xufVxuXG5pbnRlcmZhY2UgQllPQlB1bGxJbnRvRGVzY3JpcHRvcjxUIGV4dGVuZHMgQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXJWaWV3PiB7XG4gIGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlO1xuICBidWZmZXJCeXRlTGVuZ3RoOiBudW1iZXI7XG4gIGJ5dGVPZmZzZXQ6IG51bWJlcjtcbiAgYnl0ZUxlbmd0aDogbnVtYmVyO1xuICBieXRlc0ZpbGxlZDogbnVtYmVyO1xuICBlbGVtZW50U2l6ZTogbnVtYmVyO1xuICB2aWV3Q29uc3RydWN0b3I6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPFQ+O1xuICByZWFkZXJUeXBlOiAnYnlvYic7XG59XG5cbi8qKlxuICogQWxsb3dzIGNvbnRyb2wgb2YgYSB7QGxpbmsgUmVhZGFibGVTdHJlYW0gfCByZWFkYWJsZSBieXRlIHN0cmVhbX0ncyBzdGF0ZSBhbmQgaW50ZXJuYWwgcXVldWUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0hOiBSZWFkYWJsZUJ5dGVTdHJlYW07XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3F1ZXVlITogU2ltcGxlUXVldWU8Qnl0ZVF1ZXVlRWxlbWVudD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3F1ZXVlVG90YWxTaXplITogbnVtYmVyO1xuICAvKiogQGludGVybmFsICovXG4gIF9zdGFydGVkITogYm9vbGVhbjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2xvc2VSZXF1ZXN0ZWQhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9wdWxsQWdhaW4hOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9wdWxsaW5nICE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0cmF0ZWd5SFdNITogbnVtYmVyO1xuICAvKiogQGludGVybmFsICovXG4gIF9wdWxsQWxnb3JpdGhtITogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2FuY2VsQWxnb3JpdGhtITogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9hdXRvQWxsb2NhdGVDaHVua1NpemU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYnlvYlJlcXVlc3Q6IFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QgfCBudWxsO1xuICAvKiogQGludGVybmFsICovXG4gIF9wZW5kaW5nUHVsbEludG9zITogU2ltcGxlUXVldWU8UHVsbEludG9EZXNjcmlwdG9yPjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgY29uc3RydWN0b3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IEJZT0IgcHVsbCByZXF1ZXN0LCBvciBgbnVsbGAgaWYgdGhlcmUgaXNuJ3Qgb25lLlxuICAgKi9cbiAgZ2V0IGJ5b2JSZXF1ZXN0KCk6IFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QgfCBudWxsIHtcbiAgICBpZiAoIUlzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgYnl0ZVN0cmVhbUNvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdieW9iUmVxdWVzdCcpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0QllPQlJlcXVlc3QodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVzaXJlZCBzaXplIHRvIGZpbGwgdGhlIGNvbnRyb2xsZWQgc3RyZWFtJ3MgaW50ZXJuYWwgcXVldWUuIEl0IGNhbiBiZSBuZWdhdGl2ZSwgaWYgdGhlIHF1ZXVlIGlzXG4gICAqIG92ZXItZnVsbC4gQW4gdW5kZXJseWluZyBieXRlIHNvdXJjZSBvdWdodCB0byB1c2UgdGhpcyBpbmZvcm1hdGlvbiB0byBkZXRlcm1pbmUgd2hlbiBhbmQgaG93IHRvIGFwcGx5IGJhY2twcmVzc3VyZS5cbiAgICovXG4gIGdldCBkZXNpcmVkU2l6ZSgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoIUlzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgYnl0ZVN0cmVhbUNvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdkZXNpcmVkU2l6ZScpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0RGVzaXJlZFNpemUodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBjb250cm9sbGVkIHJlYWRhYmxlIHN0cmVhbS4gQ29uc3VtZXJzIHdpbGwgc3RpbGwgYmUgYWJsZSB0byByZWFkIGFueSBwcmV2aW91c2x5LWVucXVldWVkIGNodW5rcyBmcm9tXG4gICAqIHRoZSBzdHJlYW0sIGJ1dCBvbmNlIHRob3NlIGFyZSByZWFkLCB0aGUgc3RyZWFtIHdpbGwgYmVjb21lIGNsb3NlZC5cbiAgICovXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBieXRlU3RyZWFtQ29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Nsb3NlJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2Nsb3NlUmVxdWVzdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgc3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkOyBkbyBub3QgY2xvc2UgaXQgYWdhaW4hJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtcbiAgICBpZiAoc3RhdGUgIT09ICdyZWFkYWJsZScpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBzdHJlYW0gKGluICR7c3RhdGV9IHN0YXRlKSBpcyBub3QgaW4gdGhlIHJlYWRhYmxlIHN0YXRlIGFuZCBjYW5ub3QgYmUgY2xvc2VkYCk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsb3NlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVucXVldWVzIHRoZSBnaXZlbiBjaHVuayBjaHVuayBpbiB0aGUgY29udHJvbGxlZCByZWFkYWJsZSBzdHJlYW0uXG4gICAqIFRoZSBjaHVuayBoYXMgdG8gYmUgYW4gYEFycmF5QnVmZmVyVmlld2AgaW5zdGFuY2UsIG9yIGVsc2UgYSBgVHlwZUVycm9yYCB3aWxsIGJlIHRocm93bi5cbiAgICovXG4gIGVucXVldWUoY2h1bms6IEFycmF5QnVmZmVyVmlldyk6IHZvaWQ7XG4gIGVucXVldWUoY2h1bms6IEFycmF5QnVmZmVyVmlldyB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBieXRlU3RyZWFtQ29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2VucXVldWUnKTtcbiAgICB9XG5cbiAgICBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50KGNodW5rLCAxLCAnZW5xdWV1ZScpO1xuICAgIGlmICghQXJyYXlCdWZmZXIuaXNWaWV3KGNodW5rKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2h1bmsgbXVzdCBiZSBhbiBhcnJheSBidWZmZXIgdmlldycpO1xuICAgIH1cbiAgICBpZiAoY2h1bmsuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2h1bmsgbXVzdCBoYXZlIG5vbi16ZXJvIGJ5dGVMZW5ndGgnKTtcbiAgICB9XG4gICAgaWYgKGNodW5rLmJ1ZmZlci5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBjaHVuaydzIGJ1ZmZlciBtdXN0IGhhdmUgbm9uLXplcm8gYnl0ZUxlbmd0aGApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jbG9zZVJlcXVlc3RlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc3RyZWFtIGlzIGNsb3NlZCBvciBkcmFpbmluZycpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbS5fc3RhdGU7XG4gICAgaWYgKHN0YXRlICE9PSAncmVhZGFibGUnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgc3RyZWFtIChpbiAke3N0YXRlfSBzdGF0ZSkgaXMgbm90IGluIHRoZSByZWFkYWJsZSBzdGF0ZSBhbmQgY2Fubm90IGJlIGVucXVldWVkIHRvYCk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWUodGhpcywgY2h1bmspO1xuICB9XG5cbiAgLyoqXG4gICAqIEVycm9ycyB0aGUgY29udHJvbGxlZCByZWFkYWJsZSBzdHJlYW0sIG1ha2luZyBhbGwgZnV0dXJlIGludGVyYWN0aW9ucyB3aXRoIGl0IGZhaWwgd2l0aCB0aGUgZ2l2ZW4gZXJyb3IgYGVgLlxuICAgKi9cbiAgZXJyb3IoZTogYW55ID0gdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGJ5dGVTdHJlYW1Db250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignZXJyb3InKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IodGhpcywgZSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIFtDYW5jZWxTdGVwc10ocmVhc29uOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xlYXJQZW5kaW5nUHVsbEludG9zKHRoaXMpO1xuXG4gICAgUmVzZXRRdWV1ZSh0aGlzKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2NhbmNlbEFsZ29yaXRobShyZWFzb24pO1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbGVhckFsZ29yaXRobXModGhpcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgW1B1bGxTdGVwc10ocmVhZFJlcXVlc3Q6IFJlYWRSZXF1ZXN0PFVpbnQ4QXJyYXk+KTogdm9pZCB7XG4gICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbTtcbiAgICBhc3NlcnQoUmVhZGFibGVTdHJlYW1IYXNEZWZhdWx0UmVhZGVyKHN0cmVhbSkpO1xuXG4gICAgaWYgKHRoaXMuX3F1ZXVlVG90YWxTaXplID4gMCkge1xuICAgICAgYXNzZXJ0KFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZFJlcXVlc3RzKHN0cmVhbSkgPT09IDApO1xuXG4gICAgICBjb25zdCBlbnRyeSA9IHRoaXMuX3F1ZXVlLnNoaWZ0KCkhO1xuICAgICAgdGhpcy5fcXVldWVUb3RhbFNpemUgLT0gZW50cnkuYnl0ZUxlbmd0aDtcblxuICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckhhbmRsZVF1ZXVlRHJhaW4odGhpcyk7XG5cbiAgICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheShlbnRyeS5idWZmZXIsIGVudHJ5LmJ5dGVPZmZzZXQsIGVudHJ5LmJ5dGVMZW5ndGgpO1xuXG4gICAgICByZWFkUmVxdWVzdC5fY2h1bmtTdGVwcyh2aWV3KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhdXRvQWxsb2NhdGVDaHVua1NpemUgPSB0aGlzLl9hdXRvQWxsb2NhdGVDaHVua1NpemU7XG4gICAgaWYgKGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgYnVmZmVyOiBBcnJheUJ1ZmZlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihhdXRvQWxsb2NhdGVDaHVua1NpemUpO1xuICAgICAgfSBjYXRjaCAoYnVmZmVyRSkge1xuICAgICAgICByZWFkUmVxdWVzdC5fZXJyb3JTdGVwcyhidWZmZXJFKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwdWxsSW50b0Rlc2NyaXB0b3I6IERlZmF1bHRQdWxsSW50b0Rlc2NyaXB0b3IgPSB7XG4gICAgICAgIGJ1ZmZlcixcbiAgICAgICAgYnVmZmVyQnl0ZUxlbmd0aDogYXV0b0FsbG9jYXRlQ2h1bmtTaXplLFxuICAgICAgICBieXRlT2Zmc2V0OiAwLFxuICAgICAgICBieXRlTGVuZ3RoOiBhdXRvQWxsb2NhdGVDaHVua1NpemUsXG4gICAgICAgIGJ5dGVzRmlsbGVkOiAwLFxuICAgICAgICBlbGVtZW50U2l6ZTogMSxcbiAgICAgICAgdmlld0NvbnN0cnVjdG9yOiBVaW50OEFycmF5LFxuICAgICAgICByZWFkZXJUeXBlOiAnZGVmYXVsdCdcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX3BlbmRpbmdQdWxsSW50b3MucHVzaChwdWxsSW50b0Rlc2NyaXB0b3IpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlU3RyZWFtQWRkUmVhZFJlcXVlc3Qoc3RyZWFtLCByZWFkUmVxdWVzdCk7XG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQodGhpcyk7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUsIHtcbiAgY2xvc2U6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBlbnF1ZXVlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZXJyb3I6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBieW9iUmVxdWVzdDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGRlc2lyZWRTaXplOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXInLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIuXG5cbmV4cG9ydCBmdW5jdGlvbiBJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIoeDogYW55KTogeCBpcyBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyIHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0nKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcjtcbn1cblxuZnVuY3Rpb24gSXNSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0KHg6IGFueSk6IHggaXMgUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdCB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0O1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZChjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKTogdm9pZCB7XG4gIGNvbnN0IHNob3VsZFB1bGwgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyU2hvdWxkQ2FsbFB1bGwoY29udHJvbGxlcik7XG4gIGlmICghc2hvdWxkUHVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb250cm9sbGVyLl9wdWxsaW5nKSB7XG4gICAgY29udHJvbGxlci5fcHVsbEFnYWluID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3NlcnQoIWNvbnRyb2xsZXIuX3B1bGxBZ2Fpbik7XG5cbiAgY29udHJvbGxlci5fcHVsbGluZyA9IHRydWU7XG5cbiAgLy8gVE9ETzogVGVzdCBjb250cm9sbGVyIGFyZ3VtZW50XG4gIGNvbnN0IHB1bGxQcm9taXNlID0gY29udHJvbGxlci5fcHVsbEFsZ29yaXRobSgpO1xuICB1cG9uUHJvbWlzZShcbiAgICBwdWxsUHJvbWlzZSxcbiAgICAoKSA9PiB7XG4gICAgICBjb250cm9sbGVyLl9wdWxsaW5nID0gZmFsc2U7XG5cbiAgICAgIGlmIChjb250cm9sbGVyLl9wdWxsQWdhaW4pIHtcbiAgICAgICAgY29udHJvbGxlci5fcHVsbEFnYWluID0gZmFsc2U7XG4gICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZSA9PiB7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgZSk7XG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xlYXJQZW5kaW5nUHVsbEludG9zKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIpIHtcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckludmFsaWRhdGVCWU9CUmVxdWVzdChjb250cm9sbGVyKTtcbiAgY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29tbWl0UHVsbEludG9EZXNjcmlwdG9yPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+KFxuICBzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgcHVsbEludG9EZXNjcmlwdG9yOiBQdWxsSW50b0Rlc2NyaXB0b3I8VD5cbikge1xuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSAhPT0gJ2Vycm9yZWQnKTtcblxuICBsZXQgZG9uZSA9IGZhbHNlO1xuICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICBhc3NlcnQocHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkID09PSAwKTtcbiAgICBkb25lID0gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGZpbGxlZFZpZXcgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29udmVydFB1bGxJbnRvRGVzY3JpcHRvcjxUPihwdWxsSW50b0Rlc2NyaXB0b3IpO1xuICBpZiAocHVsbEludG9EZXNjcmlwdG9yLnJlYWRlclR5cGUgPT09ICdkZWZhdWx0Jykge1xuICAgIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRSZXF1ZXN0KHN0cmVhbSwgZmlsbGVkVmlldyBhcyB1bmtub3duIGFzIFVpbnQ4QXJyYXksIGRvbmUpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChwdWxsSW50b0Rlc2NyaXB0b3IucmVhZGVyVHlwZSA9PT0gJ2J5b2InKTtcbiAgICBSZWFkYWJsZVN0cmVhbUZ1bGZpbGxSZWFkSW50b1JlcXVlc3Qoc3RyZWFtLCBmaWxsZWRWaWV3LCBkb25lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29udmVydFB1bGxJbnRvRGVzY3JpcHRvcjxUIGV4dGVuZHMgQXJyYXlCdWZmZXJWaWV3PihcbiAgcHVsbEludG9EZXNjcmlwdG9yOiBQdWxsSW50b0Rlc2NyaXB0b3I8VD5cbik6IFQge1xuICBjb25zdCBieXRlc0ZpbGxlZCA9IHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZDtcbiAgY29uc3QgZWxlbWVudFNpemUgPSBwdWxsSW50b0Rlc2NyaXB0b3IuZWxlbWVudFNpemU7XG5cbiAgYXNzZXJ0KGJ5dGVzRmlsbGVkIDw9IHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlTGVuZ3RoKTtcbiAgYXNzZXJ0KGJ5dGVzRmlsbGVkICUgZWxlbWVudFNpemUgPT09IDApO1xuXG4gIHJldHVybiBuZXcgcHVsbEludG9EZXNjcmlwdG9yLnZpZXdDb25zdHJ1Y3RvcihcbiAgICBwdWxsSW50b0Rlc2NyaXB0b3IuYnVmZmVyLCBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZU9mZnNldCwgYnl0ZXNGaWxsZWQgLyBlbGVtZW50U2l6ZSkgYXMgVDtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWVDaHVua1RvUXVldWUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZU9mZnNldDogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUxlbmd0aDogbnVtYmVyKSB7XG4gIGNvbnRyb2xsZXIuX3F1ZXVlLnB1c2goeyBidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGggfSk7XG4gIGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplICs9IGJ5dGVMZW5ndGg7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJGaWxsUHVsbEludG9EZXNjcmlwdG9yRnJvbVF1ZXVlKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsSW50b0Rlc2NyaXB0b3I6IFB1bGxJbnRvRGVzY3JpcHRvcikge1xuICBjb25zdCBlbGVtZW50U2l6ZSA9IHB1bGxJbnRvRGVzY3JpcHRvci5lbGVtZW50U2l6ZTtcblxuICBjb25zdCBjdXJyZW50QWxpZ25lZEJ5dGVzID0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkIC0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkICUgZWxlbWVudFNpemU7XG5cbiAgY29uc3QgbWF4Qnl0ZXNUb0NvcHkgPSBNYXRoLm1pbihjb250cm9sbGVyLl9xdWV1ZVRvdGFsU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZUxlbmd0aCAtIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZCk7XG4gIGNvbnN0IG1heEJ5dGVzRmlsbGVkID0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkICsgbWF4Qnl0ZXNUb0NvcHk7XG4gIGNvbnN0IG1heEFsaWduZWRCeXRlcyA9IG1heEJ5dGVzRmlsbGVkIC0gbWF4Qnl0ZXNGaWxsZWQgJSBlbGVtZW50U2l6ZTtcblxuICBsZXQgdG90YWxCeXRlc1RvQ29weVJlbWFpbmluZyA9IG1heEJ5dGVzVG9Db3B5O1xuICBsZXQgcmVhZHkgPSBmYWxzZTtcbiAgaWYgKG1heEFsaWduZWRCeXRlcyA+IGN1cnJlbnRBbGlnbmVkQnl0ZXMpIHtcbiAgICB0b3RhbEJ5dGVzVG9Db3B5UmVtYWluaW5nID0gbWF4QWxpZ25lZEJ5dGVzIC0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IHF1ZXVlID0gY29udHJvbGxlci5fcXVldWU7XG5cbiAgd2hpbGUgKHRvdGFsQnl0ZXNUb0NvcHlSZW1haW5pbmcgPiAwKSB7XG4gICAgY29uc3QgaGVhZE9mUXVldWUgPSBxdWV1ZS5wZWVrKCk7XG5cbiAgICBjb25zdCBieXRlc1RvQ29weSA9IE1hdGgubWluKHRvdGFsQnl0ZXNUb0NvcHlSZW1haW5pbmcsIGhlYWRPZlF1ZXVlLmJ5dGVMZW5ndGgpO1xuXG4gICAgY29uc3QgZGVzdFN0YXJ0ID0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVPZmZzZXQgKyBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQ7XG4gICAgQ29weURhdGFCbG9ja0J5dGVzKHB1bGxJbnRvRGVzY3JpcHRvci5idWZmZXIsIGRlc3RTdGFydCwgaGVhZE9mUXVldWUuYnVmZmVyLCBoZWFkT2ZRdWV1ZS5ieXRlT2Zmc2V0LCBieXRlc1RvQ29weSk7XG5cbiAgICBpZiAoaGVhZE9mUXVldWUuYnl0ZUxlbmd0aCA9PT0gYnl0ZXNUb0NvcHkpIHtcbiAgICAgIHF1ZXVlLnNoaWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRPZlF1ZXVlLmJ5dGVPZmZzZXQgKz0gYnl0ZXNUb0NvcHk7XG4gICAgICBoZWFkT2ZRdWV1ZS5ieXRlTGVuZ3RoIC09IGJ5dGVzVG9Db3B5O1xuICAgIH1cbiAgICBjb250cm9sbGVyLl9xdWV1ZVRvdGFsU2l6ZSAtPSBieXRlc1RvQ29weTtcblxuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJGaWxsSGVhZFB1bGxJbnRvRGVzY3JpcHRvcihjb250cm9sbGVyLCBieXRlc1RvQ29weSwgcHVsbEludG9EZXNjcmlwdG9yKTtcblxuICAgIHRvdGFsQnl0ZXNUb0NvcHlSZW1haW5pbmcgLT0gYnl0ZXNUb0NvcHk7XG4gIH1cblxuICBpZiAoIXJlYWR5KSB7XG4gICAgYXNzZXJ0KGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplID09PSAwKTtcbiAgICBhc3NlcnQocHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkID4gMCk7XG4gICAgYXNzZXJ0KHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZCA8IHB1bGxJbnRvRGVzY3JpcHRvci5lbGVtZW50U2l6ZSk7XG4gIH1cblxuICByZXR1cm4gcmVhZHk7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJGaWxsSGVhZFB1bGxJbnRvRGVzY3JpcHRvcihjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsSW50b0Rlc2NyaXB0b3I6IFB1bGxJbnRvRGVzY3JpcHRvcikge1xuICBhc3NlcnQoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPT09IDAgfHwgY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCkgPT09IHB1bGxJbnRvRGVzY3JpcHRvcik7XG4gIGFzc2VydChjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9PT0gbnVsbCk7XG4gIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZCArPSBzaXplO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVySGFuZGxlUXVldWVEcmFpbihjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKSB7XG4gIGFzc2VydChjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZSA9PT0gJ3JlYWRhYmxlJyk7XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplID09PSAwICYmIGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkKSB7XG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgICBSZWFkYWJsZVN0cmVhbUNsb3NlKGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0pO1xuICB9IGVsc2Uge1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJJbnZhbGlkYXRlQllPQlJlcXVlc3QoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcikge1xuICBpZiAoY29udHJvbGxlci5fYnlvYlJlcXVlc3QgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb250cm9sbGVyLl9ieW9iUmVxdWVzdC5fYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIgPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9ieW9iUmVxdWVzdC5fdmlldyA9IG51bGwhO1xuICBjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJQcm9jZXNzUHVsbEludG9EZXNjcmlwdG9yc1VzaW5nUXVldWUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcikge1xuICBhc3NlcnQoIWNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkKTtcblxuICB3aGlsZSAoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHVsbEludG9EZXNjcmlwdG9yID0gY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7XG5cbiAgICBpZiAoUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZpbGxQdWxsSW50b0Rlc2NyaXB0b3JGcm9tUXVldWUoY29udHJvbGxlciwgcHVsbEludG9EZXNjcmlwdG9yKSkge1xuICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclNoaWZ0UGVuZGluZ1B1bGxJbnRvKGNvbnRyb2xsZXIpO1xuXG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29tbWl0UHVsbEludG9EZXNjcmlwdG9yKFxuICAgICAgICBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLFxuICAgICAgICBwdWxsSW50b0Rlc2NyaXB0b3JcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUHVsbEludG88VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4oXG4gIGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIHZpZXc6IFQsXG4gIHJlYWRJbnRvUmVxdWVzdDogUmVhZEludG9SZXF1ZXN0PFQ+XG4pOiB2b2lkIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbTtcblxuICBsZXQgZWxlbWVudFNpemUgPSAxO1xuICBpZiAodmlldy5jb25zdHJ1Y3RvciAhPT0gRGF0YVZpZXcpIHtcbiAgICBlbGVtZW50U2l6ZSA9ICh2aWV3LmNvbnN0cnVjdG9yIGFzIEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPFQ+KS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgfVxuXG4gIGNvbnN0IGN0b3IgPSB2aWV3LmNvbnN0cnVjdG9yIGFzIEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPFQ+O1xuXG4gIC8vIHRyeSB7XG4gIGNvbnN0IGJ1ZmZlciA9IFRyYW5zZmVyQXJyYXlCdWZmZXIodmlldy5idWZmZXIpO1xuICAvLyB9IGNhdGNoIChlKSB7XG4gIC8vICAgcmVhZEludG9SZXF1ZXN0Ll9lcnJvclN0ZXBzKGUpO1xuICAvLyAgIHJldHVybjtcbiAgLy8gfVxuXG4gIGNvbnN0IHB1bGxJbnRvRGVzY3JpcHRvcjogQllPQlB1bGxJbnRvRGVzY3JpcHRvcjxUPiA9IHtcbiAgICBidWZmZXIsXG4gICAgYnVmZmVyQnl0ZUxlbmd0aDogYnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgYnl0ZU9mZnNldDogdmlldy5ieXRlT2Zmc2V0LFxuICAgIGJ5dGVMZW5ndGg6IHZpZXcuYnl0ZUxlbmd0aCxcbiAgICBieXRlc0ZpbGxlZDogMCxcbiAgICBlbGVtZW50U2l6ZSxcbiAgICB2aWV3Q29uc3RydWN0b3I6IGN0b3IsXG4gICAgcmVhZGVyVHlwZTogJ2J5b2InXG4gIH07XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgIGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucHVzaChwdWxsSW50b0Rlc2NyaXB0b3IpO1xuXG4gICAgLy8gTm8gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoKSBjYWxsIHNpbmNlOlxuICAgIC8vIC0gTm8gY2hhbmdlIGhhcHBlbnMgb24gZGVzaXJlZFNpemVcbiAgICAvLyAtIFRoZSBzb3VyY2UgaGFzIGFscmVhZHkgYmVlbiBub3RpZmllZCBvZiB0aGF0IHRoZXJlJ3MgYXQgbGVhc3QgMSBwZW5kaW5nIHJlYWQodmlldylcblxuICAgIFJlYWRhYmxlU3RyZWFtQWRkUmVhZEludG9SZXF1ZXN0KHN0cmVhbSwgcmVhZEludG9SZXF1ZXN0KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICBjb25zdCBlbXB0eVZpZXcgPSBuZXcgY3RvcihwdWxsSW50b0Rlc2NyaXB0b3IuYnVmZmVyLCBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZU9mZnNldCwgMCk7XG4gICAgcmVhZEludG9SZXF1ZXN0Ll9jbG9zZVN0ZXBzKGVtcHR5Vmlldyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplID4gMCkge1xuICAgIGlmIChSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRmlsbFB1bGxJbnRvRGVzY3JpcHRvckZyb21RdWV1ZShjb250cm9sbGVyLCBwdWxsSW50b0Rlc2NyaXB0b3IpKSB7XG4gICAgICBjb25zdCBmaWxsZWRWaWV3ID0gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNvbnZlcnRQdWxsSW50b0Rlc2NyaXB0b3I8VD4ocHVsbEludG9EZXNjcmlwdG9yKTtcblxuICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckhhbmRsZVF1ZXVlRHJhaW4oY29udHJvbGxlcik7XG5cbiAgICAgIHJlYWRJbnRvUmVxdWVzdC5fY2h1bmtTdGVwcyhmaWxsZWRWaWV3KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQpIHtcbiAgICAgIGNvbnN0IGUgPSBuZXcgVHlwZUVycm9yKCdJbnN1ZmZpY2llbnQgYnl0ZXMgdG8gZmlsbCBlbGVtZW50cyBpbiB0aGUgZ2l2ZW4gYnVmZmVyJyk7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgZSk7XG5cbiAgICAgIHJlYWRJbnRvUmVxdWVzdC5fZXJyb3JTdGVwcyhlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnB1c2gocHVsbEludG9EZXNjcmlwdG9yKTtcblxuICBSZWFkYWJsZVN0cmVhbUFkZFJlYWRJbnRvUmVxdWVzdDxUPihzdHJlYW0sIHJlYWRJbnRvUmVxdWVzdCk7XG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZEluQ2xvc2VkU3RhdGUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERlc2NyaXB0b3I6IFB1bGxJbnRvRGVzY3JpcHRvcikge1xuICBhc3NlcnQoZmlyc3REZXNjcmlwdG9yLmJ5dGVzRmlsbGVkID09PSAwKTtcblxuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuICBpZiAoUmVhZGFibGVTdHJlYW1IYXNCWU9CUmVhZGVyKHN0cmVhbSkpIHtcbiAgICB3aGlsZSAoUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkSW50b1JlcXVlc3RzKHN0cmVhbSkgPiAwKSB7XG4gICAgICBjb25zdCBwdWxsSW50b0Rlc2NyaXB0b3IgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyU2hpZnRQZW5kaW5nUHVsbEludG8oY29udHJvbGxlcik7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29tbWl0UHVsbEludG9EZXNjcmlwdG9yKHN0cmVhbSwgcHVsbEludG9EZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRJblJlYWRhYmxlU3RhdGUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzV3JpdHRlbjogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVsbEludG9EZXNjcmlwdG9yOiBQdWxsSW50b0Rlc2NyaXB0b3IpIHtcbiAgYXNzZXJ0KHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZCArIGJ5dGVzV3JpdHRlbiA8PSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZUxlbmd0aCk7XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZpbGxIZWFkUHVsbEludG9EZXNjcmlwdG9yKGNvbnRyb2xsZXIsIGJ5dGVzV3JpdHRlbiwgcHVsbEludG9EZXNjcmlwdG9yKTtcblxuICBpZiAocHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkIDwgcHVsbEludG9EZXNjcmlwdG9yLmVsZW1lbnRTaXplKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclNoaWZ0UGVuZGluZ1B1bGxJbnRvKGNvbnRyb2xsZXIpO1xuXG4gIGNvbnN0IHJlbWFpbmRlclNpemUgPSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgJSBwdWxsSW50b0Rlc2NyaXB0b3IuZWxlbWVudFNpemU7XG4gIGlmIChyZW1haW5kZXJTaXplID4gMCkge1xuICAgIGNvbnN0IGVuZCA9IHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlT2Zmc2V0ICsgcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkO1xuICAgIGNvbnN0IHJlbWFpbmRlciA9IEFycmF5QnVmZmVyU2xpY2UocHVsbEludG9EZXNjcmlwdG9yLmJ1ZmZlciwgZW5kIC0gcmVtYWluZGVyU2l6ZSwgZW5kKTtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZUNodW5rVG9RdWV1ZShjb250cm9sbGVyLCByZW1haW5kZXIsIDAsIHJlbWFpbmRlci5ieXRlTGVuZ3RoKTtcbiAgfVxuXG4gIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZCAtPSByZW1haW5kZXJTaXplO1xuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29tbWl0UHVsbEludG9EZXNjcmlwdG9yKGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0sIHB1bGxJbnRvRGVzY3JpcHRvcik7XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclByb2Nlc3NQdWxsSW50b0Rlc2NyaXB0b3JzVXNpbmdRdWV1ZShjb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRJbnRlcm5hbChjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLCBieXRlc1dyaXR0ZW46IG51bWJlcikge1xuICBjb25zdCBmaXJzdERlc2NyaXB0b3IgPSBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKTtcbiAgYXNzZXJ0KENhblRyYW5zZmVyQXJyYXlCdWZmZXIoZmlyc3REZXNjcmlwdG9yLmJ1ZmZlcikpO1xuXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJJbnZhbGlkYXRlQllPQlJlcXVlc3QoY29udHJvbGxlcik7XG5cbiAgY29uc3Qgc3RhdGUgPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtcbiAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgIGFzc2VydChieXRlc1dyaXR0ZW4gPT09IDApO1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kSW5DbG9zZWRTdGF0ZShjb250cm9sbGVyLCBmaXJzdERlc2NyaXB0b3IpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydChzdGF0ZSA9PT0gJ3JlYWRhYmxlJyk7XG4gICAgYXNzZXJ0KGJ5dGVzV3JpdHRlbiA+IDApO1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kSW5SZWFkYWJsZVN0YXRlKGNvbnRyb2xsZXIsIGJ5dGVzV3JpdHRlbiwgZmlyc3REZXNjcmlwdG9yKTtcbiAgfVxuXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyU2hpZnRQZW5kaW5nUHVsbEludG8oXG4gIGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJcbik6IFB1bGxJbnRvRGVzY3JpcHRvciB7XG4gIGFzc2VydChjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9PT0gbnVsbCk7XG4gIGNvbnN0IGRlc2NyaXB0b3IgPSBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnNoaWZ0KCkhO1xuICByZXR1cm4gZGVzY3JpcHRvcjtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclNob3VsZENhbGxQdWxsKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIpOiBib29sZWFuIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbTtcblxuICBpZiAoc3RyZWFtLl9zdGF0ZSAhPT0gJ3JlYWRhYmxlJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChjb250cm9sbGVyLl9jbG9zZVJlcXVlc3RlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghY29udHJvbGxlci5fc3RhcnRlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChSZWFkYWJsZVN0cmVhbUhhc0RlZmF1bHRSZWFkZXIoc3RyZWFtKSAmJiBSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRSZXF1ZXN0cyhzdHJlYW0pID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKFJlYWRhYmxlU3RyZWFtSGFzQllPQlJlYWRlcihzdHJlYW0pICYmIFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZEludG9SZXF1ZXN0cyhzdHJlYW0pID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgZGVzaXJlZFNpemUgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0RGVzaXJlZFNpemUoY29udHJvbGxlcik7XG4gIGFzc2VydChkZXNpcmVkU2l6ZSAhPT0gbnVsbCk7XG4gIGlmIChkZXNpcmVkU2l6ZSEgPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbGVhckFsZ29yaXRobXMoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcikge1xuICBjb250cm9sbGVyLl9wdWxsQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fY2FuY2VsQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbn1cblxuLy8gQSBjbGllbnQgb2YgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciBtYXkgdXNlIHRoZXNlIGZ1bmN0aW9ucyBkaXJlY3RseSB0byBieXBhc3Mgc3RhdGUgY2hlY2suXG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xvc2UoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcikge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuXG4gIGlmIChjb250cm9sbGVyLl9jbG9zZVJlcXVlc3RlZCB8fCBzdHJlYW0uX3N0YXRlICE9PSAncmVhZGFibGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplID4gMCkge1xuICAgIGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkID0gdHJ1ZTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaXJzdFBlbmRpbmdQdWxsSW50byA9IGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO1xuICAgIGlmIChmaXJzdFBlbmRpbmdQdWxsSW50by5ieXRlc0ZpbGxlZCA+IDApIHtcbiAgICAgIGNvbnN0IGUgPSBuZXcgVHlwZUVycm9yKCdJbnN1ZmZpY2llbnQgYnl0ZXMgdG8gZmlsbCBlbGVtZW50cyBpbiB0aGUgZ2l2ZW4gYnVmZmVyJyk7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgZSk7XG5cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgUmVhZGFibGVTdHJlYW1DbG9zZShzdHJlYW0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciwgY2h1bms6IEFycmF5QnVmZmVyVmlldykge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuXG4gIGlmIChjb250cm9sbGVyLl9jbG9zZVJlcXVlc3RlZCB8fCBzdHJlYW0uX3N0YXRlICE9PSAncmVhZGFibGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYnVmZmVyID0gY2h1bmsuYnVmZmVyO1xuICBjb25zdCBieXRlT2Zmc2V0ID0gY2h1bmsuYnl0ZU9mZnNldDtcbiAgY29uc3QgYnl0ZUxlbmd0aCA9IGNodW5rLmJ5dGVMZW5ndGg7XG4gIGlmIChJc0RldGFjaGVkQnVmZmVyKGJ1ZmZlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjaHVua1xcJ3MgYnVmZmVyIGlzIGRldGFjaGVkIGFuZCBzbyBjYW5ub3QgYmUgZW5xdWV1ZWQnKTtcbiAgfVxuICBjb25zdCB0cmFuc2ZlcnJlZEJ1ZmZlciA9IFRyYW5zZmVyQXJyYXlCdWZmZXIoYnVmZmVyKTtcblxuICBpZiAoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlyc3RQZW5kaW5nUHVsbEludG8gPSBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKTtcbiAgICBpZiAoSXNEZXRhY2hlZEJ1ZmZlcihmaXJzdFBlbmRpbmdQdWxsSW50by5idWZmZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnVGhlIEJZT0IgcmVxdWVzdFxcJ3MgYnVmZmVyIGhhcyBiZWVuIGRldGFjaGVkIGFuZCBzbyBjYW5ub3QgYmUgZmlsbGVkIHdpdGggYW4gZW5xdWV1ZWQgY2h1bmsnXG4gICAgICApO1xuICAgIH1cbiAgICBmaXJzdFBlbmRpbmdQdWxsSW50by5idWZmZXIgPSBUcmFuc2ZlckFycmF5QnVmZmVyKGZpcnN0UGVuZGluZ1B1bGxJbnRvLmJ1ZmZlcik7XG4gIH1cblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVySW52YWxpZGF0ZUJZT0JSZXF1ZXN0KGNvbnRyb2xsZXIpO1xuXG4gIGlmIChSZWFkYWJsZVN0cmVhbUhhc0RlZmF1bHRSZWFkZXIoc3RyZWFtKSkge1xuICAgIGlmIChSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRSZXF1ZXN0cyhzdHJlYW0pID09PSAwKSB7XG4gICAgICBhc3NlcnQoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPT09IDApO1xuICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWVDaHVua1RvUXVldWUoY29udHJvbGxlciwgdHJhbnNmZXJyZWRCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoY29udHJvbGxlci5fcXVldWUubGVuZ3RoID09PSAwKTtcbiAgICAgIGlmIChjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXNzZXJ0KGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpLnJlYWRlclR5cGUgPT09ICdkZWZhdWx0Jyk7XG4gICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJTaGlmdFBlbmRpbmdQdWxsSW50byhjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyYW5zZmVycmVkVmlldyA9IG5ldyBVaW50OEFycmF5KHRyYW5zZmVycmVkQnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICAgIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRSZXF1ZXN0KHN0cmVhbSwgdHJhbnNmZXJyZWRWaWV3LCBmYWxzZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKFJlYWRhYmxlU3RyZWFtSGFzQllPQlJlYWRlcihzdHJlYW0pKSB7XG4gICAgLy8gVE9ETzogSWRlYWxseSBpbiB0aGlzIGJyYW5jaCBkZXRhY2hpbmcgc2hvdWxkIGhhcHBlbiBvbmx5IGlmIHRoZSBidWZmZXIgaXMgbm90IGNvbnN1bWVkIGZ1bGx5LlxuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFbnF1ZXVlQ2h1bmtUb1F1ZXVlKGNvbnRyb2xsZXIsIHRyYW5zZmVycmVkQnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUHJvY2Vzc1B1bGxJbnRvRGVzY3JpcHRvcnNVc2luZ1F1ZXVlKGNvbnRyb2xsZXIpO1xuICB9IGVsc2Uge1xuICAgIGFzc2VydCghSXNSZWFkYWJsZVN0cmVhbUxvY2tlZChzdHJlYW0pKTtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZUNodW5rVG9RdWV1ZShjb250cm9sbGVyLCB0cmFuc2ZlcnJlZEJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gIH1cblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZChjb250cm9sbGVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLCBlOiBhbnkpIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbTtcblxuICBpZiAoc3RyZWFtLl9zdGF0ZSAhPT0gJ3JlYWRhYmxlJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbGVhclBlbmRpbmdQdWxsSW50b3MoY29udHJvbGxlcik7XG5cbiAgUmVzZXRRdWV1ZShjb250cm9sbGVyKTtcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgUmVhZGFibGVTdHJlYW1FcnJvcihzdHJlYW0sIGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckdldEJZT0JSZXF1ZXN0KFxuICBjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyXG4pOiBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0IHwgbnVsbCB7XG4gIGlmIChjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9PT0gbnVsbCAmJiBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaXJzdERlc2NyaXB0b3IgPSBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKTtcbiAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoZmlyc3REZXNjcmlwdG9yLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REZXNjcmlwdG9yLmJ5dGVPZmZzZXQgKyBmaXJzdERlc2NyaXB0b3IuYnl0ZXNGaWxsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0RGVzY3JpcHRvci5ieXRlTGVuZ3RoIC0gZmlyc3REZXNjcmlwdG9yLmJ5dGVzRmlsbGVkKTtcblxuICAgIGNvbnN0IGJ5b2JSZXF1ZXN0OiBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0ID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LnByb3RvdHlwZSk7XG4gICAgU2V0VXBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0KGJ5b2JSZXF1ZXN0LCBjb250cm9sbGVyLCB2aWV3KTtcbiAgICBjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9IGJ5b2JSZXF1ZXN0O1xuICB9XG4gIHJldHVybiBjb250cm9sbGVyLl9ieW9iUmVxdWVzdDtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckdldERlc2lyZWRTaXplKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3Qgc3RhdGUgPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtcblxuICBpZiAoc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiBjb250cm9sbGVyLl9zdHJhdGVneUhXTSAtIGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmQoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciwgYnl0ZXNXcml0dGVuOiBudW1iZXIpIHtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCk7XG5cbiAgY29uc3QgZmlyc3REZXNjcmlwdG9yID0gY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7XG4gIGNvbnN0IHN0YXRlID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbS5fc3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgIGlmIChieXRlc1dyaXR0ZW4gIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2J5dGVzV3JpdHRlbiBtdXN0IGJlIDAgd2hlbiBjYWxsaW5nIHJlc3BvbmQoKSBvbiBhIGNsb3NlZCBzdHJlYW0nKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KHN0YXRlID09PSAncmVhZGFibGUnKTtcbiAgICBpZiAoYnl0ZXNXcml0dGVuID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdieXRlc1dyaXR0ZW4gbXVzdCBiZSBncmVhdGVyIHRoYW4gMCB3aGVuIGNhbGxpbmcgcmVzcG9uZCgpIG9uIGEgcmVhZGFibGUgc3RyZWFtJyk7XG4gICAgfVxuICAgIGlmIChmaXJzdERlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgKyBieXRlc1dyaXR0ZW4gPiBmaXJzdERlc2NyaXB0b3IuYnl0ZUxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2J5dGVzV3JpdHRlbiBvdXQgb2YgcmFuZ2UnKTtcbiAgICB9XG4gIH1cblxuICBmaXJzdERlc2NyaXB0b3IuYnVmZmVyID0gVHJhbnNmZXJBcnJheUJ1ZmZlcihmaXJzdERlc2NyaXB0b3IuYnVmZmVyKTtcblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZEludGVybmFsKGNvbnRyb2xsZXIsIGJ5dGVzV3JpdHRlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZFdpdGhOZXdWaWV3KGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBBcnJheUJ1ZmZlclZpZXcpIHtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCk7XG4gIGFzc2VydCghSXNEZXRhY2hlZEJ1ZmZlcih2aWV3LmJ1ZmZlcikpO1xuXG4gIGNvbnN0IGZpcnN0RGVzY3JpcHRvciA9IGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO1xuICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlO1xuXG4gIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICBpZiAodmlldy5ieXRlTGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgdmlld1xcJ3MgbGVuZ3RoIG11c3QgYmUgMCB3aGVuIGNhbGxpbmcgcmVzcG9uZFdpdGhOZXdWaWV3KCkgb24gYSBjbG9zZWQgc3RyZWFtJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFzc2VydChzdGF0ZSA9PT0gJ3JlYWRhYmxlJyk7XG4gICAgaWYgKHZpZXcuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ1RoZSB2aWV3XFwncyBsZW5ndGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMCB3aGVuIGNhbGxpbmcgcmVzcG9uZFdpdGhOZXdWaWV3KCkgb24gYSByZWFkYWJsZSBzdHJlYW0nXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmaXJzdERlc2NyaXB0b3IuYnl0ZU9mZnNldCArIGZpcnN0RGVzY3JpcHRvci5ieXRlc0ZpbGxlZCAhPT0gdmlldy5ieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSByZWdpb24gc3BlY2lmaWVkIGJ5IHZpZXcgZG9lcyBub3QgbWF0Y2ggYnlvYlJlcXVlc3QnKTtcbiAgfVxuICBpZiAoZmlyc3REZXNjcmlwdG9yLmJ1ZmZlckJ5dGVMZW5ndGggIT09IHZpZXcuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIGJ1ZmZlciBvZiB2aWV3IGhhcyBkaWZmZXJlbnQgY2FwYWNpdHkgdGhhbiBieW9iUmVxdWVzdCcpO1xuICB9XG4gIGlmIChmaXJzdERlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgKyB2aWV3LmJ5dGVMZW5ndGggPiBmaXJzdERlc2NyaXB0b3IuYnl0ZUxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgcmVnaW9uIHNwZWNpZmllZCBieSB2aWV3IGlzIGxhcmdlciB0aGFuIGJ5b2JSZXF1ZXN0Jyk7XG4gIH1cblxuICBjb25zdCB2aWV3Qnl0ZUxlbmd0aCA9IHZpZXcuYnl0ZUxlbmd0aDtcbiAgZmlyc3REZXNjcmlwdG9yLmJ1ZmZlciA9IFRyYW5zZmVyQXJyYXlCdWZmZXIodmlldy5idWZmZXIpO1xuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZEludGVybmFsKGNvbnRyb2xsZXIsIHZpZXdCeXRlTGVuZ3RoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNldFVwUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcihzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVsbEFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hXYXRlck1hcms6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0FsbG9jYXRlQ2h1bmtTaXplOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgYXNzZXJ0KHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyID09PSB1bmRlZmluZWQpO1xuICBpZiAoYXV0b0FsbG9jYXRlQ2h1bmtTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICBhc3NlcnQoTnVtYmVySXNJbnRlZ2VyKGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSkpO1xuICAgIGFzc2VydChhdXRvQWxsb2NhdGVDaHVua1NpemUgPiAwKTtcbiAgfVxuXG4gIGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0gPSBzdHJlYW07XG5cbiAgY29udHJvbGxlci5fcHVsbEFnYWluID0gZmFsc2U7XG4gIGNvbnRyb2xsZXIuX3B1bGxpbmcgPSBmYWxzZTtcblxuICBjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9IG51bGw7XG5cbiAgLy8gTmVlZCB0byBzZXQgdGhlIHNsb3RzIHNvIHRoYXQgdGhlIGFzc2VydCBkb2Vzbid0IGZpcmUuIEluIHRoZSBzcGVjIHRoZSBzbG90cyBhbHJlYWR5IGV4aXN0IGltcGxpY2l0bHkuXG4gIGNvbnRyb2xsZXIuX3F1ZXVlID0gY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPSB1bmRlZmluZWQhO1xuICBSZXNldFF1ZXVlKGNvbnRyb2xsZXIpO1xuXG4gIGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkID0gZmFsc2U7XG4gIGNvbnRyb2xsZXIuX3N0YXJ0ZWQgPSBmYWxzZTtcblxuICBjb250cm9sbGVyLl9zdHJhdGVneUhXTSA9IGhpZ2hXYXRlck1hcms7XG5cbiAgY29udHJvbGxlci5fcHVsbEFsZ29yaXRobSA9IHB1bGxBbGdvcml0aG07XG4gIGNvbnRyb2xsZXIuX2NhbmNlbEFsZ29yaXRobSA9IGNhbmNlbEFsZ29yaXRobTtcblxuICBjb250cm9sbGVyLl9hdXRvQWxsb2NhdGVDaHVua1NpemUgPSBhdXRvQWxsb2NhdGVDaHVua1NpemU7XG5cbiAgY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xuXG4gIHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcblxuICBjb25zdCBzdGFydFJlc3VsdCA9IHN0YXJ0QWxnb3JpdGhtKCk7XG4gIHVwb25Qcm9taXNlKFxuICAgIHByb21pc2VSZXNvbHZlZFdpdGgoc3RhcnRSZXN1bHQpLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuX3N0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICBhc3NlcnQoIWNvbnRyb2xsZXIuX3B1bGxpbmcpO1xuICAgICAgYXNzZXJ0KCFjb250cm9sbGVyLl9wdWxsQWdhaW4pO1xuXG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZChjb250cm9sbGVyKTtcbiAgICB9LFxuICAgIHIgPT4ge1xuICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVycm9yKGNvbnRyb2xsZXIsIHIpO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNldFVwUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZyb21VbmRlcmx5aW5nU291cmNlKFxuICBzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgdW5kZXJseWluZ0J5dGVTb3VyY2U6IFZhbGlkYXRlZFVuZGVybHlpbmdCeXRlU291cmNlLFxuICBoaWdoV2F0ZXJNYXJrOiBudW1iZXJcbikge1xuICBjb25zdCBjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSk7XG5cbiAgbGV0IHN0YXJ0QWxnb3JpdGhtOiAoKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4gPSAoKSA9PiB1bmRlZmluZWQ7XG4gIGxldCBwdWxsQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+ID0gKCkgPT4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICBsZXQgY2FuY2VsQWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG5cbiAgaWYgKHVuZGVybHlpbmdCeXRlU291cmNlLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydEFsZ29yaXRobSA9ICgpID0+IHVuZGVybHlpbmdCeXRlU291cmNlLnN0YXJ0IShjb250cm9sbGVyKTtcbiAgfVxuICBpZiAodW5kZXJseWluZ0J5dGVTb3VyY2UucHVsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcHVsbEFsZ29yaXRobSA9ICgpID0+IHVuZGVybHlpbmdCeXRlU291cmNlLnB1bGwhKGNvbnRyb2xsZXIpO1xuICB9XG4gIGlmICh1bmRlcmx5aW5nQnl0ZVNvdXJjZS5jYW5jZWwgIT09IHVuZGVmaW5lZCkge1xuICAgIGNhbmNlbEFsZ29yaXRobSA9IHJlYXNvbiA9PiB1bmRlcmx5aW5nQnl0ZVNvdXJjZS5jYW5jZWwhKHJlYXNvbik7XG4gIH1cblxuICBjb25zdCBhdXRvQWxsb2NhdGVDaHVua1NpemUgPSB1bmRlcmx5aW5nQnl0ZVNvdXJjZS5hdXRvQWxsb2NhdGVDaHVua1NpemU7XG4gIGlmIChhdXRvQWxsb2NhdGVDaHVua1NpemUgPT09IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdXRvQWxsb2NhdGVDaHVua1NpemUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICB9XG5cbiAgU2V0VXBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKFxuICAgIHN0cmVhbSwgY29udHJvbGxlciwgc3RhcnRBbGdvcml0aG0sIHB1bGxBbGdvcml0aG0sIGNhbmNlbEFsZ29yaXRobSwgaGlnaFdhdGVyTWFyaywgYXV0b0FsbG9jYXRlQ2h1bmtTaXplXG4gICk7XG59XG5cbmZ1bmN0aW9uIFNldFVwUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdChyZXF1ZXN0OiBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldzogQXJyYXlCdWZmZXJWaWV3KSB7XG4gIGFzc2VydChJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIoY29udHJvbGxlcikpO1xuICBhc3NlcnQodHlwZW9mIHZpZXcgPT09ICdvYmplY3QnKTtcbiAgYXNzZXJ0KEFycmF5QnVmZmVyLmlzVmlldyh2aWV3KSk7XG4gIGFzc2VydCghSXNEZXRhY2hlZEJ1ZmZlcih2aWV3LmJ1ZmZlcikpO1xuICByZXF1ZXN0Ll9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gIHJlcXVlc3QuX3ZpZXcgPSB2aWV3O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdC5cblxuZnVuY3Rpb24gYnlvYlJlcXVlc3RCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFxuICAgIGBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0YCk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLlxuXG5mdW5jdGlvbiBieXRlU3RyZWFtQ29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJgKTtcbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgU2ltcGxlUXVldWUgfSBmcm9tICcuLi9zaW1wbGUtcXVldWUnO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljQ2FuY2VsLFxuICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNJbml0aWFsaXplLFxuICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlLFxuICByZWFkZXJMb2NrRXhjZXB0aW9uXG59IGZyb20gJy4vZ2VuZXJpYy1yZWFkZXInO1xuaW1wb3J0IHsgSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCwgUmVhZGFibGVCeXRlU3RyZWFtLCBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQge1xuICBJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJQdWxsSW50b1xufSBmcm9tICcuL2J5dGUtc3RyZWFtLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgdHlwZUlzT2JqZWN0IH0gZnJvbSAnLi4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IG5ld1Byb21pc2UsIHByb21pc2VSZWplY3RlZFdpdGggfSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQgeyBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50IH0gZnJvbSAnLi4vdmFsaWRhdG9ycy9iYXNpYyc7XG5pbXBvcnQgeyBhc3NlcnRSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL3ZhbGlkYXRvcnMvcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7IElzRGV0YWNoZWRCdWZmZXIgfSBmcm9tICcuLi9hYnN0cmFjdC1vcHMvZWNtYXNjcmlwdCc7XG5cbi8qKlxuICogQSByZXN1bHQgcmV0dXJuZWQgYnkge0BsaW5rIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5yZWFkfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRSZXN1bHQ8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4gPSB7XG4gIGRvbmU6IGZhbHNlO1xuICB2YWx1ZTogVDtcbn0gfCB7XG4gIGRvbmU6IHRydWU7XG4gIHZhbHVlOiBUIHwgdW5kZWZpbmVkO1xufTtcblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtLlxuXG5leHBvcnQgZnVuY3Rpb24gQWNxdWlyZVJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcihzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSk6IFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciB7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHN0cmVhbSk7XG59XG5cbi8vIFJlYWRhYmxlU3RyZWFtIEFQSSBleHBvc2VkIGZvciBjb250cm9sbGVycy5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtQWRkUmVhZEludG9SZXF1ZXN0PFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+KHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRJbnRvUmVxdWVzdDogUmVhZEludG9SZXF1ZXN0PFQ+KTogdm9pZCB7XG4gIGFzc2VydChJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcihzdHJlYW0uX3JlYWRlcikpO1xuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ3JlYWRhYmxlJyB8fCBzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJyk7XG5cbiAgKHN0cmVhbS5fcmVhZGVyISBhcyBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIpLl9yZWFkSW50b1JlcXVlc3RzLnB1c2gocmVhZEludG9SZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRJbnRvUmVxdWVzdChzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IEFycmF5QnVmZmVyVmlldyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZTogYm9vbGVhbikge1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uX3JlYWRlciBhcyBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXI7XG5cbiAgYXNzZXJ0KHJlYWRlci5fcmVhZEludG9SZXF1ZXN0cy5sZW5ndGggPiAwKTtcblxuICBjb25zdCByZWFkSW50b1JlcXVlc3QgPSByZWFkZXIuX3JlYWRJbnRvUmVxdWVzdHMuc2hpZnQoKSE7XG4gIGlmIChkb25lKSB7XG4gICAgcmVhZEludG9SZXF1ZXN0Ll9jbG9zZVN0ZXBzKGNodW5rKTtcbiAgfSBlbHNlIHtcbiAgICByZWFkSW50b1JlcXVlc3QuX2NodW5rU3RlcHMoY2h1bmspO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRJbnRvUmVxdWVzdHMoc3RyZWFtOiBSZWFkYWJsZUJ5dGVTdHJlYW0pOiBudW1iZXIge1xuICByZXR1cm4gKHN0cmVhbS5fcmVhZGVyIGFzIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcikuX3JlYWRJbnRvUmVxdWVzdHMubGVuZ3RoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1IYXNCWU9CUmVhZGVyKHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtKTogYm9vbGVhbiB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5fcmVhZGVyO1xuXG4gIGlmIChyZWFkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIocmVhZGVyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBSZWFkZXJzXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZEludG9SZXF1ZXN0PFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+IHtcbiAgX2NodW5rU3RlcHMoY2h1bms6IFQpOiB2b2lkO1xuXG4gIF9jbG9zZVN0ZXBzKGNodW5rOiBUIHwgdW5kZWZpbmVkKTogdm9pZDtcblxuICBfZXJyb3JTdGVwcyhlOiBhbnkpOiB2b2lkO1xufVxuXG4vKipcbiAqIEEgQllPQiByZWFkZXIgdmVuZGVkIGJ5IGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIge1xuICAvKiogQGludGVybmFsICovXG4gIF9vd25lclJlYWRhYmxlU3RyZWFtITogUmVhZGFibGVCeXRlU3RyZWFtO1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlITogUHJvbWlzZTx1bmRlZmluZWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlX3Jlc29sdmU/OiAodmFsdWU/OiB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VfcmVqZWN0PzogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkSW50b1JlcXVlc3RzOiBTaW1wbGVRdWV1ZTxSZWFkSW50b1JlcXVlc3Q8YW55Pj47XG5cbiAgY29uc3RydWN0b3Ioc3RyZWFtOiBSZWFkYWJsZUJ5dGVTdHJlYW0pIHtcbiAgICBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50KHN0cmVhbSwgMSwgJ1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcicpO1xuICAgIGFzc2VydFJlYWRhYmxlU3RyZWFtKHN0cmVhbSwgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuXG4gICAgaWYgKElzUmVhZGFibGVTdHJlYW1Mb2NrZWQoc3RyZWFtKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcyBzdHJlYW0gaGFzIGFscmVhZHkgYmVlbiBsb2NrZWQgZm9yIGV4Y2x1c2l2ZSByZWFkaW5nIGJ5IGFub3RoZXIgcmVhZGVyJyk7XG4gICAgfVxuXG4gICAgaWYgKCFJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIoc3RyZWFtLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IGEgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyIGZvciBhIHN0cmVhbSBub3QgY29uc3RydWN0ZWQgd2l0aCBhIGJ5dGUgJyArXG4gICAgICAgICdzb3VyY2UnKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNJbml0aWFsaXplKHRoaXMsIHN0cmVhbSk7XG5cbiAgICB0aGlzLl9yZWFkSW50b1JlcXVlc3RzID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aGVuIHRoZSBzdHJlYW0gYmVjb21lcyBjbG9zZWQsIG9yIHJlamVjdGVkIGlmIHRoZSBzdHJlYW0gZXZlciBlcnJvcnMgb3JcbiAgICogdGhlIHJlYWRlcidzIGxvY2sgaXMgcmVsZWFzZWQgYmVmb3JlIHRoZSBzdHJlYW0gZmluaXNoZXMgY2xvc2luZy5cbiAgICovXG4gIGdldCBjbG9zZWQoKTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChieW9iUmVhZGVyQnJhbmRDaGVja0V4Y2VwdGlvbignY2xvc2VkJykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9jbG9zZWRQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSByZWFkZXIgaXMgYWN0aXZlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAbGluayBSZWFkYWJsZVN0cmVhbS5jYW5jZWwgfCBzdHJlYW0uY2FuY2VsKHJlYXNvbil9LlxuICAgKi9cbiAgY2FuY2VsKHJlYXNvbjogYW55ID0gdW5kZWZpbmVkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoYnlvYlJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2NhbmNlbCcpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChyZWFkZXJMb2NrRXhjZXB0aW9uKCdjYW5jZWwnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0NhbmNlbCh0aGlzLCByZWFzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHRzIHRvIHJlYWRzIGJ5dGVzIGludG8gdmlldywgYW5kIHJldHVybnMgYSBwcm9taXNlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdC5cbiAgICpcbiAgICogSWYgcmVhZGluZyBhIGNodW5rIGNhdXNlcyB0aGUgcXVldWUgdG8gYmVjb21lIGVtcHR5LCBtb3JlIGRhdGEgd2lsbCBiZSBwdWxsZWQgZnJvbSB0aGUgdW5kZXJseWluZyBzb3VyY2UuXG4gICAqL1xuICByZWFkPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+KHZpZXc6IFQpOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtQllPQlJlYWRSZXN1bHQ8VD4+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChieW9iUmVhZGVyQnJhbmRDaGVja0V4Y2VwdGlvbigncmVhZCcpKTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5QnVmZmVyLmlzVmlldyh2aWV3KSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgobmV3IFR5cGVFcnJvcigndmlldyBtdXN0IGJlIGFuIGFycmF5IGJ1ZmZlciB2aWV3JykpO1xuICAgIH1cbiAgICBpZiAodmlldy5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCd2aWV3IG11c3QgaGF2ZSBub24temVybyBieXRlTGVuZ3RoJykpO1xuICAgIH1cbiAgICBpZiAodmlldy5idWZmZXIuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgobmV3IFR5cGVFcnJvcihgdmlldydzIGJ1ZmZlciBtdXN0IGhhdmUgbm9uLXplcm8gYnl0ZUxlbmd0aGApKTtcbiAgICB9XG4gICAgaWYgKElzRGV0YWNoZWRCdWZmZXIodmlldy5idWZmZXIpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCd2aWV3XFwncyBidWZmZXIgaGFzIGJlZW4gZGV0YWNoZWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgocmVhZGVyTG9ja0V4Y2VwdGlvbigncmVhZCBmcm9tJykpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZSE6IChyZXN1bHQ6IFJlYWRhYmxlU3RyZWFtQllPQlJlYWRSZXN1bHQ8VD4pID0+IHZvaWQ7XG4gICAgbGV0IHJlamVjdFByb21pc2UhOiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ld1Byb21pc2U8UmVhZGFibGVTdHJlYW1CWU9CUmVhZFJlc3VsdDxUPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgcmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBjb25zdCByZWFkSW50b1JlcXVlc3Q6IFJlYWRJbnRvUmVxdWVzdDxUPiA9IHtcbiAgICAgIF9jaHVua1N0ZXBzOiBjaHVuayA9PiByZXNvbHZlUHJvbWlzZSh7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSksXG4gICAgICBfY2xvc2VTdGVwczogY2h1bmsgPT4gcmVzb2x2ZVByb21pc2UoeyB2YWx1ZTogY2h1bmssIGRvbmU6IHRydWUgfSksXG4gICAgICBfZXJyb3JTdGVwczogZSA9PiByZWplY3RQcm9taXNlKGUpXG4gICAgfTtcbiAgICBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJSZWFkKHRoaXMsIHZpZXcsIHJlYWRJbnRvUmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgdGhlIHJlYWRlcidzIGxvY2sgb24gdGhlIGNvcnJlc3BvbmRpbmcgc3RyZWFtLiBBZnRlciB0aGUgbG9jayBpcyByZWxlYXNlZCwgdGhlIHJlYWRlciBpcyBubyBsb25nZXIgYWN0aXZlLlxuICAgKiBJZiB0aGUgYXNzb2NpYXRlZCBzdHJlYW0gaXMgZXJyb3JlZCB3aGVuIHRoZSBsb2NrIGlzIHJlbGVhc2VkLCB0aGUgcmVhZGVyIHdpbGwgYXBwZWFyIGVycm9yZWQgaW4gdGhlIHNhbWUgd2F5XG4gICAqIGZyb20gbm93IG9uOyBvdGhlcndpc2UsIHRoZSByZWFkZXIgd2lsbCBhcHBlYXIgY2xvc2VkLlxuICAgKlxuICAgKiBBIHJlYWRlcidzIGxvY2sgY2Fubm90IGJlIHJlbGVhc2VkIHdoaWxlIGl0IHN0aWxsIGhhcyBhIHBlbmRpbmcgcmVhZCByZXF1ZXN0LCBpLmUuLCBpZiBhIHByb21pc2UgcmV0dXJuZWQgYnlcbiAgICogdGhlIHJlYWRlcidzIHtAbGluayBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIucmVhZCB8IHJlYWQoKX0gbWV0aG9kIGhhcyBub3QgeWV0IGJlZW4gc2V0dGxlZC4gQXR0ZW1wdGluZyB0b1xuICAgKiBkbyBzbyB3aWxsIHRocm93IGEgYFR5cGVFcnJvcmAgYW5kIGxlYXZlIHRoZSByZWFkZXIgbG9ja2VkIHRvIHRoZSBzdHJlYW0uXG4gICAqL1xuICByZWxlYXNlTG9jaygpOiB2b2lkIHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBieW9iUmVhZGVyQnJhbmRDaGVja0V4Y2VwdGlvbigncmVsZWFzZUxvY2snKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3JlYWRJbnRvUmVxdWVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVHJpZWQgdG8gcmVsZWFzZSBhIHJlYWRlciBsb2NrIHdoZW4gdGhhdCByZWFkZXIgaGFzIHBlbmRpbmcgcmVhZCgpIGNhbGxzIHVuLXNldHRsZWQnKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHRoaXMpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5wcm90b3R5cGUsIHtcbiAgY2FuY2VsOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgcmVhZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHJlbGVhc2VMb2NrOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgY2xvc2VkOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgZm9yIHRoZSByZWFkZXJzLlxuXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIoeDogYW55KTogeCBpcyBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfcmVhZEludG9SZXF1ZXN0cycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJSZWFkPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+KFxuICByZWFkZXI6IFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcixcbiAgdmlldzogVCxcbiAgcmVhZEludG9SZXF1ZXN0OiBSZWFkSW50b1JlcXVlc3Q8VD5cbik6IHZvaWQge1xuICBjb25zdCBzdHJlYW0gPSByZWFkZXIuX293bmVyUmVhZGFibGVTdHJlYW07XG5cbiAgYXNzZXJ0KHN0cmVhbSAhPT0gdW5kZWZpbmVkKTtcblxuICBzdHJlYW0uX2Rpc3R1cmJlZCA9IHRydWU7XG5cbiAgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJlYWRJbnRvUmVxdWVzdC5fZXJyb3JTdGVwcyhzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUHVsbEludG8oXG4gICAgICBzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciBhcyBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICAgICAgdmlldyxcbiAgICAgIHJlYWRJbnRvUmVxdWVzdFxuICAgICk7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5cblxuZnVuY3Rpb24gYnlvYlJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyYCk7XG59XG4iLCJpbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3ksIFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjayB9IGZyb20gJy4uL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IE51bWJlcklzTmFOIGZyb20gJy4uLy4uL3N0dWIvbnVtYmVyLWlzbmFuJztcblxuZXhwb3J0IGZ1bmN0aW9uIEV4dHJhY3RIaWdoV2F0ZXJNYXJrKHN0cmF0ZWd5OiBRdWV1aW5nU3RyYXRlZ3ksIGRlZmF1bHRIV006IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHsgaGlnaFdhdGVyTWFyayB9ID0gc3RyYXRlZ3k7XG5cbiAgaWYgKGhpZ2hXYXRlck1hcmsgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBkZWZhdWx0SFdNO1xuICB9XG5cbiAgaWYgKE51bWJlcklzTmFOKGhpZ2hXYXRlck1hcmspIHx8IGhpZ2hXYXRlck1hcmsgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgaGlnaFdhdGVyTWFyaycpO1xuICB9XG5cbiAgcmV0dXJuIGhpZ2hXYXRlck1hcms7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeHRyYWN0U2l6ZUFsZ29yaXRobTxUPihzdHJhdGVneTogUXVldWluZ1N0cmF0ZWd5PFQ+KTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFQ+IHtcbiAgY29uc3QgeyBzaXplIH0gPSBzdHJhdGVneTtcblxuICBpZiAoIXNpemUpIHtcbiAgICByZXR1cm4gKCkgPT4gMTtcbiAgfVxuXG4gIHJldHVybiBzaXplO1xufVxuIiwiaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5LCBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2sgfSBmcm9tICcuLi9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IGFzc2VydERpY3Rpb25hcnksIGFzc2VydEZ1bmN0aW9uLCBjb252ZXJ0VW5yZXN0cmljdGVkRG91YmxlIH0gZnJvbSAnLi9iYXNpYyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5PFQ+KGluaXQ6IFF1ZXVpbmdTdHJhdGVneTxUPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBRdWV1aW5nU3RyYXRlZ3k8VD4ge1xuICBhc3NlcnREaWN0aW9uYXJ5KGluaXQsIGNvbnRleHQpO1xuICBjb25zdCBoaWdoV2F0ZXJNYXJrID0gaW5pdD8uaGlnaFdhdGVyTWFyaztcbiAgY29uc3Qgc2l6ZSA9IGluaXQ/LnNpemU7XG4gIHJldHVybiB7XG4gICAgaGlnaFdhdGVyTWFyazogaGlnaFdhdGVyTWFyayA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogY29udmVydFVucmVzdHJpY3RlZERvdWJsZShoaWdoV2F0ZXJNYXJrKSxcbiAgICBzaXplOiBzaXplID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5U2l6ZShzaXplLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdzaXplJyB0aGF0YClcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFF1ZXVpbmdTdHJhdGVneVNpemU8VD4oZm46IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxUPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxUPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIGNodW5rID0+IGNvbnZlcnRVbnJlc3RyaWN0ZWREb3VibGUoZm4oY2h1bmspKTtcbn1cbiIsImltcG9ydCB7IGFzc2VydERpY3Rpb25hcnksIGFzc2VydEZ1bmN0aW9uIH0gZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgeyBwcm9taXNlQ2FsbCwgcmVmbGVjdENhbGwgfSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQge1xuICBVbmRlcmx5aW5nU2luayxcbiAgVW5kZXJseWluZ1NpbmtBYm9ydENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU2lua0Nsb3NlQ2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTaW5rU3RhcnRDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NpbmtXcml0ZUNhbGxiYWNrLFxuICBWYWxpZGF0ZWRVbmRlcmx5aW5nU2lua1xufSBmcm9tICcuLi93cml0YWJsZS1zdHJlYW0vdW5kZXJseWluZy1zaW5rJztcbmltcG9ydCB7IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tICcuLi93cml0YWJsZS1zdHJlYW0nO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVuZGVybHlpbmdTaW5rPFc+KG9yaWdpbmFsOiBVbmRlcmx5aW5nU2luazxXPiB8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFZhbGlkYXRlZFVuZGVybHlpbmdTaW5rPFc+IHtcbiAgYXNzZXJ0RGljdGlvbmFyeShvcmlnaW5hbCwgY29udGV4dCk7XG4gIGNvbnN0IGFib3J0ID0gb3JpZ2luYWw/LmFib3J0O1xuICBjb25zdCBjbG9zZSA9IG9yaWdpbmFsPy5jbG9zZTtcbiAgY29uc3Qgc3RhcnQgPSBvcmlnaW5hbD8uc3RhcnQ7XG4gIGNvbnN0IHR5cGUgPSBvcmlnaW5hbD8udHlwZTtcbiAgY29uc3Qgd3JpdGUgPSBvcmlnaW5hbD8ud3JpdGU7XG4gIHJldHVybiB7XG4gICAgYWJvcnQ6IGFib3J0ID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRVbmRlcmx5aW5nU2lua0Fib3J0Q2FsbGJhY2soYWJvcnQsIG9yaWdpbmFsISwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAnYWJvcnQnIHRoYXRgKSxcbiAgICBjbG9zZTogY2xvc2UgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuZGVybHlpbmdTaW5rQ2xvc2VDYWxsYmFjayhjbG9zZSwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdjbG9zZScgdGhhdGApLFxuICAgIHN0YXJ0OiBzdGFydCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHVuZGVmaW5lZCA6XG4gICAgICBjb252ZXJ0VW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrKHN0YXJ0LCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3N0YXJ0JyB0aGF0YCksXG4gICAgd3JpdGU6IHdyaXRlID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRVbmRlcmx5aW5nU2lua1dyaXRlQ2FsbGJhY2sod3JpdGUsIG9yaWdpbmFsISwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAnd3JpdGUnIHRoYXRgKSxcbiAgICB0eXBlXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRVbmRlcmx5aW5nU2lua0Fib3J0Q2FsbGJhY2soXG4gIGZuOiBVbmRlcmx5aW5nU2lua0Fib3J0Q2FsbGJhY2ssXG4gIG9yaWdpbmFsOiBVbmRlcmx5aW5nU2luayxcbiAgY29udGV4dDogc3RyaW5nXG4pOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4ge1xuICBhc3NlcnRGdW5jdGlvbihmbiwgY29udGV4dCk7XG4gIHJldHVybiAocmVhc29uOiBhbnkpID0+IHByb21pc2VDYWxsKGZuLCBvcmlnaW5hbCwgW3JlYXNvbl0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5kZXJseWluZ1NpbmtDbG9zZUNhbGxiYWNrKFxuICBmbjogVW5kZXJseWluZ1NpbmtDbG9zZUNhbGxiYWNrLFxuICBvcmlnaW5hbDogVW5kZXJseWluZ1NpbmssXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogKCkgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuICgpID0+IHByb21pc2VDYWxsKGZuLCBvcmlnaW5hbCwgW10pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrKFxuICBmbjogVW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrLFxuICBvcmlnaW5hbDogVW5kZXJseWluZ1NpbmssXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogVW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrIHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIpID0+IHJlZmxlY3RDYWxsKGZuLCBvcmlnaW5hbCwgW2NvbnRyb2xsZXJdKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFVuZGVybHlpbmdTaW5rV3JpdGVDYWxsYmFjazxXPihcbiAgZm46IFVuZGVybHlpbmdTaW5rV3JpdGVDYWxsYmFjazxXPixcbiAgb3JpZ2luYWw6IFVuZGVybHlpbmdTaW5rPFc+LFxuICBjb250ZXh0OiBzdHJpbmdcbik6IChjaHVuazogVywgY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcikgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIChjaHVuazogVywgY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcikgPT4gcHJvbWlzZUNhbGwoZm4sIG9yaWdpbmFsLCBbY2h1bmssIGNvbnRyb2xsZXJdKTtcbn1cbiIsImltcG9ydCB7IElzV3JpdGFibGVTdHJlYW0sIFdyaXRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vd3JpdGFibGUtc3RyZWFtJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFdyaXRhYmxlU3RyZWFtKHg6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IGFzc2VydHMgeCBpcyBXcml0YWJsZVN0cmVhbSB7XG4gIGlmICghSXNXcml0YWJsZVN0cmVhbSh4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gaXMgbm90IGEgV3JpdGFibGVTdHJlYW0uYCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQSBzaWduYWwgb2JqZWN0IHRoYXQgYWxsb3dzIHlvdSB0byBjb21tdW5pY2F0ZSB3aXRoIGEgcmVxdWVzdCBhbmQgYWJvcnQgaXQgaWYgcmVxdWlyZWRcbiAqIHZpYSBpdHMgYXNzb2NpYXRlZCBgQWJvcnRDb250cm9sbGVyYCBvYmplY3QuXG4gKlxuICogQHJlbWFya3NcbiAqICAgVGhpcyBpbnRlcmZhY2UgaXMgY29tcGF0aWJsZSB3aXRoIHRoZSBgQWJvcnRTaWduYWxgIGludGVyZmFjZSBkZWZpbmVkIGluIFR5cGVTY3JpcHQncyBET00gdHlwZXMuXG4gKiAgIEl0IGlzIHJlZGVmaW5lZCBoZXJlLCBzbyBpdCBjYW4gYmUgcG9seWZpbGxlZCB3aXRob3V0IGEgRE9NLCBmb3IgZXhhbXBsZSB3aXRoXG4gKiAgIHtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9hYm9ydGNvbnRyb2xsZXItcG9seWZpbGwgfCBhYm9ydGNvbnRyb2xsZXItcG9seWZpbGx9IGluIGEgTm9kZSBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWJvcnRTaWduYWwge1xuICAvKipcbiAgICogV2hldGhlciB0aGUgcmVxdWVzdCBpcyBhYm9ydGVkLlxuICAgKi9cbiAgcmVhZG9ubHkgYWJvcnRlZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGJlIHRyaWdnZXJlZCB3aGVuIHRoaXMgc2lnbmFsIGJlY29tZXMgYWJvcnRlZC5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZTogJ2Fib3J0JywgbGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCB3YXMgcHJldmlvdXNseSBhZGRlZCB3aXRoIHtAbGluayBBYm9ydFNpZ25hbC5hZGRFdmVudExpc3RlbmVyfS5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZTogJ2Fib3J0JywgbGlzdGVuZXI6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBYm9ydFNpZ25hbCh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEFib3J0U2lnbmFsIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gdHlwZW9mICh2YWx1ZSBhcyBBYm9ydFNpZ25hbCkuYWJvcnRlZCA9PT0gJ2Jvb2xlYW4nO1xuICB9IGNhdGNoIHtcbiAgICAvLyBBYm9ydFNpZ25hbC5wcm90b3R5cGUuYWJvcnRlZCB0aHJvd3MgaWYgaXRzIGJyYW5kIGNoZWNrIGZhaWxzXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQSBjb250cm9sbGVyIG9iamVjdCB0aGF0IGFsbG93cyB5b3UgdG8gYWJvcnQgYW4gYEFib3J0U2lnbmFsYCB3aGVuIGRlc2lyZWQuXG4gKlxuICogQHJlbWFya3NcbiAqICAgVGhpcyBpbnRlcmZhY2UgaXMgY29tcGF0aWJsZSB3aXRoIHRoZSBgQWJvcnRDb250cm9sbGVyYCBpbnRlcmZhY2UgZGVmaW5lZCBpbiBUeXBlU2NyaXB0J3MgRE9NIHR5cGVzLlxuICogICBJdCBpcyByZWRlZmluZWQgaGVyZSwgc28gaXQgY2FuIGJlIHBvbHlmaWxsZWQgd2l0aG91dCBhIERPTSwgZm9yIGV4YW1wbGUgd2l0aFxuICogICB7QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYWJvcnRjb250cm9sbGVyLXBvbHlmaWxsIHwgYWJvcnRjb250cm9sbGVyLXBvbHlmaWxsfSBpbiBhIE5vZGUgZW52aXJvbm1lbnQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWJvcnRDb250cm9sbGVyIHtcbiAgcmVhZG9ubHkgc2lnbmFsOiBBYm9ydFNpZ25hbDtcblxuICBhYm9ydCgpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQWJvcnRDb250cm9sbGVyQ29uc3RydWN0b3Ige1xuICBuZXcoKTogQWJvcnRDb250cm9sbGVyO1xufVxuXG5jb25zdCBzdXBwb3J0c0Fib3J0Q29udHJvbGxlciA9IHR5cGVvZiAoQWJvcnRDb250cm9sbGVyIGFzIGFueSkgPT09ICdmdW5jdGlvbic7XG5cbi8qKlxuICogQ29uc3RydWN0IGEgbmV3IEFib3J0Q29udHJvbGxlciwgaWYgc3VwcG9ydGVkIGJ5IHRoZSBwbGF0Zm9ybS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFib3J0Q29udHJvbGxlcigpOiBBYm9ydENvbnRyb2xsZXIgfCB1bmRlZmluZWQge1xuICBpZiAoc3VwcG9ydHNBYm9ydENvbnRyb2xsZXIpIHtcbiAgICByZXR1cm4gbmV3IChBYm9ydENvbnRyb2xsZXIgYXMgQWJvcnRDb250cm9sbGVyQ29uc3RydWN0b3IpKCk7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHtcbiAgbmV3UHJvbWlzZSxcbiAgcHJvbWlzZVJlamVjdGVkV2l0aCxcbiAgcHJvbWlzZVJlc29sdmVkV2l0aCxcbiAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZSxcbiAgdXBvblByb21pc2Vcbn0gZnJvbSAnLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQge1xuICBEZXF1ZXVlVmFsdWUsXG4gIEVucXVldWVWYWx1ZVdpdGhTaXplLFxuICBQZWVrUXVldWVWYWx1ZSxcbiAgUXVldWVQYWlyLFxuICBSZXNldFF1ZXVlXG59IGZyb20gJy4vYWJzdHJhY3Qtb3BzL3F1ZXVlLXdpdGgtc2l6ZXMnO1xuaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5LCBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2sgfSBmcm9tICcuL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgU2ltcGxlUXVldWUgfSBmcm9tICcuL3NpbXBsZS1xdWV1ZSc7XG5pbXBvcnQgeyB0eXBlSXNPYmplY3QgfSBmcm9tICcuL2hlbHBlcnMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgeyBBYm9ydFN0ZXBzLCBFcnJvclN0ZXBzIH0gZnJvbSAnLi9hYnN0cmFjdC1vcHMvaW50ZXJuYWwtbWV0aG9kcyc7XG5pbXBvcnQgeyBJc05vbk5lZ2F0aXZlTnVtYmVyIH0gZnJvbSAnLi9hYnN0cmFjdC1vcHMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgeyBFeHRyYWN0SGlnaFdhdGVyTWFyaywgRXh0cmFjdFNpemVBbGdvcml0aG0gfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3kgfSBmcm9tICcuL3ZhbGlkYXRvcnMvcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQge1xuICBVbmRlcmx5aW5nU2luayxcbiAgVW5kZXJseWluZ1NpbmtBYm9ydENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU2lua0Nsb3NlQ2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTaW5rU3RhcnRDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NpbmtXcml0ZUNhbGxiYWNrLFxuICBWYWxpZGF0ZWRVbmRlcmx5aW5nU2lua1xufSBmcm9tICcuL3dyaXRhYmxlLXN0cmVhbS91bmRlcmx5aW5nLXNpbmsnO1xuaW1wb3J0IHsgYXNzZXJ0T2JqZWN0LCBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50IH0gZnJvbSAnLi92YWxpZGF0b3JzL2Jhc2ljJztcbmltcG9ydCB7IGNvbnZlcnRVbmRlcmx5aW5nU2luayB9IGZyb20gJy4vdmFsaWRhdG9ycy91bmRlcmx5aW5nLXNpbmsnO1xuaW1wb3J0IHsgYXNzZXJ0V3JpdGFibGVTdHJlYW0gfSBmcm9tICcuL3ZhbGlkYXRvcnMvd3JpdGFibGUtc3RyZWFtJztcbmltcG9ydCB7IEFib3J0Q29udHJvbGxlciwgQWJvcnRTaWduYWwsIGNyZWF0ZUFib3J0Q29udHJvbGxlciB9IGZyb20gJy4vYWJvcnQtc2lnbmFsJztcblxudHlwZSBXcml0YWJsZVN0cmVhbVN0YXRlID0gJ3dyaXRhYmxlJyB8ICdjbG9zZWQnIHwgJ2Vycm9yaW5nJyB8ICdlcnJvcmVkJztcblxuaW50ZXJmYWNlIFdyaXRlT3JDbG9zZVJlcXVlc3Qge1xuICBfcmVzb2x2ZTogKHZhbHVlPzogdW5kZWZpbmVkKSA9PiB2b2lkO1xuICBfcmVqZWN0OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG59XG5cbnR5cGUgV3JpdGVSZXF1ZXN0ID0gV3JpdGVPckNsb3NlUmVxdWVzdDtcbnR5cGUgQ2xvc2VSZXF1ZXN0ID0gV3JpdGVPckNsb3NlUmVxdWVzdDtcblxuaW50ZXJmYWNlIFBlbmRpbmdBYm9ydFJlcXVlc3Qge1xuICBfcHJvbWlzZTogUHJvbWlzZTx1bmRlZmluZWQ+O1xuICBfcmVzb2x2ZTogKHZhbHVlPzogdW5kZWZpbmVkKSA9PiB2b2lkO1xuICBfcmVqZWN0OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIF9yZWFzb246IGFueTtcbiAgX3dhc0FscmVhZHlFcnJvcmluZzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBIHdyaXRhYmxlIHN0cmVhbSByZXByZXNlbnRzIGEgZGVzdGluYXRpb24gZm9yIGRhdGEsIGludG8gd2hpY2ggeW91IGNhbiB3cml0ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIFdyaXRhYmxlU3RyZWFtPFcgPSBhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RhdGUhOiBXcml0YWJsZVN0cmVhbVN0YXRlO1xuICAvKiogQGludGVybmFsICovXG4gIF9zdG9yZWRFcnJvcjogYW55O1xuICAvKiogQGludGVybmFsICovXG4gIF93cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcjxXPiB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfd3JpdGFibGVTdHJlYW1Db250cm9sbGVyITogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfd3JpdGVSZXF1ZXN0cyE6IFNpbXBsZVF1ZXVlPFdyaXRlUmVxdWVzdD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2luRmxpZ2h0V3JpdGVSZXF1ZXN0OiBXcml0ZVJlcXVlc3QgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlUmVxdWVzdDogQ2xvc2VSZXF1ZXN0IHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF9pbkZsaWdodENsb3NlUmVxdWVzdDogQ2xvc2VSZXF1ZXN0IHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF9wZW5kaW5nQWJvcnRSZXF1ZXN0OiBQZW5kaW5nQWJvcnRSZXF1ZXN0IHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF9iYWNrcHJlc3N1cmUhOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHVuZGVybHlpbmdTaW5rPzogVW5kZXJseWluZ1Npbms8Vz4sIHN0cmF0ZWd5PzogUXVldWluZ1N0cmF0ZWd5PFc+KTtcbiAgY29uc3RydWN0b3IocmF3VW5kZXJseWluZ1Npbms6IFVuZGVybHlpbmdTaW5rPFc+IHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9LFxuICAgICAgICAgICAgICByYXdTdHJhdGVneTogUXVldWluZ1N0cmF0ZWd5PFc+IHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9KSB7XG4gICAgaWYgKHJhd1VuZGVybHlpbmdTaW5rID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJhd1VuZGVybHlpbmdTaW5rID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0T2JqZWN0KHJhd1VuZGVybHlpbmdTaW5rLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5KHJhd1N0cmF0ZWd5LCAnU2Vjb25kIHBhcmFtZXRlcicpO1xuICAgIGNvbnN0IHVuZGVybHlpbmdTaW5rID0gY29udmVydFVuZGVybHlpbmdTaW5rKHJhd1VuZGVybHlpbmdTaW5rLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG5cbiAgICBJbml0aWFsaXplV3JpdGFibGVTdHJlYW0odGhpcyk7XG5cbiAgICBjb25zdCB0eXBlID0gdW5kZXJseWluZ1NpbmsudHlwZTtcbiAgICBpZiAodHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlIGlzIHNwZWNpZmllZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHNpemVBbGdvcml0aG0gPSBFeHRyYWN0U2l6ZUFsZ29yaXRobShzdHJhdGVneSk7XG4gICAgY29uc3QgaGlnaFdhdGVyTWFyayA9IEV4dHJhY3RIaWdoV2F0ZXJNYXJrKHN0cmF0ZWd5LCAxKTtcblxuICAgIFNldFVwV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckZyb21VbmRlcmx5aW5nU2luayh0aGlzLCB1bmRlcmx5aW5nU2luaywgaGlnaFdhdGVyTWFyaywgc2l6ZUFsZ29yaXRobSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgd3JpdGFibGUgc3RyZWFtIGlzIGxvY2tlZCB0byBhIHdyaXRlci5cbiAgICovXG4gIGdldCBsb2NrZWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICB0aHJvdyBzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdsb2NrZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gSXNXcml0YWJsZVN0cmVhbUxvY2tlZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIHN0cmVhbSwgc2lnbmFsaW5nIHRoYXQgdGhlIHByb2R1Y2VyIGNhbiBubyBsb25nZXIgc3VjY2Vzc2Z1bGx5IHdyaXRlIHRvIHRoZSBzdHJlYW0gYW5kIGl0IGlzIHRvIGJlXG4gICAqIGltbWVkaWF0ZWx5IG1vdmVkIHRvIGFuIGVycm9yZWQgc3RhdGUsIHdpdGggYW55IHF1ZXVlZC11cCB3cml0ZXMgZGlzY2FyZGVkLiBUaGlzIHdpbGwgYWxzbyBleGVjdXRlIGFueSBhYm9ydFxuICAgKiBtZWNoYW5pc20gb2YgdGhlIHVuZGVybHlpbmcgc2luay5cbiAgICpcbiAgICogVGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBmdWxmaWxsIGlmIHRoZSBzdHJlYW0gc2h1dHMgZG93biBzdWNjZXNzZnVsbHksIG9yIHJlamVjdCBpZiB0aGUgdW5kZXJseWluZyBzaW5rIHNpZ25hbGVkXG4gICAqIHRoYXQgdGhlcmUgd2FzIGFuIGVycm9yIGRvaW5nIHNvLiBBZGRpdGlvbmFsbHksIGl0IHdpbGwgcmVqZWN0IHdpdGggYSBgVHlwZUVycm9yYCAod2l0aG91dCBhdHRlbXB0aW5nIHRvIGNhbmNlbFxuICAgKiB0aGUgc3RyZWFtKSBpZiB0aGUgc3RyZWFtIGlzIGN1cnJlbnRseSBsb2NrZWQuXG4gICAqL1xuICBhYm9ydChyZWFzb246IGFueSA9IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbignYWJvcnQnKSk7XG4gICAgfVxuXG4gICAgaWYgKElzV3JpdGFibGVTdHJlYW1Mb2NrZWQodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhYm9ydCBhIHN0cmVhbSB0aGF0IGFscmVhZHkgaGFzIGEgd3JpdGVyJykpO1xuICAgIH1cblxuICAgIHJldHVybiBXcml0YWJsZVN0cmVhbUFib3J0KHRoaXMsIHJlYXNvbik7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBzdHJlYW0uIFRoZSB1bmRlcmx5aW5nIHNpbmsgd2lsbCBmaW5pc2ggcHJvY2Vzc2luZyBhbnkgcHJldmlvdXNseS13cml0dGVuIGNodW5rcywgYmVmb3JlIGludm9raW5nIGl0c1xuICAgKiBjbG9zZSBiZWhhdmlvci4gRHVyaW5nIHRoaXMgdGltZSBhbnkgZnVydGhlciBhdHRlbXB0cyB0byB3cml0ZSB3aWxsIGZhaWwgKHdpdGhvdXQgZXJyb3JpbmcgdGhlIHN0cmVhbSkuXG4gICAqXG4gICAqIFRoZSBtZXRob2QgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGZ1bGZpbGwgaWYgYWxsIHJlbWFpbmluZyBjaHVua3MgYXJlIHN1Y2Nlc3NmdWxseSB3cml0dGVuIGFuZCB0aGUgc3RyZWFtXG4gICAqIHN1Y2Nlc3NmdWxseSBjbG9zZXMsIG9yIHJlamVjdHMgaWYgYW4gZXJyb3IgaXMgZW5jb3VudGVyZWQgZHVyaW5nIHRoaXMgcHJvY2Vzcy4gQWRkaXRpb25hbGx5LCBpdCB3aWxsIHJlamVjdCB3aXRoXG4gICAqIGEgYFR5cGVFcnJvcmAgKHdpdGhvdXQgYXR0ZW1wdGluZyB0byBjYW5jZWwgdGhlIHN0cmVhbSkgaWYgdGhlIHN0cmVhbSBpcyBjdXJyZW50bHkgbG9ja2VkLlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdjbG9zZScpKTtcbiAgICB9XG5cbiAgICBpZiAoSXNXcml0YWJsZVN0cmVhbUxvY2tlZCh0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgobmV3IFR5cGVFcnJvcignQ2Fubm90IGNsb3NlIGEgc3RyZWFtIHRoYXQgYWxyZWFkeSBoYXMgYSB3cml0ZXInKSk7XG4gICAgfVxuXG4gICAgaWYgKFdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2xvc2UgYW4gYWxyZWFkeS1jbG9zaW5nIHN0cmVhbScpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV3JpdGFibGVTdHJlYW1DbG9zZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEge0BsaW5rIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciB8IHdyaXRlcn0gYW5kIGxvY2tzIHRoZSBzdHJlYW0gdG8gdGhlIG5ldyB3cml0ZXIuIFdoaWxlIHRoZSBzdHJlYW1cbiAgICogaXMgbG9ja2VkLCBubyBvdGhlciB3cml0ZXIgY2FuIGJlIGFjcXVpcmVkIHVudGlsIHRoaXMgb25lIGlzIHJlbGVhc2VkLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgZXNwZWNpYWxseSB1c2VmdWwgZm9yIGNyZWF0aW5nIGFic3RyYWN0aW9ucyB0aGF0IGRlc2lyZSB0aGUgYWJpbGl0eSB0byB3cml0ZSB0byBhIHN0cmVhbVxuICAgKiB3aXRob3V0IGludGVycnVwdGlvbiBvciBpbnRlcmxlYXZpbmcuIEJ5IGdldHRpbmcgYSB3cml0ZXIgZm9yIHRoZSBzdHJlYW0sIHlvdSBjYW4gZW5zdXJlIG5vYm9keSBlbHNlIGNhbiB3cml0ZSBhdFxuICAgKiB0aGUgc2FtZSB0aW1lLCB3aGljaCB3b3VsZCBjYXVzZSB0aGUgcmVzdWx0aW5nIHdyaXR0ZW4gZGF0YSB0byBiZSB1bnByZWRpY3RhYmxlIGFuZCBwcm9iYWJseSB1c2VsZXNzLlxuICAgKi9cbiAgZ2V0V3JpdGVyKCk6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcjxXPiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICB0aHJvdyBzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdnZXRXcml0ZXInKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQWNxdWlyZVdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUsIHtcbiAgYWJvcnQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBjbG9zZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGdldFdyaXRlcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGxvY2tlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuaWYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnV3JpdGFibGVTdHJlYW0nLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuZXhwb3J0IHtcbiAgQWNxdWlyZVdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcixcbiAgQ3JlYXRlV3JpdGFibGVTdHJlYW0sXG4gIElzV3JpdGFibGVTdHJlYW0sXG4gIElzV3JpdGFibGVTdHJlYW1Mb2NrZWQsXG4gIFdyaXRhYmxlU3RyZWFtLFxuICBXcml0YWJsZVN0cmVhbUFib3J0LFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3JJZk5lZWRlZCxcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQ2xvc2VXaXRoRXJyb3JQcm9wYWdhdGlvbixcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyUmVsZWFzZSxcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyV3JpdGUsXG4gIFdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0LFxuICBVbmRlcmx5aW5nU2luayxcbiAgVW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU2lua1dyaXRlQ2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTaW5rQ2xvc2VDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NpbmtBYm9ydENhbGxiYWNrXG59O1xuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgV3JpdGFibGVTdHJlYW0uXG5cbmZ1bmN0aW9uIEFjcXVpcmVXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI8Vz4oc3RyZWFtOiBXcml0YWJsZVN0cmVhbTxXPik6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcjxXPiB7XG4gIHJldHVybiBuZXcgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKHN0cmVhbSk7XG59XG5cbi8vIFRocm93cyBpZiBhbmQgb25seSBpZiBzdGFydEFsZ29yaXRobSB0aHJvd3MuXG5mdW5jdGlvbiBDcmVhdGVXcml0YWJsZVN0cmVhbTxXPihzdGFydEFsZ29yaXRobTogKCkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVBbGdvcml0aG06IChjaHVuazogVykgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRBbGdvcml0aG06IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hXYXRlck1hcmsgPSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFc+ID0gKCkgPT4gMSkge1xuICBhc3NlcnQoSXNOb25OZWdhdGl2ZU51bWJlcihoaWdoV2F0ZXJNYXJrKSk7XG5cbiAgY29uc3Qgc3RyZWFtOiBXcml0YWJsZVN0cmVhbTxXPiA9IE9iamVjdC5jcmVhdGUoV3JpdGFibGVTdHJlYW0ucHJvdG90eXBlKTtcbiAgSW5pdGlhbGl6ZVdyaXRhYmxlU3RyZWFtKHN0cmVhbSk7XG5cbiAgY29uc3QgY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXPiA9IE9iamVjdC5jcmVhdGUoV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUpO1xuXG4gIFNldFVwV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcihzdHJlYW0sIGNvbnRyb2xsZXIsIHN0YXJ0QWxnb3JpdGhtLCB3cml0ZUFsZ29yaXRobSwgY2xvc2VBbGdvcml0aG0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydEFsZ29yaXRobSwgaGlnaFdhdGVyTWFyaywgc2l6ZUFsZ29yaXRobSk7XG4gIHJldHVybiBzdHJlYW07XG59XG5cbmZ1bmN0aW9uIEluaXRpYWxpemVXcml0YWJsZVN0cmVhbTxXPihzdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+KSB7XG4gIHN0cmVhbS5fc3RhdGUgPSAnd3JpdGFibGUnO1xuXG4gIC8vIFRoZSBlcnJvciB0aGF0IHdpbGwgYmUgcmVwb3J0ZWQgYnkgbmV3IG1ldGhvZCBjYWxscyBvbmNlIHRoZSBzdGF0ZSBiZWNvbWVzIGVycm9yZWQuIE9ubHkgc2V0IHdoZW4gW1tzdGF0ZV1dIGlzXG4gIC8vICdlcnJvcmluZycgb3IgJ2Vycm9yZWQnLiBNYXkgYmUgc2V0IHRvIGFuIHVuZGVmaW5lZCB2YWx1ZS5cbiAgc3RyZWFtLl9zdG9yZWRFcnJvciA9IHVuZGVmaW5lZDtcblxuICBzdHJlYW0uX3dyaXRlciA9IHVuZGVmaW5lZDtcblxuICAvLyBJbml0aWFsaXplIHRvIHVuZGVmaW5lZCBmaXJzdCBiZWNhdXNlIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgY29udHJvbGxlciBjaGVja3MgdGhpc1xuICAvLyB2YXJpYWJsZSB0byB2YWxpZGF0ZSB0aGUgY2FsbGVyLlxuICBzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlciA9IHVuZGVmaW5lZCE7XG5cbiAgLy8gVGhpcyBxdWV1ZSBpcyBwbGFjZWQgaGVyZSBpbnN0ZWFkIG9mIHRoZSB3cml0ZXIgY2xhc3MgaW4gb3JkZXIgdG8gYWxsb3cgZm9yIHBhc3NpbmcgYSB3cml0ZXIgdG8gdGhlIG5leHQgZGF0YVxuICAvLyBwcm9kdWNlciB3aXRob3V0IHdhaXRpbmcgZm9yIHRoZSBxdWV1ZWQgd3JpdGVzIHRvIGZpbmlzaC5cbiAgc3RyZWFtLl93cml0ZVJlcXVlc3RzID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG5cbiAgLy8gV3JpdGUgcmVxdWVzdHMgYXJlIHJlbW92ZWQgZnJvbSBfd3JpdGVSZXF1ZXN0cyB3aGVuIHdyaXRlKCkgaXMgY2FsbGVkIG9uIHRoZSB1bmRlcmx5aW5nIHNpbmsuIFRoaXMgcHJldmVudHNcbiAgLy8gdGhlbSBmcm9tIGJlaW5nIGVycm9uZW91c2x5IHJlamVjdGVkIG9uIGVycm9yLiBJZiBhIHdyaXRlKCkgY2FsbCBpcyBpbi1mbGlnaHQsIHRoZSByZXF1ZXN0IGlzIHN0b3JlZCBoZXJlLlxuICBzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuXG4gIC8vIFRoZSBwcm9taXNlIHRoYXQgd2FzIHJldHVybmVkIGZyb20gd3JpdGVyLmNsb3NlKCkuIFN0b3JlZCBoZXJlIGJlY2F1c2UgaXQgbWF5IGJlIGZ1bGZpbGxlZCBhZnRlciB0aGUgd3JpdGVyXG4gIC8vIGhhcyBiZWVuIGRldGFjaGVkLlxuICBzdHJlYW0uX2Nsb3NlUmVxdWVzdCA9IHVuZGVmaW5lZDtcblxuICAvLyBDbG9zZSByZXF1ZXN0IGlzIHJlbW92ZWQgZnJvbSBfY2xvc2VSZXF1ZXN0IHdoZW4gY2xvc2UoKSBpcyBjYWxsZWQgb24gdGhlIHVuZGVybHlpbmcgc2luay4gVGhpcyBwcmV2ZW50cyBpdFxuICAvLyBmcm9tIGJlaW5nIGVycm9uZW91c2x5IHJlamVjdGVkIG9uIGVycm9yLiBJZiBhIGNsb3NlKCkgY2FsbCBpcyBpbi1mbGlnaHQsIHRoZSByZXF1ZXN0IGlzIHN0b3JlZCBoZXJlLlxuICBzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuXG4gIC8vIFRoZSBwcm9taXNlIHRoYXQgd2FzIHJldHVybmVkIGZyb20gd3JpdGVyLmFib3J0KCkuIFRoaXMgbWF5IGFsc28gYmUgZnVsZmlsbGVkIGFmdGVyIHRoZSB3cml0ZXIgaGFzIGRldGFjaGVkLlxuICBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIGJhY2twcmVzc3VyZSBzaWduYWwgc2V0IGJ5IHRoZSBjb250cm9sbGVyLlxuICBzdHJlYW0uX2JhY2twcmVzc3VyZSA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBJc1dyaXRhYmxlU3RyZWFtKHg6IHVua25vd24pOiB4IGlzIFdyaXRhYmxlU3RyZWFtIHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBXcml0YWJsZVN0cmVhbTtcbn1cblxuZnVuY3Rpb24gSXNXcml0YWJsZVN0cmVhbUxvY2tlZChzdHJlYW06IFdyaXRhYmxlU3RyZWFtKTogYm9vbGVhbiB7XG4gIGFzc2VydChJc1dyaXRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuXG4gIGlmIChzdHJlYW0uX3dyaXRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtQWJvcnQoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSwgcmVhc29uOiBhbnkpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgfVxuICBzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlci5fYWJvcnRSZWFzb24gPSByZWFzb247XG4gIHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyLl9hYm9ydENvbnRyb2xsZXI/LmFib3J0KCk7XG5cbiAgLy8gVHlwZVNjcmlwdCBuYXJyb3dzIHRoZSB0eXBlIG9mIGBzdHJlYW0uX3N0YXRlYCBkb3duIHRvICd3cml0YWJsZScgfCAnZXJyb3JpbmcnLFxuICAvLyBidXQgaXQgZG9lc24ndCBrbm93IHRoYXQgc2lnbmFsaW5nIGFib3J0IHJ1bnMgYXV0aG9yIGNvZGUgdGhhdCBtaWdodCBoYXZlIGNoYW5nZWQgdGhlIHN0YXRlLlxuICAvLyBXaWRlbiB0aGUgdHlwZSBhZ2FpbiBieSBjYXN0aW5nIHRvIFdyaXRhYmxlU3RyZWFtU3RhdGUuXG4gIGNvbnN0IHN0YXRlID0gc3RyZWFtLl9zdGF0ZSBhcyBXcml0YWJsZVN0cmVhbVN0YXRlO1xuXG4gIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cbiAgaWYgKHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdC5fcHJvbWlzZTtcbiAgfVxuXG4gIGFzc2VydChzdGF0ZSA9PT0gJ3dyaXRhYmxlJyB8fCBzdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG5cbiAgbGV0IHdhc0FscmVhZHlFcnJvcmluZyA9IGZhbHNlO1xuICBpZiAoc3RhdGUgPT09ICdlcnJvcmluZycpIHtcbiAgICB3YXNBbHJlYWR5RXJyb3JpbmcgPSB0cnVlO1xuICAgIC8vIHJlYXNvbiB3aWxsIG5vdCBiZSB1c2VkLCBzbyBkb24ndCBrZWVwIGEgcmVmZXJlbmNlIHRvIGl0LlxuICAgIHJlYXNvbiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBuZXdQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCA9IHtcbiAgICAgIF9wcm9taXNlOiB1bmRlZmluZWQhLFxuICAgICAgX3Jlc29sdmU6IHJlc29sdmUsXG4gICAgICBfcmVqZWN0OiByZWplY3QsXG4gICAgICBfcmVhc29uOiByZWFzb24sXG4gICAgICBfd2FzQWxyZWFkeUVycm9yaW5nOiB3YXNBbHJlYWR5RXJyb3JpbmdcbiAgICB9O1xuICB9KTtcbiAgc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0IS5fcHJvbWlzZSA9IHByb21pc2U7XG5cbiAgaWYgKCF3YXNBbHJlYWR5RXJyb3JpbmcpIHtcbiAgICBXcml0YWJsZVN0cmVhbVN0YXJ0RXJyb3Jpbmcoc3RyZWFtLCByZWFzb24pO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtQ2xvc2Uoc3RyZWFtOiBXcml0YWJsZVN0cmVhbTxhbnk+KTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnIHx8IHN0YXRlID09PSAnZXJyb3JlZCcpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKFxuICAgICAgYFRoZSBzdHJlYW0gKGluICR7c3RhdGV9IHN0YXRlKSBpcyBub3QgaW4gdGhlIHdyaXRhYmxlIHN0YXRlIGFuZCBjYW5ub3QgYmUgY2xvc2VkYCkpO1xuICB9XG5cbiAgYXNzZXJ0KHN0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0YXRlID09PSAnZXJyb3JpbmcnKTtcbiAgYXNzZXJ0KCFXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChzdHJlYW0pKTtcblxuICBjb25zdCBwcm9taXNlID0gbmV3UHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBjbG9zZVJlcXVlc3Q6IENsb3NlUmVxdWVzdCA9IHtcbiAgICAgIF9yZXNvbHZlOiByZXNvbHZlLFxuICAgICAgX3JlamVjdDogcmVqZWN0XG4gICAgfTtcblxuICAgIHN0cmVhbS5fY2xvc2VSZXF1ZXN0ID0gY2xvc2VSZXF1ZXN0O1xuICB9KTtcblxuICBjb25zdCB3cml0ZXIgPSBzdHJlYW0uX3dyaXRlcjtcbiAgaWYgKHdyaXRlciAhPT0gdW5kZWZpbmVkICYmIHN0cmVhbS5fYmFja3ByZXNzdXJlICYmIHN0YXRlID09PSAnd3JpdGFibGUnKSB7XG4gICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc29sdmUod3JpdGVyKTtcbiAgfVxuXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbG9zZShzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcik7XG5cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFdyaXRhYmxlU3RyZWFtIEFQSSBleHBvc2VkIGZvciBjb250cm9sbGVycy5cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1BZGRXcml0ZVJlcXVlc3Qoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gIGFzc2VydChJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbSkpO1xuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyk7XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ld1Byb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3Qgd3JpdGVSZXF1ZXN0OiBXcml0ZVJlcXVlc3QgPSB7XG4gICAgICBfcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgIF9yZWplY3Q6IHJlamVjdFxuICAgIH07XG5cbiAgICBzdHJlYW0uX3dyaXRlUmVxdWVzdHMucHVzaCh3cml0ZVJlcXVlc3QpO1xuICB9KTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWFsV2l0aFJlamVjdGlvbihzdHJlYW06IFdyaXRhYmxlU3RyZWFtLCBlcnJvcjogYW55KSB7XG4gIGNvbnN0IHN0YXRlID0gc3RyZWFtLl9zdGF0ZTtcblxuICBpZiAoc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICBXcml0YWJsZVN0cmVhbVN0YXJ0RXJyb3Jpbmcoc3RyZWFtLCBlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXNzZXJ0KHN0YXRlID09PSAnZXJyb3JpbmcnKTtcbiAgV3JpdGFibGVTdHJlYW1GaW5pc2hFcnJvcmluZyhzdHJlYW0pO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbVN0YXJ0RXJyb3Jpbmcoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSwgcmVhc29uOiBhbnkpIHtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RvcmVkRXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAnd3JpdGFibGUnKTtcblxuICBjb25zdCBjb250cm9sbGVyID0gc3RyZWFtLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXI7XG4gIGFzc2VydChjb250cm9sbGVyICE9PSB1bmRlZmluZWQpO1xuXG4gIHN0cmVhbS5fc3RhdGUgPSAnZXJyb3JpbmcnO1xuICBzdHJlYW0uX3N0b3JlZEVycm9yID0gcmVhc29uO1xuICBjb25zdCB3cml0ZXIgPSBzdHJlYW0uX3dyaXRlcjtcbiAgaWYgKHdyaXRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyRW5zdXJlUmVhZHlQcm9taXNlUmVqZWN0ZWQod3JpdGVyLCByZWFzb24pO1xuICB9XG5cbiAgaWYgKCFXcml0YWJsZVN0cmVhbUhhc09wZXJhdGlvbk1hcmtlZEluRmxpZ2h0KHN0cmVhbSkgJiYgY29udHJvbGxlci5fc3RhcnRlZCkge1xuICAgIFdyaXRhYmxlU3RyZWFtRmluaXNoRXJyb3Jpbmcoc3RyZWFtKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUZpbmlzaEVycm9yaW5nKHN0cmVhbTogV3JpdGFibGVTdHJlYW0pIHtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmluZycpO1xuICBhc3NlcnQoIVdyaXRhYmxlU3RyZWFtSGFzT3BlcmF0aW9uTWFya2VkSW5GbGlnaHQoc3RyZWFtKSk7XG4gIHN0cmVhbS5fc3RhdGUgPSAnZXJyb3JlZCc7XG4gIHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyW0Vycm9yU3RlcHNdKCk7XG5cbiAgY29uc3Qgc3RvcmVkRXJyb3IgPSBzdHJlYW0uX3N0b3JlZEVycm9yO1xuICBzdHJlYW0uX3dyaXRlUmVxdWVzdHMuZm9yRWFjaCh3cml0ZVJlcXVlc3QgPT4ge1xuICAgIHdyaXRlUmVxdWVzdC5fcmVqZWN0KHN0b3JlZEVycm9yKTtcbiAgfSk7XG4gIHN0cmVhbS5fd3JpdGVSZXF1ZXN0cyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xuXG4gIGlmIChzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIFdyaXRhYmxlU3RyZWFtUmVqZWN0Q2xvc2VBbmRDbG9zZWRQcm9taXNlSWZOZWVkZWQoc3RyZWFtKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBhYm9ydFJlcXVlc3QgPSBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3Q7XG4gIHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCA9IHVuZGVmaW5lZDtcblxuICBpZiAoYWJvcnRSZXF1ZXN0Ll93YXNBbHJlYWR5RXJyb3JpbmcpIHtcbiAgICBhYm9ydFJlcXVlc3QuX3JlamVjdChzdG9yZWRFcnJvcik7XG4gICAgV3JpdGFibGVTdHJlYW1SZWplY3RDbG9zZUFuZENsb3NlZFByb21pc2VJZk5lZWRlZChzdHJlYW0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHByb21pc2UgPSBzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcltBYm9ydFN0ZXBzXShhYm9ydFJlcXVlc3QuX3JlYXNvbik7XG4gIHVwb25Qcm9taXNlKFxuICAgIHByb21pc2UsXG4gICAgKCkgPT4ge1xuICAgICAgYWJvcnRSZXF1ZXN0Ll9yZXNvbHZlKCk7XG4gICAgICBXcml0YWJsZVN0cmVhbVJlamVjdENsb3NlQW5kQ2xvc2VkUHJvbWlzZUlmTmVlZGVkKHN0cmVhbSk7XG4gICAgfSxcbiAgICAocmVhc29uOiBhbnkpID0+IHtcbiAgICAgIGFib3J0UmVxdWVzdC5fcmVqZWN0KHJlYXNvbik7XG4gICAgICBXcml0YWJsZVN0cmVhbVJlamVjdENsb3NlQW5kQ2xvc2VkUHJvbWlzZUlmTmVlZGVkKHN0cmVhbSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRXcml0ZShzdHJlYW06IFdyaXRhYmxlU3RyZWFtKSB7XG4gIGFzc2VydChzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ICE9PSB1bmRlZmluZWQpO1xuICBzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0IS5fcmVzb2x2ZSh1bmRlZmluZWQpO1xuICBzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ID0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUZpbmlzaEluRmxpZ2h0V3JpdGVXaXRoRXJyb3Ioc3RyZWFtOiBXcml0YWJsZVN0cmVhbSwgZXJyb3I6IGFueSkge1xuICBhc3NlcnQoc3RyZWFtLl9pbkZsaWdodFdyaXRlUmVxdWVzdCAhPT0gdW5kZWZpbmVkKTtcbiAgc3RyZWFtLl9pbkZsaWdodFdyaXRlUmVxdWVzdCEuX3JlamVjdChlcnJvcik7XG4gIHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG5cbiAgV3JpdGFibGVTdHJlYW1EZWFsV2l0aFJlamVjdGlvbihzdHJlYW0sIGVycm9yKTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1GaW5pc2hJbkZsaWdodENsb3NlKHN0cmVhbTogV3JpdGFibGVTdHJlYW0pIHtcbiAgYXNzZXJ0KHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgIT09IHVuZGVmaW5lZCk7XG4gIHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QhLl9yZXNvbHZlKHVuZGVmaW5lZCk7XG4gIHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuXG4gIGFzc2VydChzdGF0ZSA9PT0gJ3dyaXRhYmxlJyB8fCBzdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG5cbiAgaWYgKHN0YXRlID09PSAnZXJyb3JpbmcnKSB7XG4gICAgLy8gVGhlIGVycm9yIHdhcyB0b28gbGF0ZSB0byBkbyBhbnl0aGluZywgc28gaXQgaXMgaWdub3JlZC5cbiAgICBzdHJlYW0uX3N0b3JlZEVycm9yID0gdW5kZWZpbmVkO1xuICAgIGlmIChzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0Ll9yZXNvbHZlKCk7XG4gICAgICBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgc3RyZWFtLl9zdGF0ZSA9ICdjbG9zZWQnO1xuXG4gIGNvbnN0IHdyaXRlciA9IHN0cmVhbS5fd3JpdGVyO1xuICBpZiAod3JpdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZVJlc29sdmUod3JpdGVyKTtcbiAgfVxuXG4gIGFzc2VydChzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydChzdHJlYW0uX3N0b3JlZEVycm9yID09PSB1bmRlZmluZWQpO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUZpbmlzaEluRmxpZ2h0Q2xvc2VXaXRoRXJyb3Ioc3RyZWFtOiBXcml0YWJsZVN0cmVhbSwgZXJyb3I6IGFueSkge1xuICBhc3NlcnQoc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCAhPT0gdW5kZWZpbmVkKTtcbiAgc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCEuX3JlamVjdChlcnJvcik7XG4gIHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG5cbiAgLy8gTmV2ZXIgZXhlY3V0ZSBzaW5rIGFib3J0KCkgYWZ0ZXIgc2luayBjbG9zZSgpLlxuICBpZiAoc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QuX3JlamVjdChlcnJvcik7XG4gICAgc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICB9XG4gIFdyaXRhYmxlU3RyZWFtRGVhbFdpdGhSZWplY3Rpb24oc3RyZWFtLCBlcnJvcik7XG59XG5cbi8vIFRPRE8ocmljZWEpOiBGaXggYWxwaGFiZXRpY2FsIG9yZGVyLlxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSk6IGJvb2xlYW4ge1xuICBpZiAoc3RyZWFtLl9jbG9zZVJlcXVlc3QgPT09IHVuZGVmaW5lZCAmJiBzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1IYXNPcGVyYXRpb25NYXJrZWRJbkZsaWdodChzdHJlYW06IFdyaXRhYmxlU3RyZWFtKTogYm9vbGVhbiB7XG4gIGlmIChzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ID09PSB1bmRlZmluZWQgJiYgc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtTWFya0Nsb3NlUmVxdWVzdEluRmxpZ2h0KHN0cmVhbTogV3JpdGFibGVTdHJlYW0pIHtcbiAgYXNzZXJ0KHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydChzdHJlYW0uX2Nsb3NlUmVxdWVzdCAhPT0gdW5kZWZpbmVkKTtcbiAgc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCA9IHN0cmVhbS5fY2xvc2VSZXF1ZXN0O1xuICBzdHJlYW0uX2Nsb3NlUmVxdWVzdCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1NYXJrRmlyc3RXcml0ZVJlcXVlc3RJbkZsaWdodChzdHJlYW06IFdyaXRhYmxlU3RyZWFtKSB7XG4gIGFzc2VydChzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ID09PSB1bmRlZmluZWQpO1xuICBhc3NlcnQoc3RyZWFtLl93cml0ZVJlcXVlc3RzLmxlbmd0aCAhPT0gMCk7XG4gIHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgPSBzdHJlYW0uX3dyaXRlUmVxdWVzdHMuc2hpZnQoKTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1SZWplY3RDbG9zZUFuZENsb3NlZFByb21pc2VJZk5lZWRlZChzdHJlYW06IFdyaXRhYmxlU3RyZWFtKSB7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAnZXJyb3JlZCcpO1xuICBpZiAoc3RyZWFtLl9jbG9zZVJlcXVlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydChzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0ID09PSB1bmRlZmluZWQpO1xuXG4gICAgc3RyZWFtLl9jbG9zZVJlcXVlc3QuX3JlamVjdChzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgICBzdHJlYW0uX2Nsb3NlUmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgfVxuICBjb25zdCB3cml0ZXIgPSBzdHJlYW0uX3dyaXRlcjtcbiAgaWYgKHdyaXRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VSZWplY3Qod3JpdGVyLCBzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbVVwZGF0ZUJhY2twcmVzc3VyZShzdHJlYW06IFdyaXRhYmxlU3RyZWFtLCBiYWNrcHJlc3N1cmU6IGJvb2xlYW4pIHtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScpO1xuICBhc3NlcnQoIVdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkpO1xuXG4gIGNvbnN0IHdyaXRlciA9IHN0cmVhbS5fd3JpdGVyO1xuICBpZiAod3JpdGVyICE9PSB1bmRlZmluZWQgJiYgYmFja3ByZXNzdXJlICE9PSBzdHJlYW0uX2JhY2twcmVzc3VyZSkge1xuICAgIGlmIChiYWNrcHJlc3N1cmUpIHtcbiAgICAgIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VSZXNldCh3cml0ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoIWJhY2twcmVzc3VyZSk7XG5cbiAgICAgIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VSZXNvbHZlKHdyaXRlcik7XG4gICAgfVxuICB9XG5cbiAgc3RyZWFtLl9iYWNrcHJlc3N1cmUgPSBiYWNrcHJlc3N1cmU7XG59XG5cbi8qKlxuICogQSBkZWZhdWx0IHdyaXRlciB2ZW5kZWQgYnkgYSB7QGxpbmsgV3JpdGFibGVTdHJlYW19LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcjxXID0gYW55PiB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX293bmVyV3JpdGFibGVTdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlITogUHJvbWlzZTx1bmRlZmluZWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlX3Jlc29sdmU/OiAodmFsdWU/OiB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VfcmVqZWN0PzogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZWRQcm9taXNlU3RhdGUhOiAncGVuZGluZycgfCAncmVzb2x2ZWQnIHwgJ3JlamVjdGVkJztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcmVhZHlQcm9taXNlITogUHJvbWlzZTx1bmRlZmluZWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkeVByb21pc2VfcmVzb2x2ZT86ICh2YWx1ZT86IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcmVhZHlQcm9taXNlX3JlamVjdD86IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcmVhZHlQcm9taXNlU3RhdGUhOiAncGVuZGluZycgfCAnZnVsZmlsbGVkJyB8ICdyZWplY3RlZCc7XG5cbiAgY29uc3RydWN0b3Ioc3RyZWFtOiBXcml0YWJsZVN0cmVhbTxXPikge1xuICAgIGFzc2VydFJlcXVpcmVkQXJndW1lbnQoc3RyZWFtLCAxLCAnV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyJyk7XG4gICAgYXNzZXJ0V3JpdGFibGVTdHJlYW0oc3RyZWFtLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG5cbiAgICBpZiAoSXNXcml0YWJsZVN0cmVhbUxvY2tlZChzdHJlYW0pKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIHN0cmVhbSBoYXMgYWxyZWFkeSBiZWVuIGxvY2tlZCBmb3IgZXhjbHVzaXZlIHdyaXRpbmcgYnkgYW5vdGhlciB3cml0ZXInKTtcbiAgICB9XG5cbiAgICB0aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtID0gc3RyZWFtO1xuICAgIHN0cmVhbS5fd3JpdGVyID0gdGhpcztcblxuICAgIGNvbnN0IHN0YXRlID0gc3RyZWFtLl9zdGF0ZTtcblxuICAgIGlmIChzdGF0ZSA9PT0gJ3dyaXRhYmxlJykge1xuICAgICAgaWYgKCFXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChzdHJlYW0pICYmIHN0cmVhbS5fYmFja3ByZXNzdXJlKSB7XG4gICAgICAgIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VJbml0aWFsaXplKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemVBc1Jlc29sdmVkKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemUodGhpcyk7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ2Vycm9yaW5nJykge1xuICAgICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHRoaXMsIHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICAgICAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQodGhpcyk7XG4gICAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1Jlc29sdmVkKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoc3RhdGUgPT09ICdlcnJvcmVkJyk7XG5cbiAgICAgIGNvbnN0IHN0b3JlZEVycm9yID0gc3RyZWFtLl9zdG9yZWRFcnJvcjtcbiAgICAgIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VJbml0aWFsaXplQXNSZWplY3RlZCh0aGlzLCBzdG9yZWRFcnJvcik7XG4gICAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHRoaXMsIHN0b3JlZEVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aGVuIHRoZSBzdHJlYW0gYmVjb21lcyBjbG9zZWQsIG9yIHJlamVjdGVkIGlmIHRoZSBzdHJlYW0gZXZlciBlcnJvcnMgb3JcbiAgICogdGhlIHdyaXRlcuKAmXMgbG9jayBpcyByZWxlYXNlZCBiZWZvcmUgdGhlIHN0cmVhbSBmaW5pc2hlcyBjbG9zaW5nLlxuICAgKi9cbiAgZ2V0IGNsb3NlZCgpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdjbG9zZWQnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlZFByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVzaXJlZCBzaXplIHRvIGZpbGwgdGhlIHN0cmVhbeKAmXMgaW50ZXJuYWwgcXVldWUuIEl0IGNhbiBiZSBuZWdhdGl2ZSwgaWYgdGhlIHF1ZXVlIGlzIG92ZXItZnVsbC5cbiAgICogQSBwcm9kdWNlciBjYW4gdXNlIHRoaXMgaW5mb3JtYXRpb24gdG8gZGV0ZXJtaW5lIHRoZSByaWdodCBhbW91bnQgb2YgZGF0YSB0byB3cml0ZS5cbiAgICpcbiAgICogSXQgd2lsbCBiZSBgbnVsbGAgaWYgdGhlIHN0cmVhbSBjYW5ub3QgYmUgc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4gdG8gKGR1ZSB0byBlaXRoZXIgYmVpbmcgZXJyb3JlZCwgb3IgaGF2aW5nIGFuIGFib3J0XG4gICAqIHF1ZXVlZCB1cCkuIEl0IHdpbGwgcmV0dXJuIHplcm8gaWYgdGhlIHN0cmVhbSBpcyBjbG9zZWQuIEFuZCB0aGUgZ2V0dGVyIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGludm9rZWQgd2hlblxuICAgKiB0aGUgd3JpdGVy4oCZcyBsb2NrIGlzIHJlbGVhc2VkLlxuICAgKi9cbiAgZ2V0IGRlc2lyZWRTaXplKCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRXcml0ZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdkZXNpcmVkU2l6ZScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IGRlZmF1bHRXcml0ZXJMb2NrRXhjZXB0aW9uKCdkZXNpcmVkU2l6ZScpO1xuICAgIH1cblxuICAgIHJldHVybiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJHZXREZXNpcmVkU2l6ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdoZW4gdGhlIGRlc2lyZWQgc2l6ZSB0byBmaWxsIHRoZSBzdHJlYW3igJlzIGludGVybmFsIHF1ZXVlIHRyYW5zaXRpb25zXG4gICAqIGZyb20gbm9uLXBvc2l0aXZlIHRvIHBvc2l0aXZlLCBzaWduYWxpbmcgdGhhdCBpdCBpcyBubyBsb25nZXIgYXBwbHlpbmcgYmFja3ByZXNzdXJlLiBPbmNlIHRoZSBkZXNpcmVkIHNpemUgZGlwc1xuICAgKiBiYWNrIHRvIHplcm8gb3IgYmVsb3csIHRoZSBnZXR0ZXIgd2lsbCByZXR1cm4gYSBuZXcgcHJvbWlzZSB0aGF0IHN0YXlzIHBlbmRpbmcgdW50aWwgdGhlIG5leHQgdHJhbnNpdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIHN0cmVhbSBiZWNvbWVzIGVycm9yZWQgb3IgYWJvcnRlZCwgb3IgdGhlIHdyaXRlcuKAmXMgbG9jayBpcyByZWxlYXNlZCwgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZWNvbWVcbiAgICogcmVqZWN0ZWQuXG4gICAqL1xuICBnZXQgcmVhZHkoKTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChkZWZhdWx0V3JpdGVyQnJhbmRDaGVja0V4Y2VwdGlvbigncmVhZHknKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlYWR5UHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgcmVhZGVyIGlzIGFjdGl2ZSwgYmVoYXZlcyB0aGUgc2FtZSBhcyB7QGxpbmsgV3JpdGFibGVTdHJlYW0uYWJvcnQgfCBzdHJlYW0uYWJvcnQocmVhc29uKX0uXG4gICAqL1xuICBhYm9ydChyZWFzb246IGFueSA9IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdhYm9ydCcpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3duZXJXcml0YWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChkZWZhdWx0V3JpdGVyTG9ja0V4Y2VwdGlvbignYWJvcnQnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckFib3J0KHRoaXMsIHJlYXNvbik7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIHJlYWRlciBpcyBhY3RpdmUsIGJlaGF2ZXMgdGhlIHNhbWUgYXMge0BsaW5rIFdyaXRhYmxlU3RyZWFtLmNsb3NlIHwgc3RyZWFtLmNsb3NlKCl9LlxuICAgKi9cbiAgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Nsb3NlJykpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuX293bmVyV3JpdGFibGVTdHJlYW07XG5cbiAgICBpZiAoc3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJMb2NrRXhjZXB0aW9uKCdjbG9zZScpKTtcbiAgICB9XG5cbiAgICBpZiAoV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoc3RyZWFtKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgobmV3IFR5cGVFcnJvcignQ2Fubm90IGNsb3NlIGFuIGFscmVhZHktY2xvc2luZyBzdHJlYW0nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckNsb3NlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIHRoZSB3cml0ZXLigJlzIGxvY2sgb24gdGhlIGNvcnJlc3BvbmRpbmcgc3RyZWFtLiBBZnRlciB0aGUgbG9jayBpcyByZWxlYXNlZCwgdGhlIHdyaXRlciBpcyBubyBsb25nZXIgYWN0aXZlLlxuICAgKiBJZiB0aGUgYXNzb2NpYXRlZCBzdHJlYW0gaXMgZXJyb3JlZCB3aGVuIHRoZSBsb2NrIGlzIHJlbGVhc2VkLCB0aGUgd3JpdGVyIHdpbGwgYXBwZWFyIGVycm9yZWQgaW4gdGhlIHNhbWUgd2F5IGZyb21cbiAgICogbm93IG9uOyBvdGhlcndpc2UsIHRoZSB3cml0ZXIgd2lsbCBhcHBlYXIgY2xvc2VkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIGxvY2sgY2FuIHN0aWxsIGJlIHJlbGVhc2VkIGV2ZW4gaWYgc29tZSBvbmdvaW5nIHdyaXRlcyBoYXZlIG5vdCB5ZXQgZmluaXNoZWQgKGkuZS4gZXZlbiBpZiB0aGVcbiAgICogcHJvbWlzZXMgcmV0dXJuZWQgZnJvbSBwcmV2aW91cyBjYWxscyB0byB7QGxpbmsgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLndyaXRlIHwgd3JpdGUoKX0gaGF2ZSBub3QgeWV0IHNldHRsZWQpLlxuICAgKiBJdOKAmXMgbm90IG5lY2Vzc2FyeSB0byBob2xkIHRoZSBsb2NrIG9uIHRoZSB3cml0ZXIgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgd3JpdGU7IHRoZSBsb2NrIGluc3RlYWQgc2ltcGx5IHByZXZlbnRzXG4gICAqIG90aGVyIHByb2R1Y2VycyBmcm9tIHdyaXRpbmcgaW4gYW4gaW50ZXJsZWF2ZWQgbWFubmVyLlxuICAgKi9cbiAgcmVsZWFzZUxvY2soKTogdm9pZCB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ3JlbGVhc2VMb2NrJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fb3duZXJXcml0YWJsZVN0cmVhbTtcblxuICAgIGlmIChzdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFzc2VydChzdHJlYW0uX3dyaXRlciAhPT0gdW5kZWZpbmVkKTtcblxuICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlclJlbGVhc2UodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGVzIHRoZSBnaXZlbiBjaHVuayB0byB0aGUgd3JpdGFibGUgc3RyZWFtLCBieSB3YWl0aW5nIHVudGlsIGFueSBwcmV2aW91cyB3cml0ZXMgaGF2ZSBmaW5pc2hlZCBzdWNjZXNzZnVsbHksXG4gICAqIGFuZCB0aGVuIHNlbmRpbmcgdGhlIGNodW5rIHRvIHRoZSB1bmRlcmx5aW5nIHNpbmsncyB7QGxpbmsgVW5kZXJseWluZ1Npbmsud3JpdGUgfCB3cml0ZSgpfSBtZXRob2QuIEl0IHdpbGwgcmV0dXJuXG4gICAqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpdGggdW5kZWZpbmVkIHVwb24gYSBzdWNjZXNzZnVsIHdyaXRlLCBvciByZWplY3RzIGlmIHRoZSB3cml0ZSBmYWlscyBvciBzdHJlYW0gYmVjb21lc1xuICAgKiBlcnJvcmVkIGJlZm9yZSB0aGUgd3JpdGluZyBwcm9jZXNzIGlzIGluaXRpYXRlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHdoYXQgXCJzdWNjZXNzXCIgbWVhbnMgaXMgdXAgdG8gdGhlIHVuZGVybHlpbmcgc2luazsgaXQgbWlnaHQgaW5kaWNhdGUgc2ltcGx5IHRoYXQgdGhlIGNodW5rIGhhcyBiZWVuXG4gICAqIGFjY2VwdGVkLCBhbmQgbm90IG5lY2Vzc2FyaWx5IHRoYXQgaXQgaXMgc2FmZWx5IHNhdmVkIHRvIGl0cyB1bHRpbWF0ZSBkZXN0aW5hdGlvbi5cbiAgICovXG4gIHdyaXRlKGNodW5rOiBXKTogUHJvbWlzZTx2b2lkPjtcbiAgd3JpdGUoY2h1bms6IFcgPSB1bmRlZmluZWQhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ3dyaXRlJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJMb2NrRXhjZXB0aW9uKCd3cml0ZSB0bycpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyV3JpdGUodGhpcywgY2h1bmspO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlci5wcm90b3R5cGUsIHtcbiAgYWJvcnQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBjbG9zZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHJlbGVhc2VMb2NrOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgd3JpdGU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBjbG9zZWQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBkZXNpcmVkU2l6ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHJlYWR5OiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgZm9yIHRoZSBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIuXG5cbmZ1bmN0aW9uIElzV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFcgPSBhbnk+KHg6IGFueSk6IHggaXMgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFc+IHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX293bmVyV3JpdGFibGVTdHJlYW0nKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyO1xufVxuXG4vLyBBIGNsaWVudCBvZiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIgbWF5IHVzZSB0aGVzZSBmdW5jdGlvbnMgZGlyZWN0bHkgdG8gYnlwYXNzIHN0YXRlIGNoZWNrLlxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJBYm9ydCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgcmVhc29uOiBhbnkpIHtcbiAgY29uc3Qgc3RyZWFtID0gd3JpdGVyLl9vd25lcldyaXRhYmxlU3RyZWFtO1xuXG4gIGFzc2VydChzdHJlYW0gIT09IHVuZGVmaW5lZCk7XG5cbiAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtQWJvcnQoc3RyZWFtLCByZWFzb24pO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJDbG9zZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcik6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gIGNvbnN0IHN0cmVhbSA9IHdyaXRlci5fb3duZXJXcml0YWJsZVN0cmVhbTtcblxuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuXG4gIHJldHVybiBXcml0YWJsZVN0cmVhbUNsb3NlKHN0cmVhbSk7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckNsb3NlV2l0aEVycm9yUHJvcGFnYXRpb24od3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICBjb25zdCBzdHJlYW0gPSB3cml0ZXIuX293bmVyV3JpdGFibGVTdHJlYW07XG5cbiAgYXNzZXJ0KHN0cmVhbSAhPT0gdW5kZWZpbmVkKTtcblxuICBjb25zdCBzdGF0ZSA9IHN0cmVhbS5fc3RhdGU7XG4gIGlmIChXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChzdHJlYW0pIHx8IHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cblxuICBpZiAoc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICB9XG5cbiAgYXNzZXJ0KHN0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0YXRlID09PSAnZXJyb3JpbmcnKTtcblxuICByZXR1cm4gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQ2xvc2Uod3JpdGVyKTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyRW5zdXJlQ2xvc2VkUHJvbWlzZVJlamVjdGVkKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCBlcnJvcjogYW55KSB7XG4gIGlmICh3cml0ZXIuX2Nsb3NlZFByb21pc2VTdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VSZWplY3Qod3JpdGVyLCBlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VSZXNldFRvUmVqZWN0ZWQod3JpdGVyLCBlcnJvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyRW5zdXJlUmVhZHlQcm9taXNlUmVqZWN0ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsIGVycm9yOiBhbnkpIHtcbiAgaWYgKHdyaXRlci5fcmVhZHlQcm9taXNlU3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VSZWplY3Qod3JpdGVyLCBlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc2V0VG9SZWplY3RlZCh3cml0ZXIsIGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJHZXREZXNpcmVkU2l6ZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcik6IG51bWJlciB8IG51bGwge1xuICBjb25zdCBzdHJlYW0gPSB3cml0ZXIuX293bmVyV3JpdGFibGVTdHJlYW07XG4gIGNvbnN0IHN0YXRlID0gc3RyZWFtLl9zdGF0ZTtcblxuICBpZiAoc3RhdGUgPT09ICdlcnJvcmVkJyB8fCBzdGF0ZSA9PT0gJ2Vycm9yaW5nJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZShzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlclJlbGVhc2Uod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpIHtcbiAgY29uc3Qgc3RyZWFtID0gd3JpdGVyLl9vd25lcldyaXRhYmxlU3RyZWFtO1xuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuICBhc3NlcnQoc3RyZWFtLl93cml0ZXIgPT09IHdyaXRlcik7XG5cbiAgY29uc3QgcmVsZWFzZWRFcnJvciA9IG5ldyBUeXBlRXJyb3IoXG4gICAgYFdyaXRlciB3YXMgcmVsZWFzZWQgYW5kIGNhbiBubyBsb25nZXIgYmUgdXNlZCB0byBtb25pdG9yIHRoZSBzdHJlYW0ncyBjbG9zZWRuZXNzYCk7XG5cbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyRW5zdXJlUmVhZHlQcm9taXNlUmVqZWN0ZWQod3JpdGVyLCByZWxlYXNlZEVycm9yKTtcblxuICAvLyBUaGUgc3RhdGUgdHJhbnNpdGlvbnMgdG8gXCJlcnJvcmVkXCIgYmVmb3JlIHRoZSBzaW5rIGFib3J0KCkgbWV0aG9kIHJ1bnMsIGJ1dCB0aGUgd3JpdGVyLmNsb3NlZCBwcm9taXNlIGlzIG5vdFxuICAvLyByZWplY3RlZCB1bnRpbCBhZnRlcndhcmRzLiBUaGlzIG1lYW5zIHRoYXQgc2ltcGx5IHRlc3Rpbmcgc3RhdGUgd2lsbCBub3Qgd29yay5cbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyRW5zdXJlQ2xvc2VkUHJvbWlzZVJlamVjdGVkKHdyaXRlciwgcmVsZWFzZWRFcnJvcik7XG5cbiAgc3RyZWFtLl93cml0ZXIgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fb3duZXJXcml0YWJsZVN0cmVhbSA9IHVuZGVmaW5lZCE7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcldyaXRlPFc+KHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFc+LCBjaHVuazogVyk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gIGNvbnN0IHN0cmVhbSA9IHdyaXRlci5fb3duZXJXcml0YWJsZVN0cmVhbTtcblxuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcjtcblxuICBjb25zdCBjaHVua1NpemUgPSBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0Q2h1bmtTaXplKGNvbnRyb2xsZXIsIGNodW5rKTtcblxuICBpZiAoc3RyZWFtICE9PSB3cml0ZXIuX293bmVyV3JpdGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChkZWZhdWx0V3JpdGVyTG9ja0V4Y2VwdGlvbignd3JpdGUgdG8nKSk7XG4gIH1cblxuICBjb25zdCBzdGF0ZSA9IHN0cmVhbS5fc3RhdGU7XG4gIGlmIChzdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gIH1cbiAgaWYgKFdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkgfHwgc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgobmV3IFR5cGVFcnJvcignVGhlIHN0cmVhbSBpcyBjbG9zaW5nIG9yIGNsb3NlZCBhbmQgY2Fubm90IGJlIHdyaXR0ZW4gdG8nKSk7XG4gIH1cbiAgaWYgKHN0YXRlID09PSAnZXJyb3JpbmcnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gIH1cblxuICBhc3NlcnQoc3RhdGUgPT09ICd3cml0YWJsZScpO1xuXG4gIGNvbnN0IHByb21pc2UgPSBXcml0YWJsZVN0cmVhbUFkZFdyaXRlUmVxdWVzdChzdHJlYW0pO1xuXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJXcml0ZShjb250cm9sbGVyLCBjaHVuaywgY2h1bmtTaXplKTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuY29uc3QgY2xvc2VTZW50aW5lbDogdW5pcXVlIHN5bWJvbCA9IHt9IGFzIGFueTtcblxudHlwZSBRdWV1ZVJlY29yZDxXPiA9IFcgfCB0eXBlb2YgY2xvc2VTZW50aW5lbDtcblxuLyoqXG4gKiBBbGxvd3MgY29udHJvbCBvZiBhIHtAbGluayBXcml0YWJsZVN0cmVhbSB8IHdyaXRhYmxlIHN0cmVhbX0ncyBzdGF0ZSBhbmQgaW50ZXJuYWwgcXVldWUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXID0gYW55PiB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbSE6IFdyaXRhYmxlU3RyZWFtPFc+O1xuICAvKiogQGludGVybmFsICovXG4gIF9xdWV1ZSE6IFNpbXBsZVF1ZXVlPFF1ZXVlUGFpcjxRdWV1ZVJlY29yZDxXPj4+O1xuICAvKiogQGludGVybmFsICovXG4gIF9xdWV1ZVRvdGFsU2l6ZSE6IG51bWJlcjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYWJvcnRSZWFzb246IGFueTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0YXJ0ZWQhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9zdHJhdGVneVNpemVBbGdvcml0aG0hOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8Vz47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0cmF0ZWd5SFdNITogbnVtYmVyO1xuICAvKiogQGludGVybmFsICovXG4gIF93cml0ZUFsZ29yaXRobSE6IChjaHVuazogVykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2xvc2VBbGdvcml0aG0hOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9hYm9ydEFsZ29yaXRobSE6IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgY29uc3RydWN0b3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVhc29uIHdoaWNoIHdhcyBwYXNzZWQgdG8gYFdyaXRhYmxlU3RyZWFtLmFib3J0KHJlYXNvbilgIHdoZW4gdGhlIHN0cmVhbSB3YXMgYWJvcnRlZC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogIFRoaXMgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBzcGVjaWZpY2F0aW9uLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9zdHJlYW1zL3B1bGwvMTE3Ny5cbiAgICogIFVzZSB7QGxpbmsgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5zaWduYWx9J3MgYHJlYXNvbmAgaW5zdGVhZC5cbiAgICovXG4gIGdldCBhYm9ydFJlYXNvbigpOiBhbnkge1xuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Fib3J0UmVhc29uJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hYm9ydFJlYXNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBgQWJvcnRTaWduYWxgIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWJvcnQgdGhlIHBlbmRpbmcgd3JpdGUgb3IgY2xvc2Ugb3BlcmF0aW9uIHdoZW4gdGhlIHN0cmVhbSBpcyBhYm9ydGVkLlxuICAgKi9cbiAgZ2V0IHNpZ25hbCgpOiBBYm9ydFNpZ25hbCB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignc2lnbmFsJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gT2xkZXIgYnJvd3NlcnMgb3Igb2xkZXIgTm9kZSB2ZXJzaW9ucyBtYXkgbm90IHN1cHBvcnQgYEFib3J0Q29udHJvbGxlcmAgb3IgYEFib3J0U2lnbmFsYC5cbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gYnVuZGxlIGFuZCBzaGlwIGFuIGBBYm9ydENvbnRyb2xsZXJgIHBvbHlmaWxsIHRvZ2V0aGVyIHdpdGggb3VyIHBvbHlmaWxsLFxuICAgICAgLy8gc28gaW5zdGVhZCB3ZSBvbmx5IGltcGxlbWVudCBzdXBwb3J0IGZvciBgc2lnbmFsYCBpZiB3ZSBmaW5kIGEgZ2xvYmFsIGBBYm9ydENvbnRyb2xsZXJgIGNvbnN0cnVjdG9yLlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuc2lnbmFsIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWw7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBjb250cm9sbGVkIHdyaXRhYmxlIHN0cmVhbSwgbWFraW5nIGFsbCBmdXR1cmUgaW50ZXJhY3Rpb25zIHdpdGggaXQgZmFpbCB3aXRoIHRoZSBnaXZlbiBlcnJvciBgZWAuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHJhcmVseSB1c2VkLCBzaW5jZSB1c3VhbGx5IGl0IHN1ZmZpY2VzIHRvIHJldHVybiBhIHJlamVjdGVkIHByb21pc2UgZnJvbSBvbmUgb2YgdGhlIHVuZGVybHlpbmdcbiAgICogc2luaydzIG1ldGhvZHMuIEhvd2V2ZXIsIGl0IGNhbiBiZSB1c2VmdWwgZm9yIHN1ZGRlbmx5IHNodXR0aW5nIGRvd24gYSBzdHJlYW0gaW4gcmVzcG9uc2UgdG8gYW4gZXZlbnQgb3V0c2lkZSB0aGVcbiAgICogbm9ybWFsIGxpZmVjeWNsZSBvZiBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgdW5kZXJseWluZyBzaW5rLlxuICAgKi9cbiAgZXJyb3IoZTogYW55ID0gdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignZXJyb3InKTtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9jb250cm9sbGVkV3JpdGFibGVTdHJlYW0uX3N0YXRlO1xuICAgIGlmIChzdGF0ZSAhPT0gJ3dyaXRhYmxlJykge1xuICAgICAgLy8gVGhlIHN0cmVhbSBpcyBjbG9zZWQsIGVycm9yZWQgb3Igd2lsbCBiZSBzb29uLiBUaGUgc2luayBjYW4ndCBkbyBhbnl0aGluZyB1c2VmdWwgaWYgaXQgZ2V0cyBhbiBlcnJvciBoZXJlLCBzb1xuICAgICAgLy8ganVzdCB0cmVhdCBpdCBhcyBhIG5vLW9wLlxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcih0aGlzLCBlKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgW0Fib3J0U3RlcHNdKHJlYXNvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fYWJvcnRBbGdvcml0aG0ocmVhc29uKTtcbiAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKHRoaXMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIFtFcnJvclN0ZXBzXSgpIHtcbiAgICBSZXNldFF1ZXVlKHRoaXMpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLCB7XG4gIGFib3J0UmVhc29uOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgc2lnbmFsOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZXJyb3I6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcicsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGltcGxlbWVudGluZyBpbnRlcmZhY2UgcmVxdWlyZWQgYnkgdGhlIFdyaXRhYmxlU3RyZWFtLlxuXG5mdW5jdGlvbiBJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIoeDogYW55KTogeCBpcyBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4ge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG59XG5cbmZ1bmN0aW9uIFNldFVwV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXPihzdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Vz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUFsZ29yaXRobTogKGNodW5rOiBXKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0QWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaFdhdGVyTWFyazogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxXPikge1xuICBhc3NlcnQoSXNXcml0YWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgYXNzZXJ0KHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyID09PSB1bmRlZmluZWQpO1xuXG4gIGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbSA9IHN0cmVhbTtcbiAgc3RyZWFtLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuXG4gIC8vIE5lZWQgdG8gc2V0IHRoZSBzbG90cyBzbyB0aGF0IHRoZSBhc3NlcnQgZG9lc24ndCBmaXJlLiBJbiB0aGUgc3BlYyB0aGUgc2xvdHMgYWxyZWFkeSBleGlzdCBpbXBsaWNpdGx5LlxuICBjb250cm9sbGVyLl9xdWV1ZSA9IHVuZGVmaW5lZCE7XG4gIGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplID0gdW5kZWZpbmVkITtcbiAgUmVzZXRRdWV1ZShjb250cm9sbGVyKTtcblxuICBjb250cm9sbGVyLl9hYm9ydFJlYXNvbiA9IHVuZGVmaW5lZDtcbiAgY29udHJvbGxlci5fYWJvcnRDb250cm9sbGVyID0gY3JlYXRlQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnRyb2xsZXIuX3N0YXJ0ZWQgPSBmYWxzZTtcblxuICBjb250cm9sbGVyLl9zdHJhdGVneVNpemVBbGdvcml0aG0gPSBzaXplQWxnb3JpdGhtO1xuICBjb250cm9sbGVyLl9zdHJhdGVneUhXTSA9IGhpZ2hXYXRlck1hcms7XG5cbiAgY29udHJvbGxlci5fd3JpdGVBbGdvcml0aG0gPSB3cml0ZUFsZ29yaXRobTtcbiAgY29udHJvbGxlci5fY2xvc2VBbGdvcml0aG0gPSBjbG9zZUFsZ29yaXRobTtcbiAgY29udHJvbGxlci5fYWJvcnRBbGdvcml0aG0gPSBhYm9ydEFsZ29yaXRobTtcblxuICBjb25zdCBiYWNrcHJlc3N1cmUgPSBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0QmFja3ByZXNzdXJlKGNvbnRyb2xsZXIpO1xuICBXcml0YWJsZVN0cmVhbVVwZGF0ZUJhY2twcmVzc3VyZShzdHJlYW0sIGJhY2twcmVzc3VyZSk7XG5cbiAgY29uc3Qgc3RhcnRSZXN1bHQgPSBzdGFydEFsZ29yaXRobSgpO1xuICBjb25zdCBzdGFydFByb21pc2UgPSBwcm9taXNlUmVzb2x2ZWRXaXRoKHN0YXJ0UmVzdWx0KTtcbiAgdXBvblByb21pc2UoXG4gICAgc3RhcnRQcm9taXNlLFxuICAgICgpID0+IHtcbiAgICAgIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmluZycpO1xuICAgICAgY29udHJvbGxlci5fc3RhcnRlZCA9IHRydWU7XG4gICAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQWR2YW5jZVF1ZXVlSWZOZWVkZWQoY29udHJvbGxlcik7XG4gICAgfSxcbiAgICByID0+IHtcbiAgICAgIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmluZycpO1xuICAgICAgY29udHJvbGxlci5fc3RhcnRlZCA9IHRydWU7XG4gICAgICBXcml0YWJsZVN0cmVhbURlYWxXaXRoUmVqZWN0aW9uKHN0cmVhbSwgcik7XG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBTZXRVcFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJGcm9tVW5kZXJseWluZ1Npbms8Vz4oc3RyZWFtOiBXcml0YWJsZVN0cmVhbTxXPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmx5aW5nU2luazogVmFsaWRhdGVkVW5kZXJseWluZ1Npbms8Vz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaFdhdGVyTWFyazogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxXPikge1xuICBjb25zdCBjb250cm9sbGVyID0gT2JqZWN0LmNyZWF0ZShXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSk7XG5cbiAgbGV0IHN0YXJ0QWxnb3JpdGhtOiAoKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4gPSAoKSA9PiB1bmRlZmluZWQ7XG4gIGxldCB3cml0ZUFsZ29yaXRobTogKGNodW5rOiBXKSA9PiBQcm9taXNlPHZvaWQ+ID0gKCkgPT4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICBsZXQgY2xvc2VBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIGxldCBhYm9ydEFsZ29yaXRobTogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+ID0gKCkgPT4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuXG4gIGlmICh1bmRlcmx5aW5nU2luay5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnRBbGdvcml0aG0gPSAoKSA9PiB1bmRlcmx5aW5nU2luay5zdGFydCEoY29udHJvbGxlcik7XG4gIH1cbiAgaWYgKHVuZGVybHlpbmdTaW5rLndyaXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICB3cml0ZUFsZ29yaXRobSA9IGNodW5rID0+IHVuZGVybHlpbmdTaW5rLndyaXRlIShjaHVuaywgY29udHJvbGxlcik7XG4gIH1cbiAgaWYgKHVuZGVybHlpbmdTaW5rLmNsb3NlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjbG9zZUFsZ29yaXRobSA9ICgpID0+IHVuZGVybHlpbmdTaW5rLmNsb3NlISgpO1xuICB9XG4gIGlmICh1bmRlcmx5aW5nU2luay5hYm9ydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYWJvcnRBbGdvcml0aG0gPSByZWFzb24gPT4gdW5kZXJseWluZ1NpbmsuYWJvcnQhKHJlYXNvbik7XG4gIH1cblxuICBTZXRVcFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIoXG4gICAgc3RyZWFtLCBjb250cm9sbGVyLCBzdGFydEFsZ29yaXRobSwgd3JpdGVBbGdvcml0aG0sIGNsb3NlQWxnb3JpdGhtLCBhYm9ydEFsZ29yaXRobSwgaGlnaFdhdGVyTWFyaywgc2l6ZUFsZ29yaXRobVxuICApO1xufVxuXG4vLyBDbGVhckFsZ29yaXRobXMgbWF5IGJlIGNhbGxlZCB0d2ljZS4gRXJyb3JpbmcgdGhlIHNhbWUgc3RyZWFtIGluIG11bHRpcGxlIHdheXMgd2lsbCBvZnRlbiByZXN1bHQgaW4gcmVkdW5kYW50IGNhbGxzLlxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4pIHtcbiAgY29udHJvbGxlci5fd3JpdGVBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9jbG9zZUFsZ29yaXRobSA9IHVuZGVmaW5lZCE7XG4gIGNvbnRyb2xsZXIuX2Fib3J0QWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fc3RyYXRlZ3lTaXplQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlPFc+KGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Vz4pIHtcbiAgRW5xdWV1ZVZhbHVlV2l0aFNpemUoY29udHJvbGxlciwgY2xvc2VTZW50aW5lbCwgMCk7XG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJBZHZhbmNlUXVldWVJZk5lZWRlZChjb250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldENodW5rU2l6ZTxXPihjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFc+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuazogVyk6IG51bWJlciB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXIuX3N0cmF0ZWd5U2l6ZUFsZ29yaXRobShjaHVuayk7XG4gIH0gY2F0Y2ggKGNodW5rU2l6ZUUpIHtcbiAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3JJZk5lZWRlZChjb250cm9sbGVyLCBjaHVua1NpemVFKTtcbiAgICByZXR1cm4gMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0RGVzaXJlZFNpemUoY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KTogbnVtYmVyIHtcbiAgcmV0dXJuIGNvbnRyb2xsZXIuX3N0cmF0ZWd5SFdNIC0gY29udHJvbGxlci5fcXVldWVUb3RhbFNpemU7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJXcml0ZTxXPihjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFc+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiBXLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU2l6ZTogbnVtYmVyKSB7XG4gIHRyeSB7XG4gICAgRW5xdWV1ZVZhbHVlV2l0aFNpemUoY29udHJvbGxlciwgY2h1bmssIGNodW5rU2l6ZSk7XG4gIH0gY2F0Y2ggKGVucXVldWVFKSB7XG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9ySWZOZWVkZWQoY29udHJvbGxlciwgZW5xdWV1ZUUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTtcbiAgaWYgKCFXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChzdHJlYW0pICYmIHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICBjb25zdCBiYWNrcHJlc3N1cmUgPSBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0QmFja3ByZXNzdXJlKGNvbnRyb2xsZXIpO1xuICAgIFdyaXRhYmxlU3RyZWFtVXBkYXRlQmFja3ByZXNzdXJlKHN0cmVhbSwgYmFja3ByZXNzdXJlKTtcbiAgfVxuXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJBZHZhbmNlUXVldWVJZk5lZWRlZChjb250cm9sbGVyKTtcbn1cblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIuXG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJBZHZhbmNlUXVldWVJZk5lZWRlZDxXPihjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFc+KSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTtcblxuICBpZiAoIWNvbnRyb2xsZXIuX3N0YXJ0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3RyZWFtLl9pbkZsaWdodFdyaXRlUmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuICBhc3NlcnQoc3RhdGUgIT09ICdjbG9zZWQnICYmIHN0YXRlICE9PSAnZXJyb3JlZCcpO1xuICBpZiAoc3RhdGUgPT09ICdlcnJvcmluZycpIHtcbiAgICBXcml0YWJsZVN0cmVhbUZpbmlzaEVycm9yaW5nKHN0cmVhbSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0gUGVla1F1ZXVlVmFsdWUoY29udHJvbGxlcik7XG4gIGlmICh2YWx1ZSA9PT0gY2xvc2VTZW50aW5lbCkge1xuICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJQcm9jZXNzQ2xvc2UoY29udHJvbGxlcik7XG4gIH0gZWxzZSB7XG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlclByb2Nlc3NXcml0ZShjb250cm9sbGVyLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9ySWZOZWVkZWQoY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+LCBlcnJvcjogYW55KSB7XG4gIGlmIChjb250cm9sbGVyLl9jb250cm9sbGVkV3JpdGFibGVTdHJlYW0uX3N0YXRlID09PSAnd3JpdGFibGUnKSB7XG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKGNvbnRyb2xsZXIsIGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyUHJvY2Vzc0Nsb3NlKGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55Pikge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkV3JpdGFibGVTdHJlYW07XG5cbiAgV3JpdGFibGVTdHJlYW1NYXJrQ2xvc2VSZXF1ZXN0SW5GbGlnaHQoc3RyZWFtKTtcblxuICBEZXF1ZXVlVmFsdWUoY29udHJvbGxlcik7XG4gIGFzc2VydChjb250cm9sbGVyLl9xdWV1ZS5sZW5ndGggPT09IDApO1xuXG4gIGNvbnN0IHNpbmtDbG9zZVByb21pc2UgPSBjb250cm9sbGVyLl9jbG9zZUFsZ29yaXRobSgpO1xuICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICB1cG9uUHJvbWlzZShcbiAgICBzaW5rQ2xvc2VQcm9taXNlLFxuICAgICgpID0+IHtcbiAgICAgIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRDbG9zZShzdHJlYW0pO1xuICAgIH0sXG4gICAgcmVhc29uID0+IHtcbiAgICAgIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRDbG9zZVdpdGhFcnJvcihzdHJlYW0sIHJlYXNvbik7XG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyUHJvY2Vzc1dyaXRlPFc+KGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Vz4sIGNodW5rOiBXKSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTtcblxuICBXcml0YWJsZVN0cmVhbU1hcmtGaXJzdFdyaXRlUmVxdWVzdEluRmxpZ2h0KHN0cmVhbSk7XG5cbiAgY29uc3Qgc2lua1dyaXRlUHJvbWlzZSA9IGNvbnRyb2xsZXIuX3dyaXRlQWxnb3JpdGhtKGNodW5rKTtcbiAgdXBvblByb21pc2UoXG4gICAgc2lua1dyaXRlUHJvbWlzZSxcbiAgICAoKSA9PiB7XG4gICAgICBXcml0YWJsZVN0cmVhbUZpbmlzaEluRmxpZ2h0V3JpdGUoc3RyZWFtKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuICAgICAgYXNzZXJ0KHN0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0YXRlID09PSAnZXJyb3JpbmcnKTtcblxuICAgICAgRGVxdWV1ZVZhbHVlKGNvbnRyb2xsZXIpO1xuXG4gICAgICBpZiAoIVdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkgJiYgc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICAgICAgY29uc3QgYmFja3ByZXNzdXJlID0gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldEJhY2twcmVzc3VyZShjb250cm9sbGVyKTtcbiAgICAgICAgV3JpdGFibGVTdHJlYW1VcGRhdGVCYWNrcHJlc3N1cmUoc3RyZWFtLCBiYWNrcHJlc3N1cmUpO1xuICAgICAgfVxuXG4gICAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQWR2YW5jZVF1ZXVlSWZOZWVkZWQoY29udHJvbGxlcik7XG4gICAgfSxcbiAgICByZWFzb24gPT4ge1xuICAgICAgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICAgICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICAgIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRXcml0ZVdpdGhFcnJvcihzdHJlYW0sIHJlYXNvbik7XG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0QmFja3ByZXNzdXJlKGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55Pik6IGJvb2xlYW4ge1xuICBjb25zdCBkZXNpcmVkU2l6ZSA9IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZShjb250cm9sbGVyKTtcbiAgcmV0dXJuIGRlc2lyZWRTaXplIDw9IDA7XG59XG5cbi8vIEEgY2xpZW50IG9mIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIgbWF5IHVzZSB0aGVzZSBmdW5jdGlvbnMgZGlyZWN0bHkgdG8gYnlwYXNzIHN0YXRlIGNoZWNrLlxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+LCBlcnJvcjogYW55KSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTtcblxuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyk7XG5cbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgV3JpdGFibGVTdHJlYW1TdGFydEVycm9yaW5nKHN0cmVhbSwgZXJyb3IpO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgV3JpdGFibGVTdHJlYW0uXG5cbmZ1bmN0aW9uIHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoYFdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBXcml0YWJsZVN0cmVhbWApO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5cblxuZnVuY3Rpb24gZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFxuICAgIGBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyYCk7XG59XG5cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlci5cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlci5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyYCk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJMb2NrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKCdDYW5ub3QgJyArIG5hbWUgKyAnIGEgc3RyZWFtIHVzaW5nIGEgcmVsZWFzZWQgd3JpdGVyJyk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICB3cml0ZXIuX2Nsb3NlZFByb21pc2UgPSBuZXdQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgd3JpdGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9IHJlamVjdDtcbiAgICB3cml0ZXIuX2Nsb3NlZFByb21pc2VTdGF0ZSA9ICdwZW5kaW5nJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsIHJlYXNvbjogYW55KSB7XG4gIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZSh3cml0ZXIpO1xuICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZVJlamVjdCh3cml0ZXIsIHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpIHtcbiAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHdyaXRlcik7XG4gIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlUmVzb2x2ZSh3cml0ZXIpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZVJlamVjdCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgcmVhc29uOiBhbnkpIHtcbiAgaWYgKHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZWplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnQod3JpdGVyLl9jbG9zZWRQcm9taXNlU3RhdGUgPT09ICdwZW5kaW5nJyk7XG5cbiAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZSh3cml0ZXIuX2Nsb3NlZFByb21pc2UpO1xuICB3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0KHJlYXNvbik7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICB3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID0gdW5kZWZpbmVkO1xuICB3cml0ZXIuX2Nsb3NlZFByb21pc2VTdGF0ZSA9ICdyZWplY3RlZCc7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlUmVzZXRUb1JlamVjdGVkKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCByZWFzb246IGFueSkge1xuICBhc3NlcnQod3JpdGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydCh3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID09PSB1bmRlZmluZWQpO1xuICBhc3NlcnQod3JpdGVyLl9jbG9zZWRQcm9taXNlU3RhdGUgIT09ICdwZW5kaW5nJyk7XG5cbiAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplQXNSZWplY3RlZCh3cml0ZXIsIHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlUmVzb2x2ZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICBpZiAod3JpdGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhc3NlcnQod3JpdGVyLl9jbG9zZWRQcm9taXNlU3RhdGUgPT09ICdwZW5kaW5nJyk7XG5cbiAgd3JpdGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUodW5kZWZpbmVkKTtcbiAgd3JpdGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZWplY3QgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZVN0YXRlID0gJ3Jlc29sdmVkJztcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemUod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpIHtcbiAgd3JpdGVyLl9yZWFkeVByb21pc2UgPSBuZXdQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZVN0YXRlID0gJ3BlbmRpbmcnO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsIHJlYXNvbjogYW55KSB7XG4gIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VJbml0aWFsaXplKHdyaXRlcik7XG4gIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VSZWplY3Qod3JpdGVyLCByZWFzb24pO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpIHtcbiAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemUod3JpdGVyKTtcbiAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc29sdmUod3JpdGVyKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlamVjdCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgcmVhc29uOiBhbnkpIHtcbiAgaWYgKHdyaXRlci5fcmVhZHlQcm9taXNlX3JlamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZSh3cml0ZXIuX3JlYWR5UHJvbWlzZSk7XG4gIHdyaXRlci5fcmVhZHlQcm9taXNlX3JlamVjdChyZWFzb24pO1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZWplY3QgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fcmVhZHlQcm9taXNlU3RhdGUgPSAncmVqZWN0ZWQnO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVzZXQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpIHtcbiAgYXNzZXJ0KHdyaXRlci5fcmVhZHlQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydCh3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZWplY3QgPT09IHVuZGVmaW5lZCk7XG5cbiAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemUod3JpdGVyKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc2V0VG9SZWplY3RlZCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgcmVhc29uOiBhbnkpIHtcbiAgYXNzZXJ0KHdyaXRlci5fcmVhZHlQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydCh3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZWplY3QgPT09IHVuZGVmaW5lZCk7XG5cbiAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHdyaXRlciwgcmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc29sdmUod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIpIHtcbiAgaWYgKHdyaXRlci5fcmVhZHlQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHdyaXRlci5fcmVhZHlQcm9taXNlX3Jlc29sdmUodW5kZWZpbmVkKTtcbiAgd3JpdGVyLl9yZWFkeVByb21pc2VfcmVzb2x2ZSA9IHVuZGVmaW5lZDtcbiAgd3JpdGVyLl9yZWFkeVByb21pc2VfcmVqZWN0ID0gdW5kZWZpbmVkO1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZVN0YXRlID0gJ2Z1bGZpbGxlZCc7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJkb21cIiAvPlxuZXhwb3J0IGNvbnN0IE5hdGl2ZURPTUV4Y2VwdGlvbjogdHlwZW9mIERPTUV4Y2VwdGlvbiB8IHVuZGVmaW5lZCA9XG4gIHR5cGVvZiBET01FeGNlcHRpb24gIT09ICd1bmRlZmluZWQnID8gRE9NRXhjZXB0aW9uIDogdW5kZWZpbmVkO1xuIiwiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJub2RlXCIgLz5cbmltcG9ydCB7IE5hdGl2ZURPTUV4Y2VwdGlvbiB9IGZyb20gJy4vbmF0aXZlJztcblxuZGVjbGFyZSBjbGFzcyBET01FeGNlcHRpb25DbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZT86IHN0cmluZywgbmFtZT86IHN0cmluZyk7XG5cbiAgbmFtZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbnR5cGUgRE9NRXhjZXB0aW9uID0gRE9NRXhjZXB0aW9uQ2xhc3M7XG50eXBlIERPTUV4Y2VwdGlvbkNvbnN0cnVjdG9yID0gdHlwZW9mIERPTUV4Y2VwdGlvbkNsYXNzO1xuXG5mdW5jdGlvbiBpc0RPTUV4Y2VwdGlvbkNvbnN0cnVjdG9yKGN0b3I6IHVua25vd24pOiBjdG9yIGlzIERPTUV4Y2VwdGlvbkNvbnN0cnVjdG9yIHtcbiAgaWYgKCEodHlwZW9mIGN0b3IgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGN0b3IgPT09ICdvYmplY3QnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIG5ldyAoY3RvciBhcyBET01FeGNlcHRpb25Db25zdHJ1Y3RvcikoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURPTUV4Y2VwdGlvblBvbHlmaWxsKCk6IERPTUV4Y2VwdGlvbkNvbnN0cnVjdG9yIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuICBjb25zdCBjdG9yID0gZnVuY3Rpb24gRE9NRXhjZXB0aW9uKHRoaXM6IERPTUV4Y2VwdGlvbiwgbWVzc2FnZT86IHN0cmluZywgbmFtZT86IHN0cmluZykge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgdGhpcy5uYW1lID0gbmFtZSB8fCAnRXJyb3InO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuICB9IGFzIGFueTtcbiAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdG9yLnByb3RvdHlwZSwgJ2NvbnN0cnVjdG9yJywgeyB2YWx1ZTogY3Rvciwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGN0b3I7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcbmNvbnN0IERPTUV4Y2VwdGlvbjogRE9NRXhjZXB0aW9uQ29uc3RydWN0b3IgPVxuICBpc0RPTUV4Y2VwdGlvbkNvbnN0cnVjdG9yKE5hdGl2ZURPTUV4Y2VwdGlvbikgPyBOYXRpdmVET01FeGNlcHRpb24gOiBjcmVhdGVET01FeGNlcHRpb25Qb2x5ZmlsbCgpO1xuXG5leHBvcnQgeyBET01FeGNlcHRpb24gfTtcbiIsImltcG9ydCB7IElzUmVhZGFibGVTdHJlYW0sIElzUmVhZGFibGVTdHJlYW1Mb2NrZWQsIFJlYWRhYmxlU3RyZWFtLCBSZWFkYWJsZVN0cmVhbUNhbmNlbCB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLCBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkIH0gZnJvbSAnLi9kZWZhdWx0LXJlYWRlcic7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlIH0gZnJvbSAnLi9nZW5lcmljLXJlYWRlcic7XG5pbXBvcnQge1xuICBBY3F1aXJlV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLFxuICBJc1dyaXRhYmxlU3RyZWFtLFxuICBJc1dyaXRhYmxlU3RyZWFtTG9ja2VkLFxuICBXcml0YWJsZVN0cmVhbSxcbiAgV3JpdGFibGVTdHJlYW1BYm9ydCxcbiAgV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQsXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckNsb3NlV2l0aEVycm9yUHJvcGFnYXRpb24sXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlclJlbGVhc2UsXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcldyaXRlXG59IGZyb20gJy4uL3dyaXRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7XG4gIG5ld1Byb21pc2UsXG4gIFBlcmZvcm1Qcm9taXNlVGhlbixcbiAgcHJvbWlzZVJlc29sdmVkV2l0aCxcbiAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZSxcbiAgdXBvbkZ1bGZpbGxtZW50LFxuICB1cG9uUHJvbWlzZSxcbiAgdXBvblJlamVjdGlvblxufSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgQWJvcnRTaWduYWwsIGlzQWJvcnRTaWduYWwgfSBmcm9tICcuLi9hYm9ydC1zaWduYWwnO1xuaW1wb3J0IHsgRE9NRXhjZXB0aW9uIH0gZnJvbSAnLi4vLi4vc3R1Yi9kb20tZXhjZXB0aW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtUGlwZVRvPFQ+KHNvdXJjZTogUmVhZGFibGVTdHJlYW08VD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdDogV3JpdGFibGVTdHJlYW08VD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudENsb3NlOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnRBYm9ydDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50Q2FuY2VsOiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwgfCB1bmRlZmluZWQpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbShzb3VyY2UpKTtcbiAgYXNzZXJ0KElzV3JpdGFibGVTdHJlYW0oZGVzdCkpO1xuICBhc3NlcnQodHlwZW9mIHByZXZlbnRDbG9zZSA9PT0gJ2Jvb2xlYW4nKTtcbiAgYXNzZXJ0KHR5cGVvZiBwcmV2ZW50QWJvcnQgPT09ICdib29sZWFuJyk7XG4gIGFzc2VydCh0eXBlb2YgcHJldmVudENhbmNlbCA9PT0gJ2Jvb2xlYW4nKTtcbiAgYXNzZXJ0KHNpZ25hbCA9PT0gdW5kZWZpbmVkIHx8IGlzQWJvcnRTaWduYWwoc2lnbmFsKSk7XG4gIGFzc2VydCghSXNSZWFkYWJsZVN0cmVhbUxvY2tlZChzb3VyY2UpKTtcbiAgYXNzZXJ0KCFJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKGRlc3QpKTtcblxuICBjb25zdCByZWFkZXIgPSBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFQ+KHNvdXJjZSk7XG4gIGNvbnN0IHdyaXRlciA9IEFjcXVpcmVXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI8VD4oZGVzdCk7XG5cbiAgc291cmNlLl9kaXN0dXJiZWQgPSB0cnVlO1xuXG4gIGxldCBzaHV0dGluZ0Rvd24gPSBmYWxzZTtcblxuICAvLyBUaGlzIGlzIHVzZWQgdG8ga2VlcCB0cmFjayBvZiB0aGUgc3BlYydzIHJlcXVpcmVtZW50IHRoYXQgd2Ugd2FpdCBmb3Igb25nb2luZyB3cml0ZXMgZHVyaW5nIHNodXRkb3duLlxuICBsZXQgY3VycmVudFdyaXRlID0gcHJvbWlzZVJlc29sdmVkV2l0aDx2b2lkPih1bmRlZmluZWQpO1xuXG4gIHJldHVybiBuZXdQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgYWJvcnRBbGdvcml0aG06ICgpID0+IHZvaWQ7XG4gICAgaWYgKHNpZ25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhYm9ydEFsZ29yaXRobSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKTtcbiAgICAgICAgY29uc3QgYWN0aW9uczogQXJyYXk8KCkgPT4gUHJvbWlzZTx2b2lkPj4gPSBbXTtcbiAgICAgICAgaWYgKCFwcmV2ZW50QWJvcnQpIHtcbiAgICAgICAgICBhY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRlc3QuX3N0YXRlID09PSAnd3JpdGFibGUnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBXcml0YWJsZVN0cmVhbUFib3J0KGRlc3QsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcmV2ZW50Q2FuY2VsKSB7XG4gICAgICAgICAgYWN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UuX3N0YXRlID09PSAncmVhZGFibGUnKSB7XG4gICAgICAgICAgICAgIHJldHVybiBSZWFkYWJsZVN0cmVhbUNhbmNlbChzb3VyY2UsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2h1dGRvd25XaXRoQWN0aW9uKCgpID0+IFByb21pc2UuYWxsKGFjdGlvbnMubWFwKGFjdGlvbiA9PiBhY3Rpb24oKSkpLCB0cnVlLCBlcnJvcik7XG4gICAgICB9O1xuXG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgYWJvcnRBbGdvcml0aG0oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydEFsZ29yaXRobSk7XG4gICAgfVxuXG4gICAgLy8gVXNpbmcgcmVhZGVyIGFuZCB3cml0ZXIsIHJlYWQgYWxsIGNodW5rcyBmcm9tIHRoaXMgYW5kIHdyaXRlIHRoZW0gdG8gZGVzdFxuICAgIC8vIC0gQmFja3ByZXNzdXJlIG11c3QgYmUgZW5mb3JjZWRcbiAgICAvLyAtIFNodXRkb3duIG11c3Qgc3RvcCBhbGwgYWN0aXZpdHlcbiAgICBmdW5jdGlvbiBwaXBlTG9vcCgpIHtcbiAgICAgIHJldHVybiBuZXdQcm9taXNlPHZvaWQ+KChyZXNvbHZlTG9vcCwgcmVqZWN0TG9vcCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBuZXh0KGRvbmU6IGJvb2xlYW4pIHtcbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgcmVzb2x2ZUxvb3AoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGBQZXJmb3JtUHJvbWlzZVRoZW5gIGluc3RlYWQgb2YgYHVwb25Qcm9taXNlYCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gYWRkaW5nIHVubmVjZXNzYXJ5IGAuY2F0Y2gocmV0aHJvd0Fzc2VydGlvbkVycm9yUmVqZWN0aW9uKWAgaGFuZGxlcnNcbiAgICAgICAgICAgIFBlcmZvcm1Qcm9taXNlVGhlbihwaXBlU3RlcCgpLCBuZXh0LCByZWplY3RMb29wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBpcGVTdGVwKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgaWYgKHNodXR0aW5nRG93bikge1xuICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFBlcmZvcm1Qcm9taXNlVGhlbih3cml0ZXIuX3JlYWR5UHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3UHJvbWlzZTxib29sZWFuPigocmVzb2x2ZVJlYWQsIHJlamVjdFJlYWQpID0+IHtcbiAgICAgICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkKFxuICAgICAgICAgICAgcmVhZGVyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBfY2h1bmtTdGVwczogY2h1bmsgPT4ge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRXcml0ZSA9IFBlcmZvcm1Qcm9taXNlVGhlbihXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJXcml0ZSh3cml0ZXIsIGNodW5rKSwgdW5kZWZpbmVkLCBub29wKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlUmVhZChmYWxzZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF9jbG9zZVN0ZXBzOiAoKSA9PiByZXNvbHZlUmVhZCh0cnVlKSxcbiAgICAgICAgICAgICAgX2Vycm9yU3RlcHM6IHJlamVjdFJlYWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEVycm9ycyBtdXN0IGJlIHByb3BhZ2F0ZWQgZm9yd2FyZFxuICAgIGlzT3JCZWNvbWVzRXJyb3JlZChzb3VyY2UsIHJlYWRlci5fY2xvc2VkUHJvbWlzZSwgc3RvcmVkRXJyb3IgPT4ge1xuICAgICAgaWYgKCFwcmV2ZW50QWJvcnQpIHtcbiAgICAgICAgc2h1dGRvd25XaXRoQWN0aW9uKCgpID0+IFdyaXRhYmxlU3RyZWFtQWJvcnQoZGVzdCwgc3RvcmVkRXJyb3IpLCB0cnVlLCBzdG9yZWRFcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaHV0ZG93bih0cnVlLCBzdG9yZWRFcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBFcnJvcnMgbXVzdCBiZSBwcm9wYWdhdGVkIGJhY2t3YXJkXG4gICAgaXNPckJlY29tZXNFcnJvcmVkKGRlc3QsIHdyaXRlci5fY2xvc2VkUHJvbWlzZSwgc3RvcmVkRXJyb3IgPT4ge1xuICAgICAgaWYgKCFwcmV2ZW50Q2FuY2VsKSB7XG4gICAgICAgIHNodXRkb3duV2l0aEFjdGlvbigoKSA9PiBSZWFkYWJsZVN0cmVhbUNhbmNlbChzb3VyY2UsIHN0b3JlZEVycm9yKSwgdHJ1ZSwgc3RvcmVkRXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2h1dGRvd24odHJ1ZSwgc3RvcmVkRXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2xvc2luZyBtdXN0IGJlIHByb3BhZ2F0ZWQgZm9yd2FyZFxuICAgIGlzT3JCZWNvbWVzQ2xvc2VkKHNvdXJjZSwgcmVhZGVyLl9jbG9zZWRQcm9taXNlLCAoKSA9PiB7XG4gICAgICBpZiAoIXByZXZlbnRDbG9zZSkge1xuICAgICAgICBzaHV0ZG93bldpdGhBY3Rpb24oKCkgPT4gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQ2xvc2VXaXRoRXJyb3JQcm9wYWdhdGlvbih3cml0ZXIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNodXRkb3duKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbG9zaW5nIG11c3QgYmUgcHJvcGFnYXRlZCBiYWNrd2FyZFxuICAgIGlmIChXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChkZXN0KSB8fCBkZXN0Ll9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgIGNvbnN0IGRlc3RDbG9zZWQgPSBuZXcgVHlwZUVycm9yKCd0aGUgZGVzdGluYXRpb24gd3JpdGFibGUgc3RyZWFtIGNsb3NlZCBiZWZvcmUgYWxsIGRhdGEgY291bGQgYmUgcGlwZWQgdG8gaXQnKTtcblxuICAgICAgaWYgKCFwcmV2ZW50Q2FuY2VsKSB7XG4gICAgICAgIHNodXRkb3duV2l0aEFjdGlvbigoKSA9PiBSZWFkYWJsZVN0cmVhbUNhbmNlbChzb3VyY2UsIGRlc3RDbG9zZWQpLCB0cnVlLCBkZXN0Q2xvc2VkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNodXRkb3duKHRydWUsIGRlc3RDbG9zZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNldFByb21pc2VJc0hhbmRsZWRUb1RydWUocGlwZUxvb3AoKSk7XG5cbiAgICBmdW5jdGlvbiB3YWl0Rm9yV3JpdGVzVG9GaW5pc2goKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAvLyBBbm90aGVyIHdyaXRlIG1heSBoYXZlIHN0YXJ0ZWQgd2hpbGUgd2Ugd2VyZSB3YWl0aW5nIG9uIHRoaXMgY3VycmVudFdyaXRlLCBzbyB3ZSBoYXZlIHRvIGJlIHN1cmUgdG8gd2FpdFxuICAgICAgLy8gZm9yIHRoYXQgdG9vLlxuICAgICAgY29uc3Qgb2xkQ3VycmVudFdyaXRlID0gY3VycmVudFdyaXRlO1xuICAgICAgcmV0dXJuIFBlcmZvcm1Qcm9taXNlVGhlbihcbiAgICAgICAgY3VycmVudFdyaXRlLFxuICAgICAgICAoKSA9PiBvbGRDdXJyZW50V3JpdGUgIT09IGN1cnJlbnRXcml0ZSA/IHdhaXRGb3JXcml0ZXNUb0ZpbmlzaCgpIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT3JCZWNvbWVzRXJyb3JlZChzdHJlYW06IFJlYWRhYmxlU3RyZWFtIHwgV3JpdGFibGVTdHJlYW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2U6IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKHJlYXNvbjogYW55KSA9PiB2b2lkKSB7XG4gICAgICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgICAgIGFjdGlvbihzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwb25SZWplY3Rpb24ocHJvbWlzZSwgYWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc09yQmVjb21lc0Nsb3NlZChzdHJlYW06IFJlYWRhYmxlU3RyZWFtIHwgV3JpdGFibGVTdHJlYW0sIHByb21pc2U6IFByb21pc2U8dm9pZD4sIGFjdGlvbjogKCkgPT4gdm9pZCkge1xuICAgICAgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgIGFjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBvbkZ1bGZpbGxtZW50KHByb21pc2UsIGFjdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2h1dGRvd25XaXRoQWN0aW9uKGFjdGlvbjogKCkgPT4gUHJvbWlzZTx1bmtub3duPiwgb3JpZ2luYWxJc0Vycm9yPzogYm9vbGVhbiwgb3JpZ2luYWxFcnJvcj86IGFueSkge1xuICAgICAgaWYgKHNodXR0aW5nRG93bikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzaHV0dGluZ0Rvd24gPSB0cnVlO1xuXG4gICAgICBpZiAoZGVzdC5fc3RhdGUgPT09ICd3cml0YWJsZScgJiYgIVdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KGRlc3QpKSB7XG4gICAgICAgIHVwb25GdWxmaWxsbWVudCh3YWl0Rm9yV3JpdGVzVG9GaW5pc2goKSwgZG9UaGVSZXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvVGhlUmVzdCgpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkb1RoZVJlc3QoKSB7XG4gICAgICAgIHVwb25Qcm9taXNlKFxuICAgICAgICAgIGFjdGlvbigpLFxuICAgICAgICAgICgpID0+IGZpbmFsaXplKG9yaWdpbmFsSXNFcnJvciwgb3JpZ2luYWxFcnJvciksXG4gICAgICAgICAgbmV3RXJyb3IgPT4gZmluYWxpemUodHJ1ZSwgbmV3RXJyb3IpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2h1dGRvd24oaXNFcnJvcj86IGJvb2xlYW4sIGVycm9yPzogYW55KSB7XG4gICAgICBpZiAoc2h1dHRpbmdEb3duKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNodXR0aW5nRG93biA9IHRydWU7XG5cbiAgICAgIGlmIChkZXN0Ll9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyAmJiAhV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoZGVzdCkpIHtcbiAgICAgICAgdXBvbkZ1bGZpbGxtZW50KHdhaXRGb3JXcml0ZXNUb0ZpbmlzaCgpLCAoKSA9PiBmaW5hbGl6ZShpc0Vycm9yLCBlcnJvcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxpemUoaXNFcnJvciwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmFsaXplKGlzRXJyb3I/OiBib29sZWFuLCBlcnJvcj86IGFueSkge1xuICAgICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyUmVsZWFzZSh3cml0ZXIpO1xuICAgICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXIpO1xuXG4gICAgICBpZiAoc2lnbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRBbGdvcml0aG0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrIH0gZnJvbSAnLi4vcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7IERlcXVldWVWYWx1ZSwgRW5xdWV1ZVZhbHVlV2l0aFNpemUsIFF1ZXVlUGFpciwgUmVzZXRRdWV1ZSB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9xdWV1ZS13aXRoLXNpemVzJztcbmltcG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtQWRkUmVhZFJlcXVlc3QsXG4gIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRSZXF1ZXN0LFxuICBSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRSZXF1ZXN0cyxcbiAgUmVhZFJlcXVlc3Rcbn0gZnJvbSAnLi9kZWZhdWx0LXJlYWRlcic7XG5pbXBvcnQgeyBTaW1wbGVRdWV1ZSB9IGZyb20gJy4uL3NpbXBsZS1xdWV1ZSc7XG5pbXBvcnQgeyBJc1JlYWRhYmxlU3RyZWFtTG9ja2VkLCBSZWFkYWJsZVN0cmVhbSwgUmVhZGFibGVTdHJlYW1DbG9zZSwgUmVhZGFibGVTdHJlYW1FcnJvciB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBWYWxpZGF0ZWRVbmRlcmx5aW5nU291cmNlIH0gZnJvbSAnLi91bmRlcmx5aW5nLXNvdXJjZSc7XG5pbXBvcnQgeyB0eXBlSXNPYmplY3QgfSBmcm9tICcuLi9oZWxwZXJzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHsgQ2FuY2VsU3RlcHMsIFB1bGxTdGVwcyB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9pbnRlcm5hbC1tZXRob2RzJztcbmltcG9ydCB7IHByb21pc2VSZXNvbHZlZFdpdGgsIHVwb25Qcm9taXNlIH0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuXG4vKipcbiAqIEFsbG93cyBjb250cm9sIG9mIGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtIHwgcmVhZGFibGUgc3RyZWFtfSdzIHN0YXRlIGFuZCBpbnRlcm5hbCBxdWV1ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtITogUmVhZGFibGVTdHJlYW08Uj47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3F1ZXVlITogU2ltcGxlUXVldWU8UXVldWVQYWlyPFI+PjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcXVldWVUb3RhbFNpemUhOiBudW1iZXI7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0YXJ0ZWQhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZVJlcXVlc3RlZCE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3B1bGxBZ2FpbiE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3B1bGxpbmcgITogYm9vbGVhbjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RyYXRlZ3lTaXplQWxnb3JpdGhtITogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFI+O1xuICAvKiogQGludGVybmFsICovXG4gIF9zdHJhdGVneUhXTSE6IG51bWJlcjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcHVsbEFsZ29yaXRobSE6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NhbmNlbEFsZ29yaXRobSE6IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgY29uc3RydWN0b3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZXNpcmVkIHNpemUgdG8gZmlsbCB0aGUgY29udHJvbGxlZCBzdHJlYW0ncyBpbnRlcm5hbCBxdWV1ZS4gSXQgY2FuIGJlIG5lZ2F0aXZlLCBpZiB0aGUgcXVldWUgaXNcbiAgICogb3Zlci1mdWxsLiBBbiB1bmRlcmx5aW5nIHNvdXJjZSBvdWdodCB0byB1c2UgdGhpcyBpbmZvcm1hdGlvbiB0byBkZXRlcm1pbmUgd2hlbiBhbmQgaG93IHRvIGFwcGx5IGJhY2twcmVzc3VyZS5cbiAgICovXG4gIGdldCBkZXNpcmVkU2l6ZSgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdkZXNpcmVkU2l6ZScpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0RGVzaXJlZFNpemUodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBjb250cm9sbGVkIHJlYWRhYmxlIHN0cmVhbS4gQ29uc3VtZXJzIHdpbGwgc3RpbGwgYmUgYWJsZSB0byByZWFkIGFueSBwcmV2aW91c2x5LWVucXVldWVkIGNodW5rcyBmcm9tXG4gICAqIHRoZSBzdHJlYW0sIGJ1dCBvbmNlIHRob3NlIGFyZSByZWFkLCB0aGUgc3RyZWFtIHdpbGwgYmVjb21lIGNsb3NlZC5cbiAgICovXG4gIGNsb3NlKCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Nsb3NlJyk7XG4gICAgfVxuXG4gICAgaWYgKCFSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FuQ2xvc2VPckVucXVldWUodGhpcykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBzdHJlYW0gaXMgbm90IGluIGEgc3RhdGUgdGhhdCBwZXJtaXRzIGNsb3NlJyk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVucXVldWVzIHRoZSBnaXZlbiBjaHVuayBgY2h1bmtgIGluIHRoZSBjb250cm9sbGVkIHJlYWRhYmxlIHN0cmVhbS5cbiAgICovXG4gIGVucXVldWUoY2h1bms6IFIpOiB2b2lkO1xuICBlbnF1ZXVlKGNodW5rOiBSID0gdW5kZWZpbmVkISk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2VucXVldWUnKTtcbiAgICB9XG5cbiAgICBpZiAoIVJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYW5DbG9zZU9yRW5xdWV1ZSh0aGlzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHN0cmVhbSBpcyBub3QgaW4gYSBzdGF0ZSB0aGF0IHBlcm1pdHMgZW5xdWV1ZScpO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRW5xdWV1ZSh0aGlzLCBjaHVuayk7XG4gIH1cblxuICAvKipcbiAgICogRXJyb3JzIHRoZSBjb250cm9sbGVkIHJlYWRhYmxlIHN0cmVhbSwgbWFraW5nIGFsbCBmdXR1cmUgaW50ZXJhY3Rpb25zIHdpdGggaXQgZmFpbCB3aXRoIHRoZSBnaXZlbiBlcnJvciBgZWAuXG4gICAqL1xuICBlcnJvcihlOiBhbnkgPSB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdlcnJvcicpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcih0aGlzLCBlKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgW0NhbmNlbFN0ZXBzXShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFJlc2V0UXVldWUodGhpcyk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fY2FuY2VsQWxnb3JpdGhtKHJlYXNvbik7XG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyh0aGlzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBbUHVsbFN0ZXBzXShyZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8Uj4pOiB2b2lkIHtcbiAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW07XG5cbiAgICBpZiAodGhpcy5fcXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY2h1bmsgPSBEZXF1ZXVlVmFsdWUodGhpcyk7XG5cbiAgICAgIGlmICh0aGlzLl9jbG9zZVJlcXVlc3RlZCAmJiB0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyh0aGlzKTtcbiAgICAgICAgUmVhZGFibGVTdHJlYW1DbG9zZShzdHJlYW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJlYWRSZXF1ZXN0Ll9jaHVua1N0ZXBzKGNodW5rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhZGFibGVTdHJlYW1BZGRSZWFkUmVxdWVzdChzdHJlYW0sIHJlYWRSZXF1ZXN0KTtcbiAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSwge1xuICBjbG9zZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGVucXVldWU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBlcnJvcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGRlc2lyZWRTaXplOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ1JlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXInLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIuXG5cbmZ1bmN0aW9uIElzUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSID0gYW55Pih4OiBhbnkpOiB4IGlzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4ge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55Pik6IHZvaWQge1xuICBjb25zdCBzaG91bGRQdWxsID0gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlclNob3VsZENhbGxQdWxsKGNvbnRyb2xsZXIpO1xuICBpZiAoIXNob3VsZFB1bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29udHJvbGxlci5fcHVsbGluZykge1xuICAgIGNvbnRyb2xsZXIuX3B1bGxBZ2FpbiA9IHRydWU7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXNzZXJ0KCFjb250cm9sbGVyLl9wdWxsQWdhaW4pO1xuXG4gIGNvbnRyb2xsZXIuX3B1bGxpbmcgPSB0cnVlO1xuXG4gIGNvbnN0IHB1bGxQcm9taXNlID0gY29udHJvbGxlci5fcHVsbEFsZ29yaXRobSgpO1xuICB1cG9uUHJvbWlzZShcbiAgICBwdWxsUHJvbWlzZSxcbiAgICAoKSA9PiB7XG4gICAgICBjb250cm9sbGVyLl9wdWxsaW5nID0gZmFsc2U7XG5cbiAgICAgIGlmIChjb250cm9sbGVyLl9wdWxsQWdhaW4pIHtcbiAgICAgICAgY29udHJvbGxlci5fcHVsbEFnYWluID0gZmFsc2U7XG4gICAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZSA9PiB7XG4gICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgZSk7XG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyU2hvdWxkQ2FsbFB1bGwoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KTogYm9vbGVhbiB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbTtcblxuICBpZiAoIVJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYW5DbG9zZU9yRW5xdWV1ZShjb250cm9sbGVyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghY29udHJvbGxlci5fc3RhcnRlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbSkgJiYgUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkUmVxdWVzdHMoc3RyZWFtKSA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGRlc2lyZWRTaXplID0gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldERlc2lyZWRTaXplKGNvbnRyb2xsZXIpO1xuICBhc3NlcnQoZGVzaXJlZFNpemUgIT09IG51bGwpO1xuICBpZiAoZGVzaXJlZFNpemUhID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55Pikge1xuICBjb250cm9sbGVyLl9wdWxsQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fY2FuY2VsQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fc3RyYXRlZ3lTaXplQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbn1cblxuLy8gQSBjbGllbnQgb2YgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciBtYXkgdXNlIHRoZXNlIGZ1bmN0aW9ucyBkaXJlY3RseSB0byBieXBhc3Mgc3RhdGUgY2hlY2suXG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2UoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KSB7XG4gIGlmICghUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlKGNvbnRyb2xsZXIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtO1xuXG4gIGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkID0gdHJ1ZTtcblxuICBpZiAoY29udHJvbGxlci5fcXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgICBSZWFkYWJsZVN0cmVhbUNsb3NlKHN0cmVhbSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlPFI+KFxuICBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+LFxuICBjaHVuazogUlxuKTogdm9pZCB7XG4gIGlmICghUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlKGNvbnRyb2xsZXIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtO1xuXG4gIGlmIChJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbSkgJiYgUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkUmVxdWVzdHMoc3RyZWFtKSA+IDApIHtcbiAgICBSZWFkYWJsZVN0cmVhbUZ1bGZpbGxSZWFkUmVxdWVzdChzdHJlYW0sIGNodW5rLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGNodW5rU2l6ZTtcbiAgICB0cnkge1xuICAgICAgY2h1bmtTaXplID0gY29udHJvbGxlci5fc3RyYXRlZ3lTaXplQWxnb3JpdGhtKGNodW5rKTtcbiAgICB9IGNhdGNoIChjaHVua1NpemVFKSB7XG4gICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgY2h1bmtTaXplRSk7XG4gICAgICB0aHJvdyBjaHVua1NpemVFO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBFbnF1ZXVlVmFsdWVXaXRoU2l6ZShjb250cm9sbGVyLCBjaHVuaywgY2h1bmtTaXplKTtcbiAgICB9IGNhdGNoIChlbnF1ZXVlRSkge1xuICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKGNvbnRyb2xsZXIsIGVucXVldWVFKTtcbiAgICAgIHRocm93IGVucXVldWVFO1xuICAgIH1cbiAgfVxuXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55PiwgZTogYW55KSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbTtcblxuICBpZiAoc3RyZWFtLl9zdGF0ZSAhPT0gJ3JlYWRhYmxlJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIFJlc2V0UXVldWUoY29udHJvbGxlcik7XG5cbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcbiAgUmVhZGFibGVTdHJlYW1FcnJvcihzdHJlYW0sIGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldERlc2lyZWRTaXplKFxuICBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT5cbik6IG51bWJlciB8IG51bGwge1xuICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbS5fc3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSAnZXJyb3JlZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gY29udHJvbGxlci5fc3RyYXRlZ3lIV00gLSBjb250cm9sbGVyLl9xdWV1ZVRvdGFsU2l6ZTtcbn1cblxuLy8gVGhpcyBpcyB1c2VkIGluIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBUcmFuc2Zvcm1TdHJlYW0uXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckhhc0JhY2twcmVzc3VyZShcbiAgY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+XG4pOiBib29sZWFuIHtcbiAgaWYgKFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJTaG91bGRDYWxsUHVsbChjb250cm9sbGVyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlKFxuICBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT5cbik6IGJvb2xlYW4ge1xuICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbS5fc3RhdGU7XG5cbiAgaWYgKCFjb250cm9sbGVyLl9jbG9zZVJlcXVlc3RlZCAmJiBzdGF0ZSA9PT0gJ3JlYWRhYmxlJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2V0VXBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0QWxnb3JpdGhtOiAoKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1bGxBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEFsZ29yaXRobTogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxSPikge1xuICBhc3NlcnQoc3RyZWFtLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPT09IHVuZGVmaW5lZCk7XG5cbiAgY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtID0gc3RyZWFtO1xuXG4gIGNvbnRyb2xsZXIuX3F1ZXVlID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPSB1bmRlZmluZWQhO1xuICBSZXNldFF1ZXVlKGNvbnRyb2xsZXIpO1xuXG4gIGNvbnRyb2xsZXIuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgY29udHJvbGxlci5fcHVsbEFnYWluID0gZmFsc2U7XG4gIGNvbnRyb2xsZXIuX3B1bGxpbmcgPSBmYWxzZTtcblxuICBjb250cm9sbGVyLl9zdHJhdGVneVNpemVBbGdvcml0aG0gPSBzaXplQWxnb3JpdGhtO1xuICBjb250cm9sbGVyLl9zdHJhdGVneUhXTSA9IGhpZ2hXYXRlck1hcms7XG5cbiAgY29udHJvbGxlci5fcHVsbEFsZ29yaXRobSA9IHB1bGxBbGdvcml0aG07XG4gIGNvbnRyb2xsZXIuX2NhbmNlbEFsZ29yaXRobSA9IGNhbmNlbEFsZ29yaXRobTtcblxuICBzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgY29uc3Qgc3RhcnRSZXN1bHQgPSBzdGFydEFsZ29yaXRobSgpO1xuICB1cG9uUHJvbWlzZShcbiAgICBwcm9taXNlUmVzb2x2ZWRXaXRoKHN0YXJ0UmVzdWx0KSxcbiAgICAoKSA9PiB7XG4gICAgICBjb250cm9sbGVyLl9zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgYXNzZXJ0KCFjb250cm9sbGVyLl9wdWxsaW5nKTtcbiAgICAgIGFzc2VydCghY29udHJvbGxlci5fcHVsbEFnYWluKTtcblxuICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG4gICAgfSxcbiAgICByID0+IHtcbiAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyLCByKTtcbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZXRVcFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJGcm9tVW5kZXJseWluZ1NvdXJjZTxSPihcbiAgc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPixcbiAgdW5kZXJseWluZ1NvdXJjZTogVmFsaWRhdGVkVW5kZXJseWluZ1NvdXJjZTxSPixcbiAgaGlnaFdhdGVyTWFyazogbnVtYmVyLFxuICBzaXplQWxnb3JpdGhtOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8Uj5cbikge1xuICBjb25zdCBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+ID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSk7XG5cbiAgbGV0IHN0YXJ0QWxnb3JpdGhtOiAoKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4gPSAoKSA9PiB1bmRlZmluZWQ7XG4gIGxldCBwdWxsQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+ID0gKCkgPT4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICBsZXQgY2FuY2VsQWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG5cbiAgaWYgKHVuZGVybHlpbmdTb3VyY2Uuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0QWxnb3JpdGhtID0gKCkgPT4gdW5kZXJseWluZ1NvdXJjZS5zdGFydCEoY29udHJvbGxlcik7XG4gIH1cbiAgaWYgKHVuZGVybHlpbmdTb3VyY2UucHVsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcHVsbEFsZ29yaXRobSA9ICgpID0+IHVuZGVybHlpbmdTb3VyY2UucHVsbCEoY29udHJvbGxlcik7XG4gIH1cbiAgaWYgKHVuZGVybHlpbmdTb3VyY2UuY2FuY2VsICE9PSB1bmRlZmluZWQpIHtcbiAgICBjYW5jZWxBbGdvcml0aG0gPSByZWFzb24gPT4gdW5kZXJseWluZ1NvdXJjZS5jYW5jZWwhKHJlYXNvbik7XG4gIH1cblxuICBTZXRVcFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIoXG4gICAgc3RyZWFtLCBjb250cm9sbGVyLCBzdGFydEFsZ29yaXRobSwgcHVsbEFsZ29yaXRobSwgY2FuY2VsQWxnb3JpdGhtLCBoaWdoV2F0ZXJNYXJrLCBzaXplQWxnb3JpdGhtXG4gICk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLlxuXG5mdW5jdGlvbiBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJgKTtcbn1cbiIsImltcG9ydCB7XG4gIENyZWF0ZVJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgQ3JlYXRlUmVhZGFibGVTdHJlYW0sXG4gIElzUmVhZGFibGVTdHJlYW0sXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgUmVhZGFibGVTdHJlYW0sXG4gIFJlYWRhYmxlU3RyZWFtQ2FuY2VsLFxuICBSZWFkYWJsZVN0cmVhbVJlYWRlclxufSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZSB9IGZyb20gJy4vZ2VuZXJpYy1yZWFkZXInO1xuaW1wb3J0IHtcbiAgQWNxdWlyZVJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQsXG4gIFJlYWRSZXF1ZXN0XG59IGZyb20gJy4vZGVmYXVsdC1yZWFkZXInO1xuaW1wb3J0IHtcbiAgQWNxdWlyZVJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcixcbiAgSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlclJlYWQsXG4gIFJlYWRJbnRvUmVxdWVzdFxufSBmcm9tICcuL2J5b2ItcmVhZGVyJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgbmV3UHJvbWlzZSwgcHJvbWlzZVJlc29sdmVkV2l0aCwgcXVldWVNaWNyb3Rhc2ssIHVwb25SZWplY3Rpb24gfSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2UsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3Jcbn0gZnJvbSAnLi9kZWZhdWx0LWNvbnRyb2xsZXInO1xuaW1wb3J0IHtcbiAgSXNSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xvc2UsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFbnF1ZXVlLFxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJHZXRCWU9CUmVxdWVzdCxcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmQsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kV2l0aE5ld1ZpZXdcbn0gZnJvbSAnLi9ieXRlLXN0cmVhbS1jb250cm9sbGVyJztcbmltcG9ydCB7IENyZWF0ZUFycmF5RnJvbUxpc3QgfSBmcm9tICcuLi9hYnN0cmFjdC1vcHMvZWNtYXNjcmlwdCc7XG5pbXBvcnQgeyBDbG9uZUFzVWludDhBcnJheSB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9taXNjZWxsYW5lb3VzJztcblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtVGVlPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVGb3JCcmFuY2gyOiBib29sZWFuKTogW1JlYWRhYmxlU3RyZWFtPFI+LCBSZWFkYWJsZVN0cmVhbTxSPl0ge1xuICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgYXNzZXJ0KHR5cGVvZiBjbG9uZUZvckJyYW5jaDIgPT09ICdib29sZWFuJyk7XG4gIGlmIChJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIoc3RyZWFtLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpKSB7XG4gICAgcmV0dXJuIFJlYWRhYmxlQnl0ZVN0cmVhbVRlZShzdHJlYW0gYXMgdW5rbm93biBhcyBSZWFkYWJsZUJ5dGVTdHJlYW0pIGFzXG4gICAgICB1bmtub3duIGFzIFtSZWFkYWJsZVN0cmVhbTxSPiwgUmVhZGFibGVTdHJlYW08Uj5dO1xuICB9XG4gIHJldHVybiBSZWFkYWJsZVN0cmVhbURlZmF1bHRUZWUoc3RyZWFtLCBjbG9uZUZvckJyYW5jaDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0VGVlPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lRm9yQnJhbmNoMjogYm9vbGVhbik6IFtSZWFkYWJsZVN0cmVhbTxSPiwgUmVhZGFibGVTdHJlYW08Uj5dIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gIGFzc2VydCh0eXBlb2YgY2xvbmVGb3JCcmFuY2gyID09PSAnYm9vbGVhbicpO1xuXG4gIGNvbnN0IHJlYWRlciA9IEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4oc3RyZWFtKTtcblxuICBsZXQgcmVhZGluZyA9IGZhbHNlO1xuICBsZXQgcmVhZEFnYWluID0gZmFsc2U7XG4gIGxldCBjYW5jZWxlZDEgPSBmYWxzZTtcbiAgbGV0IGNhbmNlbGVkMiA9IGZhbHNlO1xuICBsZXQgcmVhc29uMTogYW55O1xuICBsZXQgcmVhc29uMjogYW55O1xuICBsZXQgYnJhbmNoMTogUmVhZGFibGVTdHJlYW08Uj47XG4gIGxldCBicmFuY2gyOiBSZWFkYWJsZVN0cmVhbTxSPjtcblxuICBsZXQgcmVzb2x2ZUNhbmNlbFByb21pc2U6ICh2YWx1ZTogdW5kZWZpbmVkIHwgUHJvbWlzZTx1bmRlZmluZWQ+KSA9PiB2b2lkO1xuICBjb25zdCBjYW5jZWxQcm9taXNlID0gbmV3UHJvbWlzZTx1bmRlZmluZWQ+KHJlc29sdmUgPT4ge1xuICAgIHJlc29sdmVDYW5jZWxQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gcHVsbEFsZ29yaXRobSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAocmVhZGluZykge1xuICAgICAgcmVhZEFnYWluID0gdHJ1ZTtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcmVhZGluZyA9IHRydWU7XG5cbiAgICBjb25zdCByZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8Uj4gPSB7XG4gICAgICBfY2h1bmtTdGVwczogY2h1bmsgPT4ge1xuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGRlbGF5ZWQgYSBtaWNyb3Rhc2sgYmVjYXVzZSBpdCB0YWtlcyBhdCBsZWFzdCBhIG1pY3JvdGFzayB0byBkZXRlY3QgZXJyb3JzICh1c2luZ1xuICAgICAgICAvLyByZWFkZXIuX2Nsb3NlZFByb21pc2UgYmVsb3cpLCBhbmQgd2Ugd2FudCBlcnJvcnMgaW4gc3RyZWFtIHRvIGVycm9yIGJvdGggYnJhbmNoZXMgaW1tZWRpYXRlbHkuIFdlIGNhbm5vdCBsZXRcbiAgICAgICAgLy8gc3VjY2Vzc2Z1bCBzeW5jaHJvbm91c2x5LWF2YWlsYWJsZSByZWFkcyBnZXQgYWhlYWQgb2YgYXN5bmNocm9ub3VzbHktYXZhaWxhYmxlIGVycm9ycy5cbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgIHJlYWRBZ2FpbiA9IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IGNodW5rMSA9IGNodW5rO1xuICAgICAgICAgIGNvbnN0IGNodW5rMiA9IGNodW5rO1xuXG4gICAgICAgICAgLy8gVGhlcmUgaXMgbm8gd2F5IHRvIGFjY2VzcyB0aGUgY2xvbmluZyBjb2RlIHJpZ2h0IG5vdyBpbiB0aGUgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIC8vIElmIHdlIGFkZCBvbmUgdGhlbiB3ZSdsbCBuZWVkIGFuIGltcGxlbWVudGF0aW9uIGZvciBzZXJpYWxpemFibGUgb2JqZWN0cy5cbiAgICAgICAgICAvLyBpZiAoIWNhbmNlbGVkMiAmJiBjbG9uZUZvckJyYW5jaDIpIHtcbiAgICAgICAgICAvLyAgIGNodW5rMiA9IFN0cnVjdHVyZWREZXNlcmlhbGl6ZShTdHJ1Y3R1cmVkU2VyaWFsaXplKGNodW5rMikpO1xuICAgICAgICAgIC8vIH1cblxuICAgICAgICAgIGlmICghY2FuY2VsZWQxKSB7XG4gICAgICAgICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRW5xdWV1ZShcbiAgICAgICAgICAgICAgYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4sXG4gICAgICAgICAgICAgIGNodW5rMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFjYW5jZWxlZDIpIHtcbiAgICAgICAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKFxuICAgICAgICAgICAgICBicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSPixcbiAgICAgICAgICAgICAgY2h1bmsyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAocmVhZEFnYWluKSB7XG4gICAgICAgICAgICBwdWxsQWxnb3JpdGhtKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBfY2xvc2VTdGVwczogKCkgPT4ge1xuICAgICAgICByZWFkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICghY2FuY2VsZWQxKSB7XG4gICAgICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlKGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciBhcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbmNlbGVkMikge1xuICAgICAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbG9zZShicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSPik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNhbmNlbGVkMSB8fCAhY2FuY2VsZWQyKSB7XG4gICAgICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9lcnJvclN0ZXBzOiAoKSA9PiB7XG4gICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQocmVhZGVyLCByZWFkUmVxdWVzdCk7XG5cbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsMUFsZ29yaXRobShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNhbmNlbGVkMSA9IHRydWU7XG4gICAgcmVhc29uMSA9IHJlYXNvbjtcbiAgICBpZiAoY2FuY2VsZWQyKSB7XG4gICAgICBjb25zdCBjb21wb3NpdGVSZWFzb24gPSBDcmVhdGVBcnJheUZyb21MaXN0KFtyZWFzb24xLCByZWFzb24yXSk7XG4gICAgICBjb25zdCBjYW5jZWxSZXN1bHQgPSBSZWFkYWJsZVN0cmVhbUNhbmNlbChzdHJlYW0sIGNvbXBvc2l0ZVJlYXNvbik7XG4gICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZShjYW5jZWxSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FuY2VsUHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbDJBbGdvcml0aG0ocmVhc29uOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjYW5jZWxlZDIgPSB0cnVlO1xuICAgIHJlYXNvbjIgPSByZWFzb247XG4gICAgaWYgKGNhbmNlbGVkMSkge1xuICAgICAgY29uc3QgY29tcG9zaXRlUmVhc29uID0gQ3JlYXRlQXJyYXlGcm9tTGlzdChbcmVhc29uMSwgcmVhc29uMl0pO1xuICAgICAgY29uc3QgY2FuY2VsUmVzdWx0ID0gUmVhZGFibGVTdHJlYW1DYW5jZWwoc3RyZWFtLCBjb21wb3NpdGVSZWFzb24pO1xuICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UoY2FuY2VsUmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbmNlbFByb21pc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydEFsZ29yaXRobSgpIHtcbiAgICAvLyBkbyBub3RoaW5nXG4gIH1cblxuICBicmFuY2gxID0gQ3JlYXRlUmVhZGFibGVTdHJlYW0oc3RhcnRBbGdvcml0aG0sIHB1bGxBbGdvcml0aG0sIGNhbmNlbDFBbGdvcml0aG0pO1xuICBicmFuY2gyID0gQ3JlYXRlUmVhZGFibGVTdHJlYW0oc3RhcnRBbGdvcml0aG0sIHB1bGxBbGdvcml0aG0sIGNhbmNlbDJBbGdvcml0aG0pO1xuXG4gIHVwb25SZWplY3Rpb24ocmVhZGVyLl9jbG9zZWRQcm9taXNlLCAocjogYW55KSA9PiB7XG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciBhcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+LCByKTtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoYnJhbmNoMi5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4sIHIpO1xuICAgIGlmICghY2FuY2VsZWQxIHx8ICFjYW5jZWxlZDIpIHtcbiAgICAgIHJlc29sdmVDYW5jZWxQcm9taXNlKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gW2JyYW5jaDEsIGJyYW5jaDJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtVGVlKHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtKTogW1JlYWRhYmxlQnl0ZVN0cmVhbSwgUmVhZGFibGVCeXRlU3RyZWFtXSB7XG4gIGFzc2VydChJc1JlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICBhc3NlcnQoSXNSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyKSk7XG5cbiAgbGV0IHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8VWludDhBcnJheT4gPSBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHN0cmVhbSk7XG4gIGxldCByZWFkaW5nID0gZmFsc2U7XG4gIGxldCByZWFkQWdhaW5Gb3JCcmFuY2gxID0gZmFsc2U7XG4gIGxldCByZWFkQWdhaW5Gb3JCcmFuY2gyID0gZmFsc2U7XG4gIGxldCBjYW5jZWxlZDEgPSBmYWxzZTtcbiAgbGV0IGNhbmNlbGVkMiA9IGZhbHNlO1xuICBsZXQgcmVhc29uMTogYW55O1xuICBsZXQgcmVhc29uMjogYW55O1xuICBsZXQgYnJhbmNoMTogUmVhZGFibGVCeXRlU3RyZWFtO1xuICBsZXQgYnJhbmNoMjogUmVhZGFibGVCeXRlU3RyZWFtO1xuXG4gIGxldCByZXNvbHZlQ2FuY2VsUHJvbWlzZTogKHZhbHVlOiB1bmRlZmluZWQgfCBQcm9taXNlPHVuZGVmaW5lZD4pID0+IHZvaWQ7XG4gIGNvbnN0IGNhbmNlbFByb21pc2UgPSBuZXdQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xuICAgIHJlc29sdmVDYW5jZWxQcm9taXNlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZm9yd2FyZFJlYWRlckVycm9yKHRoaXNSZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPFVpbnQ4QXJyYXk+KSB7XG4gICAgdXBvblJlamVjdGlvbih0aGlzUmVhZGVyLl9jbG9zZWRQcm9taXNlLCByID0+IHtcbiAgICAgIGlmICh0aGlzUmVhZGVyICE9PSByZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVycm9yKGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgcik7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoYnJhbmNoMi5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCByKTtcbiAgICAgIGlmICghY2FuY2VsZWQxIHx8ICFjYW5jZWxlZDIpIHtcbiAgICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UodW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1bGxXaXRoRGVmYXVsdFJlYWRlcigpIHtcbiAgICBpZiAoSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIocmVhZGVyKSkge1xuICAgICAgYXNzZXJ0KHJlYWRlci5fcmVhZEludG9SZXF1ZXN0cy5sZW5ndGggPT09IDApO1xuICAgICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXIpO1xuXG4gICAgICByZWFkZXIgPSBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHN0cmVhbSk7XG4gICAgICBmb3J3YXJkUmVhZGVyRXJyb3IocmVhZGVyKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8VWludDhBcnJheT4gPSB7XG4gICAgICBfY2h1bmtTdGVwczogY2h1bmsgPT4ge1xuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGRlbGF5ZWQgYSBtaWNyb3Rhc2sgYmVjYXVzZSBpdCB0YWtlcyBhdCBsZWFzdCBhIG1pY3JvdGFzayB0byBkZXRlY3QgZXJyb3JzICh1c2luZ1xuICAgICAgICAvLyByZWFkZXIuX2Nsb3NlZFByb21pc2UgYmVsb3cpLCBhbmQgd2Ugd2FudCBlcnJvcnMgaW4gc3RyZWFtIHRvIGVycm9yIGJvdGggYnJhbmNoZXMgaW1tZWRpYXRlbHkuIFdlIGNhbm5vdCBsZXRcbiAgICAgICAgLy8gc3VjY2Vzc2Z1bCBzeW5jaHJvbm91c2x5LWF2YWlsYWJsZSByZWFkcyBnZXQgYWhlYWQgb2YgYXN5bmNocm9ub3VzbHktYXZhaWxhYmxlIGVycm9ycy5cbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgIHJlYWRBZ2FpbkZvckJyYW5jaDEgPSBmYWxzZTtcbiAgICAgICAgICByZWFkQWdhaW5Gb3JCcmFuY2gyID0gZmFsc2U7XG5cbiAgICAgICAgICBjb25zdCBjaHVuazEgPSBjaHVuaztcbiAgICAgICAgICBsZXQgY2h1bmsyID0gY2h1bms7XG4gICAgICAgICAgaWYgKCFjYW5jZWxlZDEgJiYgIWNhbmNlbGVkMikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2h1bmsyID0gQ2xvbmVBc1VpbnQ4QXJyYXkoY2h1bmspO1xuICAgICAgICAgICAgfSBjYXRjaCAoY2xvbmVFKSB7XG4gICAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihicmFuY2gxLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNsb25lRSk7XG4gICAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNsb25lRSk7XG4gICAgICAgICAgICAgIHJlc29sdmVDYW5jZWxQcm9taXNlKFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHN0cmVhbSwgY2xvbmVFKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWNhbmNlbGVkMSkge1xuICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWUoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCBjaHVuazEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWNhbmNlbGVkMikge1xuICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWUoYnJhbmNoMi5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCBjaHVuazIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAocmVhZEFnYWluRm9yQnJhbmNoMSkge1xuICAgICAgICAgICAgcHVsbDFBbGdvcml0aG0oKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlYWRBZ2FpbkZvckJyYW5jaDIpIHtcbiAgICAgICAgICAgIHB1bGwyQWxnb3JpdGhtKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBfY2xvc2VTdGVwczogKCkgPT4ge1xuICAgICAgICByZWFkaW5nID0gZmFsc2U7XG4gICAgICAgIGlmICghY2FuY2VsZWQxKSB7XG4gICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsb3NlKGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYW5jZWxlZDIpIHtcbiAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xvc2UoYnJhbmNoMi5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZChicmFuY2gxLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kKGJyYW5jaDIuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYW5jZWxlZDEgfHwgIWNhbmNlbGVkMikge1xuICAgICAgICAgIHJlc29sdmVDYW5jZWxQcm9taXNlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfZXJyb3JTdGVwczogKCkgPT4ge1xuICAgICAgICByZWFkaW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkKHJlYWRlciwgcmVhZFJlcXVlc3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVsbFdpdGhCWU9CUmVhZGVyKHZpZXc6IEFycmF5QnVmZmVyVmlldywgZm9yQnJhbmNoMjogYm9vbGVhbikge1xuICAgIGlmIChJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxVaW50OEFycmF5PihyZWFkZXIpKSB7XG4gICAgICBhc3NlcnQocmVhZGVyLl9yZWFkUmVxdWVzdHMubGVuZ3RoID09PSAwKTtcbiAgICAgIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY1JlbGVhc2UocmVhZGVyKTtcblxuICAgICAgcmVhZGVyID0gQWNxdWlyZVJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcihzdHJlYW0pO1xuICAgICAgZm9yd2FyZFJlYWRlckVycm9yKHJlYWRlcik7XG4gICAgfVxuXG4gICAgY29uc3QgYnlvYkJyYW5jaCA9IGZvckJyYW5jaDIgPyBicmFuY2gyIDogYnJhbmNoMTtcbiAgICBjb25zdCBvdGhlckJyYW5jaCA9IGZvckJyYW5jaDIgPyBicmFuY2gxIDogYnJhbmNoMjtcblxuICAgIGNvbnN0IHJlYWRJbnRvUmVxdWVzdDogUmVhZEludG9SZXF1ZXN0PEFycmF5QnVmZmVyVmlldz4gPSB7XG4gICAgICBfY2h1bmtTdGVwczogY2h1bmsgPT4ge1xuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGRlbGF5ZWQgYSBtaWNyb3Rhc2sgYmVjYXVzZSBpdCB0YWtlcyBhdCBsZWFzdCBhIG1pY3JvdGFzayB0byBkZXRlY3QgZXJyb3JzICh1c2luZ1xuICAgICAgICAvLyByZWFkZXIuX2Nsb3NlZFByb21pc2UgYmVsb3cpLCBhbmQgd2Ugd2FudCBlcnJvcnMgaW4gc3RyZWFtIHRvIGVycm9yIGJvdGggYnJhbmNoZXMgaW1tZWRpYXRlbHkuIFdlIGNhbm5vdCBsZXRcbiAgICAgICAgLy8gc3VjY2Vzc2Z1bCBzeW5jaHJvbm91c2x5LWF2YWlsYWJsZSByZWFkcyBnZXQgYWhlYWQgb2YgYXN5bmNocm9ub3VzbHktYXZhaWxhYmxlIGVycm9ycy5cbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgIHJlYWRBZ2FpbkZvckJyYW5jaDEgPSBmYWxzZTtcbiAgICAgICAgICByZWFkQWdhaW5Gb3JCcmFuY2gyID0gZmFsc2U7XG5cbiAgICAgICAgICBjb25zdCBieW9iQ2FuY2VsZWQgPSBmb3JCcmFuY2gyID8gY2FuY2VsZWQyIDogY2FuY2VsZWQxO1xuICAgICAgICAgIGNvbnN0IG90aGVyQ2FuY2VsZWQgPSBmb3JCcmFuY2gyID8gY2FuY2VsZWQxIDogY2FuY2VsZWQyO1xuXG4gICAgICAgICAgaWYgKCFvdGhlckNhbmNlbGVkKSB7XG4gICAgICAgICAgICBsZXQgY2xvbmVkQ2h1bms7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjbG9uZWRDaHVuayA9IENsb25lQXNVaW50OEFycmF5KGNodW5rKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNsb25lRSkge1xuICAgICAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoYnlvYkJyYW5jaC5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCBjbG9uZUUpO1xuICAgICAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3Iob3RoZXJCcmFuY2guX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgY2xvbmVFKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UoUmVhZGFibGVTdHJlYW1DYW5jZWwoc3RyZWFtLCBjbG9uZUUpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFieW9iQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRXaXRoTmV3VmlldyhieW9iQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFbnF1ZXVlKG90aGVyQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNsb25lZENodW5rKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFieW9iQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kV2l0aE5ld1ZpZXcoYnlvYkJyYW5jaC5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCBjaHVuayk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChyZWFkQWdhaW5Gb3JCcmFuY2gxKSB7XG4gICAgICAgICAgICBwdWxsMUFsZ29yaXRobSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVhZEFnYWluRm9yQnJhbmNoMikge1xuICAgICAgICAgICAgcHVsbDJBbGdvcml0aG0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIF9jbG9zZVN0ZXBzOiBjaHVuayA9PiB7XG4gICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBieW9iQ2FuY2VsZWQgPSBmb3JCcmFuY2gyID8gY2FuY2VsZWQyIDogY2FuY2VsZWQxO1xuICAgICAgICBjb25zdCBvdGhlckNhbmNlbGVkID0gZm9yQnJhbmNoMiA/IGNhbmNlbGVkMSA6IGNhbmNlbGVkMjtcblxuICAgICAgICBpZiAoIWJ5b2JDYW5jZWxlZCkge1xuICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbG9zZShieW9iQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3RoZXJDYW5jZWxlZCkge1xuICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbG9zZShvdGhlckJyYW5jaC5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaHVuayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYXNzZXJ0KGNodW5rLmJ5dGVMZW5ndGggPT09IDApO1xuXG4gICAgICAgICAgaWYgKCFieW9iQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kV2l0aE5ld1ZpZXcoYnlvYkJyYW5jaC5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCBjaHVuayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghb3RoZXJDYW5jZWxlZCAmJiBvdGhlckJyYW5jaC5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kKG90aGVyQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYnlvYkNhbmNlbGVkIHx8ICFvdGhlckNhbmNlbGVkKSB7XG4gICAgICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9lcnJvclN0ZXBzOiAoKSA9PiB7XG4gICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlclJlYWQocmVhZGVyLCB2aWV3LCByZWFkSW50b1JlcXVlc3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVsbDFBbGdvcml0aG0oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHJlYWRpbmcpIHtcbiAgICAgIHJlYWRBZ2FpbkZvckJyYW5jaDEgPSB0cnVlO1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICByZWFkaW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IGJ5b2JSZXF1ZXN0ID0gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckdldEJZT0JSZXF1ZXN0KGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcik7XG4gICAgaWYgKGJ5b2JSZXF1ZXN0ID09PSBudWxsKSB7XG4gICAgICBwdWxsV2l0aERlZmF1bHRSZWFkZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHVsbFdpdGhCWU9CUmVhZGVyKGJ5b2JSZXF1ZXN0Ll92aWV3ISwgZmFsc2UpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdWxsMkFsZ29yaXRobSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAocmVhZGluZykge1xuICAgICAgcmVhZEFnYWluRm9yQnJhbmNoMiA9IHRydWU7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIHJlYWRpbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgYnlvYlJlcXVlc3QgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0QllPQlJlcXVlc3QoYnJhbmNoMi5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyKTtcbiAgICBpZiAoYnlvYlJlcXVlc3QgPT09IG51bGwpIHtcbiAgICAgIHB1bGxXaXRoRGVmYXVsdFJlYWRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwdWxsV2l0aEJZT0JSZWFkZXIoYnlvYlJlcXVlc3QuX3ZpZXchLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsMUFsZ29yaXRobShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNhbmNlbGVkMSA9IHRydWU7XG4gICAgcmVhc29uMSA9IHJlYXNvbjtcbiAgICBpZiAoY2FuY2VsZWQyKSB7XG4gICAgICBjb25zdCBjb21wb3NpdGVSZWFzb24gPSBDcmVhdGVBcnJheUZyb21MaXN0KFtyZWFzb24xLCByZWFzb24yXSk7XG4gICAgICBjb25zdCBjYW5jZWxSZXN1bHQgPSBSZWFkYWJsZVN0cmVhbUNhbmNlbChzdHJlYW0sIGNvbXBvc2l0ZVJlYXNvbik7XG4gICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZShjYW5jZWxSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FuY2VsUHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbDJBbGdvcml0aG0ocmVhc29uOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjYW5jZWxlZDIgPSB0cnVlO1xuICAgIHJlYXNvbjIgPSByZWFzb247XG4gICAgaWYgKGNhbmNlbGVkMSkge1xuICAgICAgY29uc3QgY29tcG9zaXRlUmVhc29uID0gQ3JlYXRlQXJyYXlGcm9tTGlzdChbcmVhc29uMSwgcmVhc29uMl0pO1xuICAgICAgY29uc3QgY2FuY2VsUmVzdWx0ID0gUmVhZGFibGVTdHJlYW1DYW5jZWwoc3RyZWFtLCBjb21wb3NpdGVSZWFzb24pO1xuICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UoY2FuY2VsUmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbmNlbFByb21pc2U7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydEFsZ29yaXRobSgpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBicmFuY2gxID0gQ3JlYXRlUmVhZGFibGVCeXRlU3RyZWFtKHN0YXJ0QWxnb3JpdGhtLCBwdWxsMUFsZ29yaXRobSwgY2FuY2VsMUFsZ29yaXRobSk7XG4gIGJyYW5jaDIgPSBDcmVhdGVSZWFkYWJsZUJ5dGVTdHJlYW0oc3RhcnRBbGdvcml0aG0sIHB1bGwyQWxnb3JpdGhtLCBjYW5jZWwyQWxnb3JpdGhtKTtcblxuICBmb3J3YXJkUmVhZGVyRXJyb3IocmVhZGVyKTtcblxuICByZXR1cm4gW2JyYW5jaDEsIGJyYW5jaDJdO1xufVxuIiwiaW1wb3J0IHsgYXNzZXJ0RGljdGlvbmFyeSwgYXNzZXJ0RnVuY3Rpb24sIGNvbnZlcnRVbnNpZ25lZExvbmdMb25nV2l0aEVuZm9yY2VSYW5nZSB9IGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1Db250cm9sbGVyLFxuICBVbmRlcmx5aW5nQnl0ZVNvdXJjZSxcbiAgVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2UsXG4gIFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlUHVsbENhbGxiYWNrLFxuICBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZVN0YXJ0Q2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTb3VyY2UsXG4gIFVuZGVybHlpbmdTb3VyY2VDYW5jZWxDYWxsYmFjayxcbiAgVmFsaWRhdGVkVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2Vcbn0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtL3VuZGVybHlpbmctc291cmNlJztcbmltcG9ydCB7IHByb21pc2VDYWxsLCByZWZsZWN0Q2FsbCB9IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZTxSPihcbiAgc291cmNlOiBVbmRlcmx5aW5nU291cmNlPFI+IHwgVW5kZXJseWluZ0J5dGVTb3VyY2UgfCBudWxsLFxuICBjb250ZXh0OiBzdHJpbmdcbik6IFZhbGlkYXRlZFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlPFI+IHtcbiAgYXNzZXJ0RGljdGlvbmFyeShzb3VyY2UsIGNvbnRleHQpO1xuICBjb25zdCBvcmlnaW5hbCA9IHNvdXJjZSBhcyAoVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2U8Uj4gfCBudWxsKTtcbiAgY29uc3QgYXV0b0FsbG9jYXRlQ2h1bmtTaXplID0gb3JpZ2luYWw/LmF1dG9BbGxvY2F0ZUNodW5rU2l6ZTtcbiAgY29uc3QgY2FuY2VsID0gb3JpZ2luYWw/LmNhbmNlbDtcbiAgY29uc3QgcHVsbCA9IG9yaWdpbmFsPy5wdWxsO1xuICBjb25zdCBzdGFydCA9IG9yaWdpbmFsPy5zdGFydDtcbiAgY29uc3QgdHlwZSA9IG9yaWdpbmFsPy50eXBlO1xuICByZXR1cm4ge1xuICAgIGF1dG9BbGxvY2F0ZUNodW5rU2l6ZTogYXV0b0FsbG9jYXRlQ2h1bmtTaXplID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRVbnNpZ25lZExvbmdMb25nV2l0aEVuZm9yY2VSYW5nZShcbiAgICAgICAgYXV0b0FsbG9jYXRlQ2h1bmtTaXplLFxuICAgICAgICBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdhdXRvQWxsb2NhdGVDaHVua1NpemUnIHRoYXRgXG4gICAgICApLFxuICAgIGNhbmNlbDogY2FuY2VsID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRVbmRlcmx5aW5nU291cmNlQ2FuY2VsQ2FsbGJhY2soY2FuY2VsLCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ2NhbmNlbCcgdGhhdGApLFxuICAgIHB1bGw6IHB1bGwgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuZGVybHlpbmdTb3VyY2VQdWxsQ2FsbGJhY2socHVsbCwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdwdWxsJyB0aGF0YCksXG4gICAgc3RhcnQ6IHN0YXJ0ID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRVbmRlcmx5aW5nU291cmNlU3RhcnRDYWxsYmFjayhzdGFydCwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdzdGFydCcgdGhhdGApLFxuICAgIHR5cGU6IHR5cGUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGNvbnZlcnRSZWFkYWJsZVN0cmVhbVR5cGUodHlwZSwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAndHlwZScgdGhhdGApXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRVbmRlcmx5aW5nU291cmNlQ2FuY2VsQ2FsbGJhY2soXG4gIGZuOiBVbmRlcmx5aW5nU291cmNlQ2FuY2VsQ2FsbGJhY2ssXG4gIG9yaWdpbmFsOiBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZSxcbiAgY29udGV4dDogc3RyaW5nXG4pOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4ge1xuICBhc3NlcnRGdW5jdGlvbihmbiwgY29udGV4dCk7XG4gIHJldHVybiAocmVhc29uOiBhbnkpID0+IHByb21pc2VDYWxsKGZuLCBvcmlnaW5hbCwgW3JlYXNvbl0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5kZXJseWluZ1NvdXJjZVB1bGxDYWxsYmFjazxSPihcbiAgZm46IFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlUHVsbENhbGxiYWNrPFI+LFxuICBvcmlnaW5hbDogVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2U8Uj4sXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogKGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtQ29udHJvbGxlcjxSPikgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIChjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXI8Uj4pID0+IHByb21pc2VDYWxsKGZuLCBvcmlnaW5hbCwgW2NvbnRyb2xsZXJdKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFVuZGVybHlpbmdTb3VyY2VTdGFydENhbGxiYWNrPFI+KFxuICBmbjogVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2VTdGFydENhbGxiYWNrPFI+LFxuICBvcmlnaW5hbDogVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2U8Uj4sXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2VTdGFydENhbGxiYWNrPFI+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtQ29udHJvbGxlcjxSPikgPT4gcmVmbGVjdENhbGwoZm4sIG9yaWdpbmFsLCBbY29udHJvbGxlcl0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UmVhZGFibGVTdHJlYW1UeXBlKHR5cGU6IHN0cmluZywgY29udGV4dDogc3RyaW5nKTogJ2J5dGVzJyB7XG4gIHR5cGUgPSBgJHt0eXBlfWA7XG4gIGlmICh0eXBlICE9PSAnYnl0ZXMnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjb250ZXh0fSAnJHt0eXBlfScgaXMgbm90IGEgdmFsaWQgZW51bWVyYXRpb24gdmFsdWUgZm9yIFJlYWRhYmxlU3RyZWFtVHlwZWApO1xuICB9XG4gIHJldHVybiB0eXBlO1xufVxuIiwiaW1wb3J0IHsgYXNzZXJ0RGljdGlvbmFyeSB9IGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1HZXRSZWFkZXJPcHRpb25zIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtL3JlYWRlci1vcHRpb25zJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRSZWFkZXJPcHRpb25zKG9wdGlvbnM6IFJlYWRhYmxlU3RyZWFtR2V0UmVhZGVyT3B0aW9ucyB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogUmVhZGFibGVTdHJlYW1HZXRSZWFkZXJPcHRpb25zIHtcbiAgYXNzZXJ0RGljdGlvbmFyeShvcHRpb25zLCBjb250ZXh0KTtcbiAgY29uc3QgbW9kZSA9IG9wdGlvbnM/Lm1vZGU7XG4gIHJldHVybiB7XG4gICAgbW9kZTogbW9kZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogY29udmVydFJlYWRhYmxlU3RyZWFtUmVhZGVyTW9kZShtb2RlLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdtb2RlJyB0aGF0YClcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFJlYWRhYmxlU3RyZWFtUmVhZGVyTW9kZShtb2RlOiBzdHJpbmcsIGNvbnRleHQ6IHN0cmluZyk6ICdieW9iJyB7XG4gIG1vZGUgPSBgJHttb2RlfWA7XG4gIGlmIChtb2RlICE9PSAnYnlvYicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9ICcke21vZGV9JyBpcyBub3QgYSB2YWxpZCBlbnVtZXJhdGlvbiB2YWx1ZSBmb3IgUmVhZGFibGVTdHJlYW1SZWFkZXJNb2RlYCk7XG4gIH1cbiAgcmV0dXJuIG1vZGU7XG59XG4iLCJpbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5IH0gZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgeyBTdHJlYW1QaXBlT3B0aW9ucywgVmFsaWRhdGVkU3RyZWFtUGlwZU9wdGlvbnMgfSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0vcGlwZS1vcHRpb25zJztcbmltcG9ydCB7IEFib3J0U2lnbmFsLCBpc0Fib3J0U2lnbmFsIH0gZnJvbSAnLi4vYWJvcnQtc2lnbmFsJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRQaXBlT3B0aW9ucyhvcHRpb25zOiBTdHJlYW1QaXBlT3B0aW9ucyB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFZhbGlkYXRlZFN0cmVhbVBpcGVPcHRpb25zIHtcbiAgYXNzZXJ0RGljdGlvbmFyeShvcHRpb25zLCBjb250ZXh0KTtcbiAgY29uc3QgcHJldmVudEFib3J0ID0gb3B0aW9ucz8ucHJldmVudEFib3J0O1xuICBjb25zdCBwcmV2ZW50Q2FuY2VsID0gb3B0aW9ucz8ucHJldmVudENhbmNlbDtcbiAgY29uc3QgcHJldmVudENsb3NlID0gb3B0aW9ucz8ucHJldmVudENsb3NlO1xuICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gIGlmIChzaWduYWwgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydEFib3J0U2lnbmFsKHNpZ25hbCwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAnc2lnbmFsJyB0aGF0YCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcmV2ZW50QWJvcnQ6IEJvb2xlYW4ocHJldmVudEFib3J0KSxcbiAgICBwcmV2ZW50Q2FuY2VsOiBCb29sZWFuKHByZXZlbnRDYW5jZWwpLFxuICAgIHByZXZlbnRDbG9zZTogQm9vbGVhbihwcmV2ZW50Q2xvc2UpLFxuICAgIHNpZ25hbFxuICB9O1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBYm9ydFNpZ25hbChzaWduYWw6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IGFzc2VydHMgc2lnbmFsIGlzIEFib3J0U2lnbmFsIHtcbiAgaWYgKCFpc0Fib3J0U2lnbmFsKHNpZ25hbCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9IGlzIG5vdCBhbiBBYm9ydFNpZ25hbC5gKTtcbiAgfVxufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQge1xuICBwcm9taXNlUmVqZWN0ZWRXaXRoLFxuICBwcm9taXNlUmVzb2x2ZWRXaXRoLFxuICBzZXRQcm9taXNlSXNIYW5kbGVkVG9UcnVlLFxuICB0cmFuc2Zvcm1Qcm9taXNlV2l0aFxufSBmcm9tICcuL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7IFF1ZXVpbmdTdHJhdGVneSwgUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrIH0gZnJvbSAnLi9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IEFjcXVpcmVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IsIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2FzeW5jLWl0ZXJhdG9yJztcbmltcG9ydCB7IGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVqZWN0LCBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZVJlc29sdmUgfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9nZW5lcmljLXJlYWRlcic7XG5pbXBvcnQge1xuICBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLFxuICBJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0XG59IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2RlZmF1bHQtcmVhZGVyJztcbmltcG9ydCB7XG4gIEFjcXVpcmVSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsXG4gIElzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRSZXN1bHRcbn0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vYnlvYi1yZWFkZXInO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1QaXBlVG8gfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9waXBlJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtVGVlIH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vdGVlJztcbmltcG9ydCB7IElzV3JpdGFibGVTdHJlYW0sIElzV3JpdGFibGVTdHJlYW1Mb2NrZWQsIFdyaXRhYmxlU3RyZWFtIH0gZnJvbSAnLi93cml0YWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgU2ltcGxlUXVldWUgfSBmcm9tICcuL3NpbXBsZS1xdWV1ZSc7XG5pbXBvcnQge1xuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LFxuICBTZXRVcFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFNldFVwUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZyb21VbmRlcmx5aW5nU291cmNlXG59IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2J5dGUtc3RyZWFtLWNvbnRyb2xsZXInO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcixcbiAgU2V0VXBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBTZXRVcFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJGcm9tVW5kZXJseWluZ1NvdXJjZVxufSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9kZWZhdWx0LWNvbnRyb2xsZXInO1xuaW1wb3J0IHtcbiAgVW5kZXJseWluZ0J5dGVTb3VyY2UsXG4gIFVuZGVybHlpbmdCeXRlU291cmNlUHVsbENhbGxiYWNrLFxuICBVbmRlcmx5aW5nQnl0ZVNvdXJjZVN0YXJ0Q2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTb3VyY2UsXG4gIFVuZGVybHlpbmdTb3VyY2VDYW5jZWxDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NvdXJjZVB1bGxDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NvdXJjZVN0YXJ0Q2FsbGJhY2tcbn0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vdW5kZXJseWluZy1zb3VyY2UnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IENyZWF0ZUFycmF5RnJvbUxpc3QgfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9lY21hc2NyaXB0JztcbmltcG9ydCB7IENhbmNlbFN0ZXBzIH0gZnJvbSAnLi9hYnN0cmFjdC1vcHMvaW50ZXJuYWwtbWV0aG9kcyc7XG5pbXBvcnQgeyBJc05vbk5lZ2F0aXZlTnVtYmVyIH0gZnJvbSAnLi9hYnN0cmFjdC1vcHMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgeyBhc3NlcnRPYmplY3QsIGFzc2VydFJlcXVpcmVkQXJndW1lbnQgfSBmcm9tICcuL3ZhbGlkYXRvcnMvYmFzaWMnO1xuaW1wb3J0IHsgY29udmVydFF1ZXVpbmdTdHJhdGVneSB9IGZyb20gJy4vdmFsaWRhdG9ycy9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IEV4dHJhY3RIaWdoV2F0ZXJNYXJrLCBFeHRyYWN0U2l6ZUFsZ29yaXRobSB9IGZyb20gJy4vYWJzdHJhY3Qtb3BzL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgY29udmVydFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlIH0gZnJvbSAnLi92YWxpZGF0b3JzL3VuZGVybHlpbmctc291cmNlJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtR2V0UmVhZGVyT3B0aW9ucyB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3JlYWRlci1vcHRpb25zJztcbmltcG9ydCB7IGNvbnZlcnRSZWFkZXJPcHRpb25zIH0gZnJvbSAnLi92YWxpZGF0b3JzL3JlYWRlci1vcHRpb25zJztcbmltcG9ydCB7IFN0cmVhbVBpcGVPcHRpb25zLCBWYWxpZGF0ZWRTdHJlYW1QaXBlT3B0aW9ucyB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3BpcGUtb3B0aW9ucyc7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbUl0ZXJhdG9yT3B0aW9ucyB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2l0ZXJhdG9yLW9wdGlvbnMnO1xuaW1wb3J0IHsgY29udmVydEl0ZXJhdG9yT3B0aW9ucyB9IGZyb20gJy4vdmFsaWRhdG9ycy9pdGVyYXRvci1vcHRpb25zJztcbmltcG9ydCB7IGNvbnZlcnRQaXBlT3B0aW9ucyB9IGZyb20gJy4vdmFsaWRhdG9ycy9waXBlLW9wdGlvbnMnO1xuaW1wb3J0IHsgUmVhZGFibGVXcml0YWJsZVBhaXIgfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS13cml0YWJsZS1wYWlyJztcbmltcG9ydCB7IGNvbnZlcnRSZWFkYWJsZVdyaXRhYmxlUGFpciB9IGZyb20gJy4vdmFsaWRhdG9ycy9yZWFkYWJsZS13cml0YWJsZS1wYWlyJztcblxuZXhwb3J0IHR5cGUgUmVhZGFibGVCeXRlU3RyZWFtID0gUmVhZGFibGVTdHJlYW08VWludDhBcnJheT4gJiB7XG4gIF9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJcbn07XG5cbnR5cGUgUmVhZGFibGVTdHJlYW1TdGF0ZSA9ICdyZWFkYWJsZScgfCAnY2xvc2VkJyB8ICdlcnJvcmVkJztcblxuLyoqXG4gKiBBIHJlYWRhYmxlIHN0cmVhbSByZXByZXNlbnRzIGEgc291cmNlIG9mIGRhdGEsIGZyb20gd2hpY2ggeW91IGNhbiByZWFkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWRhYmxlU3RyZWFtPFIgPSBhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RhdGUhOiBSZWFkYWJsZVN0cmVhbVN0YXRlO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPFI+IHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF9zdG9yZWRFcnJvcjogYW55O1xuICAvKiogQGludGVybmFsICovXG4gIF9kaXN0dXJiZWQhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIhOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+IHwgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcjtcblxuICBjb25zdHJ1Y3Rvcih1bmRlcmx5aW5nU291cmNlOiBVbmRlcmx5aW5nQnl0ZVNvdXJjZSwgc3RyYXRlZ3k/OiB7IGhpZ2hXYXRlck1hcms/OiBudW1iZXI7IHNpemU/OiB1bmRlZmluZWQgfSk7XG4gIGNvbnN0cnVjdG9yKHVuZGVybHlpbmdTb3VyY2U/OiBVbmRlcmx5aW5nU291cmNlPFI+LCBzdHJhdGVneT86IFF1ZXVpbmdTdHJhdGVneTxSPik7XG4gIGNvbnN0cnVjdG9yKHJhd1VuZGVybHlpbmdTb3VyY2U6IFVuZGVybHlpbmdTb3VyY2U8Uj4gfCBVbmRlcmx5aW5nQnl0ZVNvdXJjZSB8IG51bGwgfCB1bmRlZmluZWQgPSB7fSxcbiAgICAgICAgICAgICAgcmF3U3RyYXRlZ3k6IFF1ZXVpbmdTdHJhdGVneTxSPiB8IG51bGwgfCB1bmRlZmluZWQgPSB7fSkge1xuICAgIGlmIChyYXdVbmRlcmx5aW5nU291cmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJhd1VuZGVybHlpbmdTb3VyY2UgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnRPYmplY3QocmF3VW5kZXJseWluZ1NvdXJjZSwgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0cmF0ZWd5ID0gY29udmVydFF1ZXVpbmdTdHJhdGVneShyYXdTdHJhdGVneSwgJ1NlY29uZCBwYXJhbWV0ZXInKTtcbiAgICBjb25zdCB1bmRlcmx5aW5nU291cmNlID0gY29udmVydFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlKHJhd1VuZGVybHlpbmdTb3VyY2UsICdGaXJzdCBwYXJhbWV0ZXInKTtcblxuICAgIEluaXRpYWxpemVSZWFkYWJsZVN0cmVhbSh0aGlzKTtcblxuICAgIGlmICh1bmRlcmx5aW5nU291cmNlLnR5cGUgPT09ICdieXRlcycpIHtcbiAgICAgIGlmIChzdHJhdGVneS5zaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSBzdHJhdGVneSBmb3IgYSBieXRlIHN0cmVhbSBjYW5ub3QgaGF2ZSBhIHNpemUgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhpZ2hXYXRlck1hcmsgPSBFeHRyYWN0SGlnaFdhdGVyTWFyayhzdHJhdGVneSwgMCk7XG4gICAgICBTZXRVcFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJGcm9tVW5kZXJseWluZ1NvdXJjZShcbiAgICAgICAgdGhpcyBhcyB1bmtub3duIGFzIFJlYWRhYmxlQnl0ZVN0cmVhbSxcbiAgICAgICAgdW5kZXJseWluZ1NvdXJjZSxcbiAgICAgICAgaGlnaFdhdGVyTWFya1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0KHVuZGVybHlpbmdTb3VyY2UudHlwZSA9PT0gdW5kZWZpbmVkKTtcbiAgICAgIGNvbnN0IHNpemVBbGdvcml0aG0gPSBFeHRyYWN0U2l6ZUFsZ29yaXRobShzdHJhdGVneSk7XG4gICAgICBjb25zdCBoaWdoV2F0ZXJNYXJrID0gRXh0cmFjdEhpZ2hXYXRlck1hcmsoc3RyYXRlZ3ksIDEpO1xuICAgICAgU2V0VXBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRnJvbVVuZGVybHlpbmdTb3VyY2UoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHVuZGVybHlpbmdTb3VyY2UsXG4gICAgICAgIGhpZ2hXYXRlck1hcmssXG4gICAgICAgIHNpemVBbGdvcml0aG1cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRoZSByZWFkYWJsZSBzdHJlYW0gaXMgbG9ja2VkIHRvIGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlciB8IHJlYWRlcn0uXG4gICAqL1xuICBnZXQgbG9ja2VkKCk6IGJvb2xlYW4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbignbG9ja2VkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIElzUmVhZGFibGVTdHJlYW1Mb2NrZWQodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aGUgc3RyZWFtLCBzaWduYWxpbmcgYSBsb3NzIG9mIGludGVyZXN0IGluIHRoZSBzdHJlYW0gYnkgYSBjb25zdW1lci5cbiAgICpcbiAgICogVGhlIHN1cHBsaWVkIGByZWFzb25gIGFyZ3VtZW50IHdpbGwgYmUgZ2l2ZW4gdG8gdGhlIHVuZGVybHlpbmcgc291cmNlJ3Mge0BsaW5rIFVuZGVybHlpbmdTb3VyY2UuY2FuY2VsIHwgY2FuY2VsKCl9XG4gICAqIG1ldGhvZCwgd2hpY2ggbWlnaHQgb3IgbWlnaHQgbm90IHVzZSBpdC5cbiAgICovXG4gIGNhbmNlbChyZWFzb246IGFueSA9IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbignY2FuY2VsJykpO1xuICAgIH1cblxuICAgIGlmIChJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FuY2VsIGEgc3RyZWFtIHRoYXQgYWxyZWFkeSBoYXMgYSByZWFkZXInKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHRoaXMsIHJlYXNvbik7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJ9IGFuZCBsb2NrcyB0aGUgc3RyZWFtIHRvIHRoZSBuZXcgcmVhZGVyLlxuICAgKlxuICAgKiBUaGlzIGNhbGwgYmVoYXZlcyB0aGUgc2FtZSB3YXkgYXMgdGhlIG5vLWFyZ3VtZW50IHZhcmlhbnQsIGV4Y2VwdCB0aGF0IGl0IG9ubHkgd29ya3Mgb24gcmVhZGFibGUgYnl0ZSBzdHJlYW1zLFxuICAgKiBpLmUuIHN0cmVhbXMgd2hpY2ggd2VyZSBjb25zdHJ1Y3RlZCBzcGVjaWZpY2FsbHkgd2l0aCB0aGUgYWJpbGl0eSB0byBoYW5kbGUgXCJicmluZyB5b3VyIG93biBidWZmZXJcIiByZWFkaW5nLlxuICAgKiBUaGUgcmV0dXJuZWQgQllPQiByZWFkZXIgcHJvdmlkZXMgdGhlIGFiaWxpdHkgdG8gZGlyZWN0bHkgcmVhZCBpbmRpdmlkdWFsIGNodW5rcyBmcm9tIHRoZSBzdHJlYW0gdmlhIGl0c1xuICAgKiB7QGxpbmsgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLnJlYWQgfCByZWFkKCl9IG1ldGhvZCwgaW50byBkZXZlbG9wZXItc3VwcGxpZWQgYnVmZmVycywgYWxsb3dpbmcgbW9yZSBwcmVjaXNlXG4gICAqIGNvbnRyb2wgb3ZlciBhbGxvY2F0aW9uLlxuICAgKi9cbiAgZ2V0UmVhZGVyKHsgbW9kZSB9OiB7IG1vZGU6ICdieW9iJyB9KTogUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIHtAbGluayBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJ9IGFuZCBsb2NrcyB0aGUgc3RyZWFtIHRvIHRoZSBuZXcgcmVhZGVyLlxuICAgKiBXaGlsZSB0aGUgc3RyZWFtIGlzIGxvY2tlZCwgbm8gb3RoZXIgcmVhZGVyIGNhbiBiZSBhY3F1aXJlZCB1bnRpbCB0aGlzIG9uZSBpcyByZWxlYXNlZC5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbmFsaXR5IGlzIGVzcGVjaWFsbHkgdXNlZnVsIGZvciBjcmVhdGluZyBhYnN0cmFjdGlvbnMgdGhhdCBkZXNpcmUgdGhlIGFiaWxpdHkgdG8gY29uc3VtZSBhIHN0cmVhbVxuICAgKiBpbiBpdHMgZW50aXJldHkuIEJ5IGdldHRpbmcgYSByZWFkZXIgZm9yIHRoZSBzdHJlYW0sIHlvdSBjYW4gZW5zdXJlIG5vYm9keSBlbHNlIGNhbiBpbnRlcmxlYXZlIHJlYWRzIHdpdGggeW91cnNcbiAgICogb3IgY2FuY2VsIHRoZSBzdHJlYW0sIHdoaWNoIHdvdWxkIGludGVyZmVyZSB3aXRoIHlvdXIgYWJzdHJhY3Rpb24uXG4gICAqL1xuICBnZXRSZWFkZXIoKTogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+O1xuICBnZXRSZWFkZXIoXG4gICAgcmF3T3B0aW9uczogUmVhZGFibGVTdHJlYW1HZXRSZWFkZXJPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuICApOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4gfCBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbignZ2V0UmVhZGVyJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbnZlcnRSZWFkZXJPcHRpb25zKHJhd09wdGlvbnMsICdGaXJzdCBwYXJhbWV0ZXInKTtcblxuICAgIGlmIChvcHRpb25zLm1vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIodGhpcyk7XG4gICAgfVxuXG4gICAgYXNzZXJ0KG9wdGlvbnMubW9kZSA9PT0gJ2J5b2InKTtcbiAgICByZXR1cm4gQWNxdWlyZVJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcih0aGlzIGFzIHVua25vd24gYXMgUmVhZGFibGVCeXRlU3RyZWFtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGNvbnZlbmllbnQsIGNoYWluYWJsZSB3YXkgb2YgcGlwaW5nIHRoaXMgcmVhZGFibGUgc3RyZWFtIHRocm91Z2ggYSB0cmFuc2Zvcm0gc3RyZWFtXG4gICAqIChvciBhbnkgb3RoZXIgYHsgd3JpdGFibGUsIHJlYWRhYmxlIH1gIHBhaXIpLiBJdCBzaW1wbHkge0BsaW5rIFJlYWRhYmxlU3RyZWFtLnBpcGVUbyB8IHBpcGVzfSB0aGUgc3RyZWFtXG4gICAqIGludG8gdGhlIHdyaXRhYmxlIHNpZGUgb2YgdGhlIHN1cHBsaWVkIHBhaXIsIGFuZCByZXR1cm5zIHRoZSByZWFkYWJsZSBzaWRlIGZvciBmdXJ0aGVyIHVzZS5cbiAgICpcbiAgICogUGlwaW5nIGEgc3RyZWFtIHdpbGwgbG9jayBpdCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBwaXBlLCBwcmV2ZW50aW5nIGFueSBvdGhlciBjb25zdW1lciBmcm9tIGFjcXVpcmluZyBhIHJlYWRlci5cbiAgICovXG4gIHBpcGVUaHJvdWdoPFJTIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0+KFxuICAgIHRyYW5zZm9ybTogeyByZWFkYWJsZTogUlM7IHdyaXRhYmxlOiBXcml0YWJsZVN0cmVhbTxSPiB9LFxuICAgIG9wdGlvbnM/OiBTdHJlYW1QaXBlT3B0aW9uc1xuICApOiBSUztcbiAgcGlwZVRocm91Z2g8UlMgZXh0ZW5kcyBSZWFkYWJsZVN0cmVhbT4oXG4gICAgcmF3VHJhbnNmb3JtOiB7IHJlYWRhYmxlOiBSUzsgd3JpdGFibGU6IFdyaXRhYmxlU3RyZWFtPFI+IH0gfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgIHJhd09wdGlvbnM6IFN0cmVhbVBpcGVPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9XG4gICk6IFJTIHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW0odGhpcykpIHtcbiAgICAgIHRocm93IHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ3BpcGVUaHJvdWdoJyk7XG4gICAgfVxuICAgIGFzc2VydFJlcXVpcmVkQXJndW1lbnQocmF3VHJhbnNmb3JtLCAxLCAncGlwZVRocm91Z2gnKTtcblxuICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNvbnZlcnRSZWFkYWJsZVdyaXRhYmxlUGFpcihyYXdUcmFuc2Zvcm0sICdGaXJzdCBwYXJhbWV0ZXInKTtcbiAgICBjb25zdCBvcHRpb25zID0gY29udmVydFBpcGVPcHRpb25zKHJhd09wdGlvbnMsICdTZWNvbmQgcGFyYW1ldGVyJyk7XG5cbiAgICBpZiAoSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCh0aGlzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnBpcGVUaHJvdWdoIGNhbm5vdCBiZSB1c2VkIG9uIGEgbG9ja2VkIFJlYWRhYmxlU3RyZWFtJyk7XG4gICAgfVxuICAgIGlmIChJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKHRyYW5zZm9ybS53cml0YWJsZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5waXBlVGhyb3VnaCBjYW5ub3QgYmUgdXNlZCBvbiBhIGxvY2tlZCBXcml0YWJsZVN0cmVhbScpO1xuICAgIH1cblxuICAgIGNvbnN0IHByb21pc2UgPSBSZWFkYWJsZVN0cmVhbVBpcGVUbyhcbiAgICAgIHRoaXMsIHRyYW5zZm9ybS53cml0YWJsZSwgb3B0aW9ucy5wcmV2ZW50Q2xvc2UsIG9wdGlvbnMucHJldmVudEFib3J0LCBvcHRpb25zLnByZXZlbnRDYW5jZWwsIG9wdGlvbnMuc2lnbmFsXG4gICAgKTtcblxuICAgIHNldFByb21pc2VJc0hhbmRsZWRUb1RydWUocHJvbWlzZSk7XG5cbiAgICByZXR1cm4gdHJhbnNmb3JtLnJlYWRhYmxlO1xuICB9XG5cbiAgLyoqXG4gICAqIFBpcGVzIHRoaXMgcmVhZGFibGUgc3RyZWFtIHRvIGEgZ2l2ZW4gd3JpdGFibGUgc3RyZWFtLiBUaGUgd2F5IGluIHdoaWNoIHRoZSBwaXBpbmcgcHJvY2VzcyBiZWhhdmVzIHVuZGVyXG4gICAqIHZhcmlvdXMgZXJyb3IgY29uZGl0aW9ucyBjYW4gYmUgY3VzdG9taXplZCB3aXRoIGEgbnVtYmVyIG9mIHBhc3NlZCBvcHRpb25zLiBJdCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzXG4gICAqIHdoZW4gdGhlIHBpcGluZyBwcm9jZXNzIGNvbXBsZXRlcyBzdWNjZXNzZnVsbHksIG9yIHJlamVjdHMgaWYgYW55IGVycm9ycyB3ZXJlIGVuY291bnRlcmVkLlxuICAgKlxuICAgKiBQaXBpbmcgYSBzdHJlYW0gd2lsbCBsb2NrIGl0IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIHBpcGUsIHByZXZlbnRpbmcgYW55IG90aGVyIGNvbnN1bWVyIGZyb20gYWNxdWlyaW5nIGEgcmVhZGVyLlxuICAgKi9cbiAgcGlwZVRvKGRlc3RpbmF0aW9uOiBXcml0YWJsZVN0cmVhbTxSPiwgb3B0aW9ucz86IFN0cmVhbVBpcGVPcHRpb25zKTogUHJvbWlzZTx2b2lkPjtcbiAgcGlwZVRvKGRlc3RpbmF0aW9uOiBXcml0YWJsZVN0cmVhbTxSPiB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgICAgICByYXdPcHRpb25zOiBTdHJlYW1QaXBlT3B0aW9ucyB8IG51bGwgfCB1bmRlZmluZWQgPSB7fSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbigncGlwZVRvJykpO1xuICAgIH1cblxuICAgIGlmIChkZXN0aW5hdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChgUGFyYW1ldGVyIDEgaXMgcmVxdWlyZWQgaW4gJ3BpcGVUbycuYCk7XG4gICAgfVxuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbShkZXN0aW5hdGlvbikpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKFxuICAgICAgICBuZXcgVHlwZUVycm9yKGBSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRvJ3MgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIFdyaXRhYmxlU3RyZWFtYClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IG9wdGlvbnM6IFZhbGlkYXRlZFN0cmVhbVBpcGVPcHRpb25zO1xuICAgIHRyeSB7XG4gICAgICBvcHRpb25zID0gY29udmVydFBpcGVPcHRpb25zKHJhd09wdGlvbnMsICdTZWNvbmQgcGFyYW1ldGVyJyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZSk7XG4gICAgfVxuXG4gICAgaWYgKElzUmVhZGFibGVTdHJlYW1Mb2NrZWQodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKFxuICAgICAgICBuZXcgVHlwZUVycm9yKCdSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRvIGNhbm5vdCBiZSB1c2VkIG9uIGEgbG9ja2VkIFJlYWRhYmxlU3RyZWFtJylcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKGRlc3RpbmF0aW9uKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoJ1JlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5waXBlVG8gY2Fubm90IGJlIHVzZWQgb24gYSBsb2NrZWQgV3JpdGFibGVTdHJlYW0nKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhZGFibGVTdHJlYW1QaXBlVG88Uj4oXG4gICAgICB0aGlzLCBkZXN0aW5hdGlvbiwgb3B0aW9ucy5wcmV2ZW50Q2xvc2UsIG9wdGlvbnMucHJldmVudEFib3J0LCBvcHRpb25zLnByZXZlbnRDYW5jZWwsIG9wdGlvbnMuc2lnbmFsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZWVzIHRoaXMgcmVhZGFibGUgc3RyZWFtLCByZXR1cm5pbmcgYSB0d28tZWxlbWVudCBhcnJheSBjb250YWluaW5nIHRoZSB0d28gcmVzdWx0aW5nIGJyYW5jaGVzIGFzXG4gICAqIG5ldyB7QGxpbmsgUmVhZGFibGVTdHJlYW19IGluc3RhbmNlcy5cbiAgICpcbiAgICogVGVlaW5nIGEgc3RyZWFtIHdpbGwgbG9jayBpdCwgcHJldmVudGluZyBhbnkgb3RoZXIgY29uc3VtZXIgZnJvbSBhY3F1aXJpbmcgYSByZWFkZXIuXG4gICAqIFRvIGNhbmNlbCB0aGUgc3RyZWFtLCBjYW5jZWwgYm90aCBvZiB0aGUgcmVzdWx0aW5nIGJyYW5jaGVzOyBhIGNvbXBvc2l0ZSBjYW5jZWxsYXRpb24gcmVhc29uIHdpbGwgdGhlbiBiZVxuICAgKiBwcm9wYWdhdGVkIHRvIHRoZSBzdHJlYW0ncyB1bmRlcmx5aW5nIHNvdXJjZS5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoZSBjaHVua3Mgc2VlbiBpbiBlYWNoIGJyYW5jaCB3aWxsIGJlIHRoZSBzYW1lIG9iamVjdC4gSWYgdGhlIGNodW5rcyBhcmUgbm90IGltbXV0YWJsZSxcbiAgICogdGhpcyBjb3VsZCBhbGxvdyBpbnRlcmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIGJyYW5jaGVzLlxuICAgKi9cbiAgdGVlKCk6IFtSZWFkYWJsZVN0cmVhbTxSPiwgUmVhZGFibGVTdHJlYW08Uj5dIHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW0odGhpcykpIHtcbiAgICAgIHRocm93IHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ3RlZScpO1xuICAgIH1cblxuICAgIGNvbnN0IGJyYW5jaGVzID0gUmVhZGFibGVTdHJlYW1UZWUodGhpcywgZmFsc2UpO1xuICAgIHJldHVybiBDcmVhdGVBcnJheUZyb21MaXN0KGJyYW5jaGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBpdGVyYXRlcyBvdmVyIHRoZSBjaHVua3MgaW4gdGhlIHN0cmVhbSdzIGludGVybmFsIHF1ZXVlLlxuICAgKlxuICAgKiBBc3luY2hyb25vdXNseSBpdGVyYXRpbmcgb3ZlciB0aGUgc3RyZWFtIHdpbGwgbG9jayBpdCwgcHJldmVudGluZyBhbnkgb3RoZXIgY29uc3VtZXIgZnJvbSBhY3F1aXJpbmcgYSByZWFkZXIuXG4gICAqIFRoZSBsb2NrIHdpbGwgYmUgcmVsZWFzZWQgaWYgdGhlIGFzeW5jIGl0ZXJhdG9yJ3Mge0BsaW5rIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvci5yZXR1cm4gfCByZXR1cm4oKX0gbWV0aG9kXG4gICAqIGlzIGNhbGxlZCwgZS5nLiBieSBicmVha2luZyBvdXQgb2YgdGhlIGxvb3AuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIGNhbGxpbmcgdGhlIGFzeW5jIGl0ZXJhdG9yJ3Mge0BsaW5rIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvci5yZXR1cm4gfCByZXR1cm4oKX0gbWV0aG9kIHdpbGwgYWxzb1xuICAgKiBjYW5jZWwgdGhlIHN0cmVhbS4gVG8gcHJldmVudCB0aGlzLCB1c2UgdGhlIHN0cmVhbSdzIHtAbGluayBSZWFkYWJsZVN0cmVhbS52YWx1ZXMgfCB2YWx1ZXMoKX0gbWV0aG9kLCBwYXNzaW5nXG4gICAqIGB0cnVlYCBmb3IgdGhlIGBwcmV2ZW50Q2FuY2VsYCBvcHRpb24uXG4gICAqL1xuICB2YWx1ZXMob3B0aW9ucz86IFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zKTogUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+O1xuICB2YWx1ZXMocmF3T3B0aW9uczogUmVhZGFibGVTdHJlYW1JdGVyYXRvck9wdGlvbnMgfCBudWxsIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW0odGhpcykpIHtcbiAgICAgIHRocm93IHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ3ZhbHVlcycpO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSBjb252ZXJ0SXRlcmF0b3JPcHRpb25zKHJhd09wdGlvbnMsICdGaXJzdCBwYXJhbWV0ZXInKTtcbiAgICByZXR1cm4gQWNxdWlyZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSPih0aGlzLCBvcHRpb25zLnByZXZlbnRDYW5jZWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIHtAaW5oZXJpdERvYyBSZWFkYWJsZVN0cmVhbS52YWx1ZXN9XG4gICAqL1xuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdOiAob3B0aW9ucz86IFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zKSA9PiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I8Uj47XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSwge1xuICBjYW5jZWw6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBnZXRSZWFkZXI6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBwaXBlVGhyb3VnaDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHBpcGVUbzogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHRlZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHZhbHVlczogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGxvY2tlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuaWYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnUmVhZGFibGVTdHJlYW0nLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cbmlmICh0eXBlb2YgU3ltYm9sLmFzeW5jSXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUsIFN5bWJvbC5hc3luY0l0ZXJhdG9yLCB7XG4gICAgdmFsdWU6IFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS52YWx1ZXMsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQge1xuICBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRSZXN1bHQsXG4gIFVuZGVybHlpbmdCeXRlU291cmNlLFxuICBVbmRlcmx5aW5nU291cmNlLFxuICBVbmRlcmx5aW5nU291cmNlU3RhcnRDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NvdXJjZVB1bGxDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NvdXJjZUNhbmNlbENhbGxiYWNrLFxuICBVbmRlcmx5aW5nQnl0ZVNvdXJjZVN0YXJ0Q2FsbGJhY2ssXG4gIFVuZGVybHlpbmdCeXRlU291cmNlUHVsbENhbGxiYWNrLFxuICBTdHJlYW1QaXBlT3B0aW9ucyxcbiAgUmVhZGFibGVXcml0YWJsZVBhaXIsXG4gIFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zXG59O1xuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW0uXG5cbi8vIFRocm93cyBpZiBhbmQgb25seSBpZiBzdGFydEFsZ29yaXRobSB0aHJvd3MuXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlUmVhZGFibGVTdHJlYW08Uj4oc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEFsZ29yaXRobTogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hXYXRlck1hcmsgPSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxSPiA9ICgpID0+IDEpOiBSZWFkYWJsZVN0cmVhbTxSPiB7XG4gIGFzc2VydChJc05vbk5lZ2F0aXZlTnVtYmVyKGhpZ2hXYXRlck1hcmspKTtcblxuICBjb25zdCBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+ID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUpO1xuICBJbml0aWFsaXplUmVhZGFibGVTdHJlYW0oc3RyZWFtKTtcblxuICBjb25zdCBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+ID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSk7XG4gIFNldFVwUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcihcbiAgICBzdHJlYW0sIGNvbnRyb2xsZXIsIHN0YXJ0QWxnb3JpdGhtLCBwdWxsQWxnb3JpdGhtLCBjYW5jZWxBbGdvcml0aG0sIGhpZ2hXYXRlck1hcmssIHNpemVBbGdvcml0aG1cbiAgKTtcblxuICByZXR1cm4gc3RyZWFtO1xufVxuXG4vLyBUaHJvd3MgaWYgYW5kIG9ubHkgaWYgc3RhcnRBbGdvcml0aG0gdGhyb3dzLlxuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZVJlYWRhYmxlQnl0ZVN0cmVhbShcbiAgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgcHVsbEFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgY2FuY2VsQWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD5cbik6IFJlYWRhYmxlQnl0ZVN0cmVhbSB7XG4gIGNvbnN0IHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUpO1xuICBJbml0aWFsaXplUmVhZGFibGVTdHJlYW0oc3RyZWFtKTtcblxuICBjb25zdCBjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSk7XG4gIFNldFVwUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcihzdHJlYW0sIGNvbnRyb2xsZXIsIHN0YXJ0QWxnb3JpdGhtLCBwdWxsQWxnb3JpdGhtLCBjYW5jZWxBbGdvcml0aG0sIDAsIHVuZGVmaW5lZCk7XG5cbiAgcmV0dXJuIHN0cmVhbTtcbn1cblxuZnVuY3Rpb24gSW5pdGlhbGl6ZVJlYWRhYmxlU3RyZWFtKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pIHtcbiAgc3RyZWFtLl9zdGF0ZSA9ICdyZWFkYWJsZSc7XG4gIHN0cmVhbS5fcmVhZGVyID0gdW5kZWZpbmVkO1xuICBzdHJlYW0uX3N0b3JlZEVycm9yID0gdW5kZWZpbmVkO1xuICBzdHJlYW0uX2Rpc3R1cmJlZCA9IGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkYWJsZVN0cmVhbSh4OiB1bmtub3duKTogeCBpcyBSZWFkYWJsZVN0cmVhbSB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXInKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc1JlYWRhYmxlU3RyZWFtRGlzdHVyYmVkKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBib29sZWFuIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG5cbiAgcmV0dXJuIHN0cmVhbS5fZGlzdHVyYmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkYWJsZVN0cmVhbUxvY2tlZChzdHJlYW06IFJlYWRhYmxlU3RyZWFtKTogYm9vbGVhbiB7XG4gIGFzc2VydChJc1JlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuXG4gIGlmIChzdHJlYW0uX3JlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIFJlYWRhYmxlU3RyZWFtIEFQSSBleHBvc2VkIGZvciBjb250cm9sbGVycy5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtQ2FuY2VsPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sIHJlYXNvbjogYW55KTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgc3RyZWFtLl9kaXN0dXJiZWQgPSB0cnVlO1xuXG4gIGlmIChzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJykge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cbiAgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICB9XG5cbiAgUmVhZGFibGVTdHJlYW1DbG9zZShzdHJlYW0pO1xuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5fcmVhZGVyO1xuICBpZiAocmVhZGVyICE9PSB1bmRlZmluZWQgJiYgSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIocmVhZGVyKSkge1xuICAgIHJlYWRlci5fcmVhZEludG9SZXF1ZXN0cy5mb3JFYWNoKHJlYWRJbnRvUmVxdWVzdCA9PiB7XG4gICAgICByZWFkSW50b1JlcXVlc3QuX2Nsb3NlU3RlcHModW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgICByZWFkZXIuX3JlYWRJbnRvUmVxdWVzdHMgPSBuZXcgU2ltcGxlUXVldWUoKTtcbiAgfVxuXG4gIGNvbnN0IHNvdXJjZUNhbmNlbFByb21pc2UgPSBzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcltDYW5jZWxTdGVwc10ocmVhc29uKTtcbiAgcmV0dXJuIHRyYW5zZm9ybVByb21pc2VXaXRoKHNvdXJjZUNhbmNlbFByb21pc2UsIG5vb3ApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1DbG9zZTxSPihzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+KTogdm9pZCB7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKTtcblxuICBzdHJlYW0uX3N0YXRlID0gJ2Nsb3NlZCc7XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLl9yZWFkZXI7XG5cbiAgaWYgKHJlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZXNvbHZlKHJlYWRlcik7XG5cbiAgaWYgKElzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+KHJlYWRlcikpIHtcbiAgICByZWFkZXIuX3JlYWRSZXF1ZXN0cy5mb3JFYWNoKHJlYWRSZXF1ZXN0ID0+IHtcbiAgICAgIHJlYWRSZXF1ZXN0Ll9jbG9zZVN0ZXBzKCk7XG4gICAgfSk7XG4gICAgcmVhZGVyLl9yZWFkUmVxdWVzdHMgPSBuZXcgU2ltcGxlUXVldWUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1FcnJvcjxSPihzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+LCBlOiBhbnkpOiB2b2lkIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKTtcblxuICBzdHJlYW0uX3N0YXRlID0gJ2Vycm9yZWQnO1xuICBzdHJlYW0uX3N0b3JlZEVycm9yID0gZTtcblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uX3JlYWRlcjtcblxuICBpZiAocmVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZVJlamVjdChyZWFkZXIsIGUpO1xuXG4gIGlmIChJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPihyZWFkZXIpKSB7XG4gICAgcmVhZGVyLl9yZWFkUmVxdWVzdHMuZm9yRWFjaChyZWFkUmVxdWVzdCA9PiB7XG4gICAgICByZWFkUmVxdWVzdC5fZXJyb3JTdGVwcyhlKTtcbiAgICB9KTtcblxuICAgIHJlYWRlci5fcmVhZFJlcXVlc3RzID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHJlYWRlcikpO1xuXG4gICAgcmVhZGVyLl9yZWFkSW50b1JlcXVlc3RzLmZvckVhY2gocmVhZEludG9SZXF1ZXN0ID0+IHtcbiAgICAgIHJlYWRJbnRvUmVxdWVzdC5fZXJyb3JTdGVwcyhlKTtcbiAgICB9KTtcblxuICAgIHJlYWRlci5fcmVhZEludG9SZXF1ZXN0cyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xuICB9XG59XG5cbi8vIFJlYWRlcnNcblxuZXhwb3J0IHR5cGUgUmVhZGFibGVTdHJlYW1SZWFkZXI8Uj4gPSBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4gfCBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXI7XG5cbmV4cG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyXG59O1xuXG4vLyBDb250cm9sbGVyc1xuXG5leHBvcnQge1xuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LFxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyXG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW0uXG5cbmZ1bmN0aW9uIHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoYFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBSZWFkYWJsZVN0cmVhbWApO1xufVxuIiwiaW1wb3J0IHsgYXNzZXJ0RGljdGlvbmFyeSwgYXNzZXJ0UmVxdWlyZWRGaWVsZCB9IGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgV3JpdGFibGVTdHJlYW0gfSBmcm9tICcuLi93cml0YWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgYXNzZXJ0UmVhZGFibGVTdHJlYW0gfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBhc3NlcnRXcml0YWJsZVN0cmVhbSB9IGZyb20gJy4vd3JpdGFibGUtc3RyZWFtJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRSZWFkYWJsZVdyaXRhYmxlUGFpcjxSUyBleHRlbmRzIFJlYWRhYmxlU3RyZWFtLCBXUyBleHRlbmRzIFdyaXRhYmxlU3RyZWFtPihcbiAgcGFpcjogeyByZWFkYWJsZTogUlM7IHdyaXRhYmxlOiBXUyB9IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgY29udGV4dDogc3RyaW5nXG4pOiB7IHJlYWRhYmxlOiBSUzsgd3JpdGFibGU6IFdTIH0ge1xuICBhc3NlcnREaWN0aW9uYXJ5KHBhaXIsIGNvbnRleHQpO1xuXG4gIGNvbnN0IHJlYWRhYmxlID0gcGFpcj8ucmVhZGFibGU7XG4gIGFzc2VydFJlcXVpcmVkRmllbGQocmVhZGFibGUsICdyZWFkYWJsZScsICdSZWFkYWJsZVdyaXRhYmxlUGFpcicpO1xuICBhc3NlcnRSZWFkYWJsZVN0cmVhbShyZWFkYWJsZSwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAncmVhZGFibGUnIHRoYXRgKTtcblxuICBjb25zdCB3cml0YWJsZSA9IHBhaXI/LndyaXRhYmxlO1xuICBhc3NlcnRSZXF1aXJlZEZpZWxkKHdyaXRhYmxlLCAnd3JpdGFibGUnLCAnUmVhZGFibGVXcml0YWJsZVBhaXInKTtcbiAgYXNzZXJ0V3JpdGFibGVTdHJlYW0od3JpdGFibGUsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3dyaXRhYmxlJyB0aGF0YCk7XG5cbiAgcmV0dXJuIHsgcmVhZGFibGUsIHdyaXRhYmxlIH07XG59XG4iLCJpbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5IH0gZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbUl0ZXJhdG9yT3B0aW9ucyxcbiAgVmFsaWRhdGVkUmVhZGFibGVTdHJlYW1JdGVyYXRvck9wdGlvbnNcbn0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtL2l0ZXJhdG9yLW9wdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEl0ZXJhdG9yT3B0aW9ucyhvcHRpb25zOiBSZWFkYWJsZVN0cmVhbUl0ZXJhdG9yT3B0aW9ucyB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBWYWxpZGF0ZWRSZWFkYWJsZVN0cmVhbUl0ZXJhdG9yT3B0aW9ucyB7XG4gIGFzc2VydERpY3Rpb25hcnkob3B0aW9ucywgY29udGV4dCk7XG4gIGNvbnN0IHByZXZlbnRDYW5jZWwgPSBvcHRpb25zPy5wcmV2ZW50Q2FuY2VsO1xuICByZXR1cm4geyBwcmV2ZW50Q2FuY2VsOiBCb29sZWFuKHByZXZlbnRDYW5jZWwpIH07XG59XG4iLCJpbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3lJbml0IH0gZnJvbSAnLi4vcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5LCBhc3NlcnRSZXF1aXJlZEZpZWxkLCBjb252ZXJ0VW5yZXN0cmljdGVkRG91YmxlIH0gZnJvbSAnLi9iYXNpYyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5SW5pdChpbml0OiBRdWV1aW5nU3RyYXRlZ3lJbml0IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBRdWV1aW5nU3RyYXRlZ3lJbml0IHtcbiAgYXNzZXJ0RGljdGlvbmFyeShpbml0LCBjb250ZXh0KTtcbiAgY29uc3QgaGlnaFdhdGVyTWFyayA9IGluaXQ/LmhpZ2hXYXRlck1hcms7XG4gIGFzc2VydFJlcXVpcmVkRmllbGQoaGlnaFdhdGVyTWFyaywgJ2hpZ2hXYXRlck1hcmsnLCAnUXVldWluZ1N0cmF0ZWd5SW5pdCcpO1xuICByZXR1cm4ge1xuICAgIGhpZ2hXYXRlck1hcms6IGNvbnZlcnRVbnJlc3RyaWN0ZWREb3VibGUoaGlnaFdhdGVyTWFyaylcbiAgfTtcbn1cbiIsImltcG9ydCB7IFF1ZXVpbmdTdHJhdGVneSwgUXVldWluZ1N0cmF0ZWd5SW5pdCB9IGZyb20gJy4vcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgeyB0eXBlSXNPYmplY3QgfSBmcm9tICcuL2hlbHBlcnMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgeyBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50IH0gZnJvbSAnLi92YWxpZGF0b3JzL2Jhc2ljJztcbmltcG9ydCB7IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3lJbml0IH0gZnJvbSAnLi92YWxpZGF0b3JzL3F1ZXVpbmctc3RyYXRlZ3ktaW5pdCc7XG5cbi8vIFRoZSBzaXplIGZ1bmN0aW9uIG11c3Qgbm90IGhhdmUgYSBwcm90b3R5cGUgcHJvcGVydHkgbm9yIGJlIGEgY29uc3RydWN0b3JcbmNvbnN0IGJ5dGVMZW5ndGhTaXplRnVuY3Rpb24gPSAoY2h1bms6IEFycmF5QnVmZmVyVmlldyk6IG51bWJlciA9PiB7XG4gIHJldHVybiBjaHVuay5ieXRlTGVuZ3RoO1xufTtcbnRyeSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShieXRlTGVuZ3RoU2l6ZUZ1bmN0aW9uLCAnbmFtZScsIHtcbiAgICB2YWx1ZTogJ3NpemUnLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn0gY2F0Y2gge1xuICAvLyBUaGlzIHByb3BlcnR5IGlzIG5vbi1jb25maWd1cmFibGUgaW4gb2xkZXIgYnJvd3NlcnMsIHNvIGlnbm9yZSBpZiB0aGlzIHRocm93cy5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vbmFtZSNicm93c2VyX2NvbXBhdGliaWxpdHlcbn1cblxuLyoqXG4gKiBBIHF1ZXVpbmcgc3RyYXRlZ3kgdGhhdCBjb3VudHMgdGhlIG51bWJlciBvZiBieXRlcyBpbiBlYWNoIGNodW5rLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSBpbXBsZW1lbnRzIFF1ZXVpbmdTdHJhdGVneTxBcnJheUJ1ZmZlclZpZXc+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICByZWFkb25seSBfYnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcms6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBRdWV1aW5nU3RyYXRlZ3lJbml0KSB7XG4gICAgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudChvcHRpb25zLCAxLCAnQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneScpO1xuICAgIG9wdGlvbnMgPSBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5SW5pdChvcHRpb25zLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG4gICAgdGhpcy5fYnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcmsgPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaGlnaCB3YXRlciBtYXJrIHByb3ZpZGVkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICovXG4gIGdldCBoaWdoV2F0ZXJNYXJrKCk6IG51bWJlciB7XG4gICAgaWYgKCFJc0J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kodGhpcykpIHtcbiAgICAgIHRocm93IGJ5dGVMZW5ndGhCcmFuZENoZWNrRXhjZXB0aW9uKCdoaWdoV2F0ZXJNYXJrJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9ieXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyaztcbiAgfVxuXG4gIC8qKlxuICAgKiBNZWFzdXJlcyB0aGUgc2l6ZSBvZiBgY2h1bmtgIGJ5IHJldHVybmluZyB0aGUgdmFsdWUgb2YgaXRzIGBieXRlTGVuZ3RoYCBwcm9wZXJ0eS5cbiAgICovXG4gIGdldCBzaXplKCk6IChjaHVuazogQXJyYXlCdWZmZXJWaWV3KSA9PiBudW1iZXIge1xuICAgIGlmICghSXNCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5KHRoaXMpKSB7XG4gICAgICB0aHJvdyBieXRlTGVuZ3RoQnJhbmRDaGVja0V4Y2VwdGlvbignc2l6ZScpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZUxlbmd0aFNpemVGdW5jdGlvbjtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZSwge1xuICBoaWdoV2F0ZXJNYXJrOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgc2l6ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuaWYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5JyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LlxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneS5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSXNCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5KHg6IGFueSk6IHggaXMgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19ieXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyaycpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5O1xufVxuIiwiaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5LCBRdWV1aW5nU3RyYXRlZ3lJbml0IH0gZnJvbSAnLi9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IGFzc2VydFJlcXVpcmVkQXJndW1lbnQgfSBmcm9tICcuL3ZhbGlkYXRvcnMvYmFzaWMnO1xuaW1wb3J0IHsgY29udmVydFF1ZXVpbmdTdHJhdGVneUluaXQgfSBmcm9tICcuL3ZhbGlkYXRvcnMvcXVldWluZy1zdHJhdGVneS1pbml0JztcblxuLy8gVGhlIHNpemUgZnVuY3Rpb24gbXVzdCBub3QgaGF2ZSBhIHByb3RvdHlwZSBwcm9wZXJ0eSBub3IgYmUgYSBjb25zdHJ1Y3RvclxuY29uc3QgY291bnRTaXplRnVuY3Rpb24gPSAoKTogMSA9PiB7XG4gIHJldHVybiAxO1xufTtcbnRyeSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb3VudFNpemVGdW5jdGlvbiwgJ25hbWUnLCB7XG4gICAgdmFsdWU6ICdzaXplJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59IGNhdGNoIHtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBpcyBub24tY29uZmlndXJhYmxlIGluIG9sZGVyIGJyb3dzZXJzLCBzbyBpZ25vcmUgaWYgdGhpcyB0aHJvd3MuXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Z1bmN0aW9uL25hbWUjYnJvd3Nlcl9jb21wYXRpYmlsaXR5XG59XG5cbi8qKlxuICogQSBxdWV1aW5nIHN0cmF0ZWd5IHRoYXQgY291bnRzIHRoZSBudW1iZXIgb2YgY2h1bmtzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ291bnRRdWV1aW5nU3RyYXRlZ3kgaW1wbGVtZW50cyBRdWV1aW5nU3RyYXRlZ3k8YW55PiB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcmVhZG9ubHkgX2NvdW50UXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyayE6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBRdWV1aW5nU3RyYXRlZ3lJbml0KSB7XG4gICAgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudChvcHRpb25zLCAxLCAnQ291bnRRdWV1aW5nU3RyYXRlZ3knKTtcbiAgICBvcHRpb25zID0gY29udmVydFF1ZXVpbmdTdHJhdGVneUluaXQob3B0aW9ucywgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuICAgIHRoaXMuX2NvdW50UXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyayA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBoaWdoIHdhdGVyIG1hcmsgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgZ2V0IGhpZ2hXYXRlck1hcmsoKTogbnVtYmVyIHtcbiAgICBpZiAoIUlzQ291bnRRdWV1aW5nU3RyYXRlZ3kodGhpcykpIHtcbiAgICAgIHRocm93IGNvdW50QnJhbmRDaGVja0V4Y2VwdGlvbignaGlnaFdhdGVyTWFyaycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY291bnRRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHRoZSBzaXplIG9mIGBjaHVua2AgYnkgYWx3YXlzIHJldHVybmluZyAxLlxuICAgKiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgdG90YWwgcXVldWUgc2l6ZSBpcyBhIGNvdW50IG9mIHRoZSBudW1iZXIgb2YgY2h1bmtzIGluIHRoZSBxdWV1ZS5cbiAgICovXG4gIGdldCBzaXplKCk6IChjaHVuazogYW55KSA9PiAxIHtcbiAgICBpZiAoIUlzQ291bnRRdWV1aW5nU3RyYXRlZ3kodGhpcykpIHtcbiAgICAgIHRocm93IGNvdW50QnJhbmRDaGVja0V4Y2VwdGlvbignc2l6ZScpO1xuICAgIH1cbiAgICByZXR1cm4gY291bnRTaXplRnVuY3Rpb247XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQ291bnRRdWV1aW5nU3RyYXRlZ3kucHJvdG90eXBlLCB7XG4gIGhpZ2hXYXRlck1hcms6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBzaXplOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvdW50UXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdDb3VudFF1ZXVpbmdTdHJhdGVneScsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgQ291bnRRdWV1aW5nU3RyYXRlZ3kuXG5cbmZ1bmN0aW9uIGNvdW50QnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihgQ291bnRRdWV1aW5nU3RyYXRlZ3kucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIENvdW50UXVldWluZ1N0cmF0ZWd5YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0NvdW50UXVldWluZ1N0cmF0ZWd5KHg6IGFueSk6IHggaXMgQ291bnRRdWV1aW5nU3RyYXRlZ3kge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfY291bnRRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIENvdW50UXVldWluZ1N0cmF0ZWd5O1xufVxuIiwiaW1wb3J0IHsgYXNzZXJ0RGljdGlvbmFyeSwgYXNzZXJ0RnVuY3Rpb24gfSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCB7IHByb21pc2VDYWxsLCByZWZsZWN0Q2FsbCB9IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7XG4gIFRyYW5zZm9ybWVyLFxuICBUcmFuc2Zvcm1lckZsdXNoQ2FsbGJhY2ssXG4gIFRyYW5zZm9ybWVyU3RhcnRDYWxsYmFjayxcbiAgVHJhbnNmb3JtZXJUcmFuc2Zvcm1DYWxsYmFjayxcbiAgVmFsaWRhdGVkVHJhbnNmb3JtZXJcbn0gZnJvbSAnLi4vdHJhbnNmb3JtLXN0cmVhbS90cmFuc2Zvcm1lcic7XG5pbXBvcnQgeyBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlciB9IGZyb20gJy4uL3RyYW5zZm9ybS1zdHJlYW0nO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRyYW5zZm9ybWVyPEksIE8+KG9yaWdpbmFsOiBUcmFuc2Zvcm1lcjxJLCBPPiB8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFZhbGlkYXRlZFRyYW5zZm9ybWVyPEksIE8+IHtcbiAgYXNzZXJ0RGljdGlvbmFyeShvcmlnaW5hbCwgY29udGV4dCk7XG4gIGNvbnN0IGZsdXNoID0gb3JpZ2luYWw/LmZsdXNoO1xuICBjb25zdCByZWFkYWJsZVR5cGUgPSBvcmlnaW5hbD8ucmVhZGFibGVUeXBlO1xuICBjb25zdCBzdGFydCA9IG9yaWdpbmFsPy5zdGFydDtcbiAgY29uc3QgdHJhbnNmb3JtID0gb3JpZ2luYWw/LnRyYW5zZm9ybTtcbiAgY29uc3Qgd3JpdGFibGVUeXBlID0gb3JpZ2luYWw/LndyaXRhYmxlVHlwZTtcbiAgcmV0dXJuIHtcbiAgICBmbHVzaDogZmx1c2ggPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFRyYW5zZm9ybWVyRmx1c2hDYWxsYmFjayhmbHVzaCwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdmbHVzaCcgdGhhdGApLFxuICAgIHJlYWRhYmxlVHlwZSxcbiAgICBzdGFydDogc3RhcnQgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFRyYW5zZm9ybWVyU3RhcnRDYWxsYmFjayhzdGFydCwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdzdGFydCcgdGhhdGApLFxuICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRUcmFuc2Zvcm1lclRyYW5zZm9ybUNhbGxiYWNrKHRyYW5zZm9ybSwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICd0cmFuc2Zvcm0nIHRoYXRgKSxcbiAgICB3cml0YWJsZVR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFRyYW5zZm9ybWVyRmx1c2hDYWxsYmFjazxJLCBPPihcbiAgZm46IFRyYW5zZm9ybWVyRmx1c2hDYWxsYmFjazxPPixcbiAgb3JpZ2luYWw6IFRyYW5zZm9ybWVyPEksIE8+LFxuICBjb250ZXh0OiBzdHJpbmdcbik6IChjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPikgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIChjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPikgPT4gcHJvbWlzZUNhbGwoZm4sIG9yaWdpbmFsLCBbY29udHJvbGxlcl0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VHJhbnNmb3JtZXJTdGFydENhbGxiYWNrPEksIE8+KFxuICBmbjogVHJhbnNmb3JtZXJTdGFydENhbGxiYWNrPE8+LFxuICBvcmlnaW5hbDogVHJhbnNmb3JtZXI8SSwgTz4sXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogVHJhbnNmb3JtZXJTdGFydENhbGxiYWNrPE8+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+KSA9PiByZWZsZWN0Q2FsbChmbiwgb3JpZ2luYWwsIFtjb250cm9sbGVyXSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUcmFuc2Zvcm1lclRyYW5zZm9ybUNhbGxiYWNrPEksIE8+KFxuICBmbjogVHJhbnNmb3JtZXJUcmFuc2Zvcm1DYWxsYmFjazxJLCBPPixcbiAgb3JpZ2luYWw6IFRyYW5zZm9ybWVyPEksIE8+LFxuICBjb250ZXh0OiBzdHJpbmdcbik6IChjaHVuazogSSwgY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4pID0+IFByb21pc2U8dm9pZD4ge1xuICBhc3NlcnRGdW5jdGlvbihmbiwgY29udGV4dCk7XG4gIHJldHVybiAoY2h1bms6IEksIGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+KSA9PiBwcm9taXNlQ2FsbChmbiwgb3JpZ2luYWwsIFtjaHVuaywgY29udHJvbGxlcl0pO1xufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQgeyBuZXdQcm9taXNlLCBwcm9taXNlUmVqZWN0ZWRXaXRoLCBwcm9taXNlUmVzb2x2ZWRXaXRoLCB0cmFuc2Zvcm1Qcm9taXNlV2l0aCB9IGZyb20gJy4vaGVscGVycy93ZWJpZGwnO1xuaW1wb3J0IHsgQ3JlYXRlUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlU3RyZWFtLCBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyIH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2UsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZSxcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckhhc0JhY2twcmVzc3VyZVxufSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9kZWZhdWx0LWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5LCBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2sgfSBmcm9tICcuL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgQ3JlYXRlV3JpdGFibGVTdHJlYW0sIFdyaXRhYmxlU3RyZWFtLCBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3JJZk5lZWRlZCB9IGZyb20gJy4vd3JpdGFibGUtc3RyZWFtJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IElzTm9uTmVnYXRpdmVOdW1iZXIgfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3kgfSBmcm9tICcuL3ZhbGlkYXRvcnMvcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgeyBFeHRyYWN0SGlnaFdhdGVyTWFyaywgRXh0cmFjdFNpemVBbGdvcml0aG0gfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7XG4gIFRyYW5zZm9ybWVyLFxuICBUcmFuc2Zvcm1lckZsdXNoQ2FsbGJhY2ssXG4gIFRyYW5zZm9ybWVyU3RhcnRDYWxsYmFjayxcbiAgVHJhbnNmb3JtZXJUcmFuc2Zvcm1DYWxsYmFjayxcbiAgVmFsaWRhdGVkVHJhbnNmb3JtZXJcbn0gZnJvbSAnLi90cmFuc2Zvcm0tc3RyZWFtL3RyYW5zZm9ybWVyJztcbmltcG9ydCB7IGNvbnZlcnRUcmFuc2Zvcm1lciB9IGZyb20gJy4vdmFsaWRhdG9ycy90cmFuc2Zvcm1lcic7XG5cbi8vIENsYXNzIFRyYW5zZm9ybVN0cmVhbVxuXG4vKipcbiAqIEEgdHJhbnNmb3JtIHN0cmVhbSBjb25zaXN0cyBvZiBhIHBhaXIgb2Ygc3RyZWFtczogYSB7QGxpbmsgV3JpdGFibGVTdHJlYW0gfCB3cml0YWJsZSBzdHJlYW19LFxuICoga25vd24gYXMgaXRzIHdyaXRhYmxlIHNpZGUsIGFuZCBhIHtAbGluayBSZWFkYWJsZVN0cmVhbSB8IHJlYWRhYmxlIHN0cmVhbX0sIGtub3duIGFzIGl0cyByZWFkYWJsZSBzaWRlLlxuICogSW4gYSBtYW5uZXIgc3BlY2lmaWMgdG8gdGhlIHRyYW5zZm9ybSBzdHJlYW0gaW4gcXVlc3Rpb24sIHdyaXRlcyB0byB0aGUgd3JpdGFibGUgc2lkZSByZXN1bHQgaW4gbmV3IGRhdGEgYmVpbmdcbiAqIG1hZGUgYXZhaWxhYmxlIGZvciByZWFkaW5nIGZyb20gdGhlIHJlYWRhYmxlIHNpZGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgVHJhbnNmb3JtU3RyZWFtPEkgPSBhbnksIE8gPSBhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfd3JpdGFibGUhOiBXcml0YWJsZVN0cmVhbTxJPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcmVhZGFibGUhOiBSZWFkYWJsZVN0cmVhbTxPPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYmFja3ByZXNzdXJlITogYm9vbGVhbjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZSE6IFByb21pc2U8dm9pZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2VfcmVzb2x2ZSE6ICgpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXIhOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB0cmFuc2Zvcm1lcj86IFRyYW5zZm9ybWVyPEksIE8+LFxuICAgIHdyaXRhYmxlU3RyYXRlZ3k/OiBRdWV1aW5nU3RyYXRlZ3k8ST4sXG4gICAgcmVhZGFibGVTdHJhdGVneT86IFF1ZXVpbmdTdHJhdGVneTxPPlxuICApO1xuICBjb25zdHJ1Y3RvcihyYXdUcmFuc2Zvcm1lcjogVHJhbnNmb3JtZXI8SSwgTz4gfCBudWxsIHwgdW5kZWZpbmVkID0ge30sXG4gICAgICAgICAgICAgIHJhd1dyaXRhYmxlU3RyYXRlZ3k6IFF1ZXVpbmdTdHJhdGVneTxJPiB8IG51bGwgfCB1bmRlZmluZWQgPSB7fSxcbiAgICAgICAgICAgICAgcmF3UmVhZGFibGVTdHJhdGVneTogUXVldWluZ1N0cmF0ZWd5PE8+IHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9KSB7XG4gICAgaWYgKHJhd1RyYW5zZm9ybWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJhd1RyYW5zZm9ybWVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB3cml0YWJsZVN0cmF0ZWd5ID0gY29udmVydFF1ZXVpbmdTdHJhdGVneShyYXdXcml0YWJsZVN0cmF0ZWd5LCAnU2Vjb25kIHBhcmFtZXRlcicpO1xuICAgIGNvbnN0IHJlYWRhYmxlU3RyYXRlZ3kgPSBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5KHJhd1JlYWRhYmxlU3RyYXRlZ3ksICdUaGlyZCBwYXJhbWV0ZXInKTtcblxuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gY29udmVydFRyYW5zZm9ybWVyKHJhd1RyYW5zZm9ybWVyLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG4gICAgaWYgKHRyYW5zZm9ybWVyLnJlYWRhYmxlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCByZWFkYWJsZVR5cGUgc3BlY2lmaWVkJyk7XG4gICAgfVxuICAgIGlmICh0cmFuc2Zvcm1lci53cml0YWJsZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgd3JpdGFibGVUeXBlIHNwZWNpZmllZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRhYmxlSGlnaFdhdGVyTWFyayA9IEV4dHJhY3RIaWdoV2F0ZXJNYXJrKHJlYWRhYmxlU3RyYXRlZ3ksIDApO1xuICAgIGNvbnN0IHJlYWRhYmxlU2l6ZUFsZ29yaXRobSA9IEV4dHJhY3RTaXplQWxnb3JpdGhtKHJlYWRhYmxlU3RyYXRlZ3kpO1xuICAgIGNvbnN0IHdyaXRhYmxlSGlnaFdhdGVyTWFyayA9IEV4dHJhY3RIaWdoV2F0ZXJNYXJrKHdyaXRhYmxlU3RyYXRlZ3ksIDEpO1xuICAgIGNvbnN0IHdyaXRhYmxlU2l6ZUFsZ29yaXRobSA9IEV4dHJhY3RTaXplQWxnb3JpdGhtKHdyaXRhYmxlU3RyYXRlZ3kpO1xuXG4gICAgbGV0IHN0YXJ0UHJvbWlzZV9yZXNvbHZlITogKHZhbHVlOiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4pID0+IHZvaWQ7XG4gICAgY29uc3Qgc3RhcnRQcm9taXNlID0gbmV3UHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICAgIHN0YXJ0UHJvbWlzZV9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIEluaXRpYWxpemVUcmFuc2Zvcm1TdHJlYW0oXG4gICAgICB0aGlzLCBzdGFydFByb21pc2UsIHdyaXRhYmxlSGlnaFdhdGVyTWFyaywgd3JpdGFibGVTaXplQWxnb3JpdGhtLCByZWFkYWJsZUhpZ2hXYXRlck1hcmssIHJlYWRhYmxlU2l6ZUFsZ29yaXRobVxuICAgICk7XG4gICAgU2V0VXBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckZyb21UcmFuc2Zvcm1lcih0aGlzLCB0cmFuc2Zvcm1lcik7XG5cbiAgICBpZiAodHJhbnNmb3JtZXIuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc3RhcnRQcm9taXNlX3Jlc29sdmUodHJhbnNmb3JtZXIuc3RhcnQodGhpcy5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlcikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFByb21pc2VfcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVhZGFibGUgc2lkZSBvZiB0aGUgdHJhbnNmb3JtIHN0cmVhbS5cbiAgICovXG4gIGdldCByZWFkYWJsZSgpOiBSZWFkYWJsZVN0cmVhbTxPPiB7XG4gICAgaWYgKCFJc1RyYW5zZm9ybVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbigncmVhZGFibGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHdyaXRhYmxlIHNpZGUgb2YgdGhlIHRyYW5zZm9ybSBzdHJlYW0uXG4gICAqL1xuICBnZXQgd3JpdGFibGUoKTogV3JpdGFibGVTdHJlYW08ST4ge1xuICAgIGlmICghSXNUcmFuc2Zvcm1TdHJlYW0odGhpcykpIHtcbiAgICAgIHRocm93IHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ3dyaXRhYmxlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFRyYW5zZm9ybVN0cmVhbS5wcm90b3R5cGUsIHtcbiAgcmVhZGFibGU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICB3cml0YWJsZTogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuaWYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1TdHJlYW0ucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ1RyYW5zZm9ybVN0cmVhbScsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQge1xuICBUcmFuc2Zvcm1lcixcbiAgVHJhbnNmb3JtZXJTdGFydENhbGxiYWNrLFxuICBUcmFuc2Zvcm1lckZsdXNoQ2FsbGJhY2ssXG4gIFRyYW5zZm9ybWVyVHJhbnNmb3JtQ2FsbGJhY2tcbn07XG5cbi8vIFRyYW5zZm9ybSBTdHJlYW0gQWJzdHJhY3QgT3BlcmF0aW9uc1xuXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlVHJhbnNmb3JtU3RyZWFtPEksIE8+KHN0YXJ0QWxnb3JpdGhtOiAoKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUFsZ29yaXRobTogKGNodW5rOiBJKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbHVzaEFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGVIaWdoV2F0ZXJNYXJrID0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGVTaXplQWxnb3JpdGhtOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8ST4gPSAoKSA9PiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkYWJsZUhpZ2hXYXRlck1hcmsgPSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkYWJsZVNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxPPiA9ICgpID0+IDEpIHtcbiAgYXNzZXJ0KElzTm9uTmVnYXRpdmVOdW1iZXIod3JpdGFibGVIaWdoV2F0ZXJNYXJrKSk7XG4gIGFzc2VydChJc05vbk5lZ2F0aXZlTnVtYmVyKHJlYWRhYmxlSGlnaFdhdGVyTWFyaykpO1xuXG4gIGNvbnN0IHN0cmVhbTogVHJhbnNmb3JtU3RyZWFtPEksIE8+ID0gT2JqZWN0LmNyZWF0ZShUcmFuc2Zvcm1TdHJlYW0ucHJvdG90eXBlKTtcblxuICBsZXQgc3RhcnRQcm9taXNlX3Jlc29sdmUhOiAodmFsdWU6IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPikgPT4gdm9pZDtcbiAgY29uc3Qgc3RhcnRQcm9taXNlID0gbmV3UHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcbiAgICBzdGFydFByb21pc2VfcmVzb2x2ZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIEluaXRpYWxpemVUcmFuc2Zvcm1TdHJlYW0oc3RyZWFtLCBzdGFydFByb21pc2UsIHdyaXRhYmxlSGlnaFdhdGVyTWFyaywgd3JpdGFibGVTaXplQWxnb3JpdGhtLCByZWFkYWJsZUhpZ2hXYXRlck1hcmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGFibGVTaXplQWxnb3JpdGhtKTtcblxuICBjb25zdCBjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPiA9IE9iamVjdC5jcmVhdGUoVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlKTtcblxuICBTZXRVcFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHN0cmVhbSwgY29udHJvbGxlciwgdHJhbnNmb3JtQWxnb3JpdGhtLCBmbHVzaEFsZ29yaXRobSk7XG5cbiAgY29uc3Qgc3RhcnRSZXN1bHQgPSBzdGFydEFsZ29yaXRobSgpO1xuICBzdGFydFByb21pc2VfcmVzb2x2ZShzdGFydFJlc3VsdCk7XG4gIHJldHVybiBzdHJlYW07XG59XG5cbmZ1bmN0aW9uIEluaXRpYWxpemVUcmFuc2Zvcm1TdHJlYW08SSwgTz4oc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW08SSwgTz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UHJvbWlzZTogUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGVIaWdoV2F0ZXJNYXJrOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlU2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPEk+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkYWJsZUhpZ2hXYXRlck1hcms6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGFibGVTaXplQWxnb3JpdGhtOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8Tz4pIHtcbiAgZnVuY3Rpb24gc3RhcnRBbGdvcml0aG0oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHN0YXJ0UHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlQWxnb3JpdGhtKGNodW5rOiBJKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTaW5rV3JpdGVBbGdvcml0aG0oc3RyZWFtLCBjaHVuayk7XG4gIH1cblxuICBmdW5jdGlvbiBhYm9ydEFsZ29yaXRobShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0U2lua0Fib3J0QWxnb3JpdGhtKHN0cmVhbSwgcmVhc29uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlQWxnb3JpdGhtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0U2lua0Nsb3NlQWxnb3JpdGhtKHN0cmVhbSk7XG4gIH1cblxuICBzdHJlYW0uX3dyaXRhYmxlID0gQ3JlYXRlV3JpdGFibGVTdHJlYW0oc3RhcnRBbGdvcml0aG0sIHdyaXRlQWxnb3JpdGhtLCBjbG9zZUFsZ29yaXRobSwgYWJvcnRBbGdvcml0aG0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZUhpZ2hXYXRlck1hcmssIHdyaXRhYmxlU2l6ZUFsZ29yaXRobSk7XG5cbiAgZnVuY3Rpb24gcHVsbEFsZ29yaXRobSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdFNvdXJjZVB1bGxBbGdvcml0aG0oc3RyZWFtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbEFsZ29yaXRobShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFRyYW5zZm9ybVN0cmVhbUVycm9yV3JpdGFibGVBbmRVbmJsb2NrV3JpdGUoc3RyZWFtLCByZWFzb24pO1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cblxuICBzdHJlYW0uX3JlYWRhYmxlID0gQ3JlYXRlUmVhZGFibGVTdHJlYW0oc3RhcnRBbGdvcml0aG0sIHB1bGxBbGdvcml0aG0sIGNhbmNlbEFsZ29yaXRobSwgcmVhZGFibGVIaWdoV2F0ZXJNYXJrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGFibGVTaXplQWxnb3JpdGhtKTtcblxuICAvLyBUaGUgW1tiYWNrcHJlc3N1cmVdXSBzbG90IGlzIHNldCB0byB1bmRlZmluZWQgc28gdGhhdCBpdCBjYW4gYmUgaW5pdGlhbGlzZWQgYnkgVHJhbnNmb3JtU3RyZWFtU2V0QmFja3ByZXNzdXJlLlxuICBzdHJlYW0uX2JhY2twcmVzc3VyZSA9IHVuZGVmaW5lZCE7XG4gIHN0cmVhbS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZSA9IHVuZGVmaW5lZCE7XG4gIHN0cmVhbS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZV9yZXNvbHZlID0gdW5kZWZpbmVkITtcbiAgVHJhbnNmb3JtU3RyZWFtU2V0QmFja3ByZXNzdXJlKHN0cmVhbSwgdHJ1ZSk7XG5cbiAgc3RyZWFtLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyID0gdW5kZWZpbmVkITtcbn1cblxuZnVuY3Rpb24gSXNUcmFuc2Zvcm1TdHJlYW0oeDogdW5rbm93bik6IHggaXMgVHJhbnNmb3JtU3RyZWFtIHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXInKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgVHJhbnNmb3JtU3RyZWFtO1xufVxuXG4vLyBUaGlzIGlzIGEgbm8tb3AgaWYgYm90aCBzaWRlcyBhcmUgYWxyZWFkeSBlcnJvcmVkLlxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRXJyb3Ioc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW0sIGU6IGFueSkge1xuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoXG4gICAgc3RyZWFtLl9yZWFkYWJsZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55PixcbiAgICBlXG4gICk7XG4gIFRyYW5zZm9ybVN0cmVhbUVycm9yV3JpdGFibGVBbmRVbmJsb2NrV3JpdGUoc3RyZWFtLCBlKTtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRXJyb3JXcml0YWJsZUFuZFVuYmxvY2tXcml0ZShzdHJlYW06IFRyYW5zZm9ybVN0cmVhbSwgZTogYW55KSB7XG4gIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKHN0cmVhbS5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlcik7XG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcklmTmVlZGVkKHN0cmVhbS5fd3JpdGFibGUuX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlciwgZSk7XG4gIGlmIChzdHJlYW0uX2JhY2twcmVzc3VyZSkge1xuICAgIC8vIFByZXRlbmQgdGhhdCBwdWxsKCkgd2FzIGNhbGxlZCB0byBwZXJtaXQgYW55IHBlbmRpbmcgd3JpdGUoKSBjYWxscyB0byBjb21wbGV0ZS4gVHJhbnNmb3JtU3RyZWFtU2V0QmFja3ByZXNzdXJlKClcbiAgICAvLyBjYW5ub3QgYmUgY2FsbGVkIGZyb20gZW5xdWV1ZSgpIG9yIHB1bGwoKSBvbmNlIHRoZSBSZWFkYWJsZVN0cmVhbSBpcyBlcnJvcmVkLCBzbyB0aGlzIHdpbGwgd2lsbCBiZSB0aGUgZmluYWwgdGltZVxuICAgIC8vIF9iYWNrcHJlc3N1cmUgaXMgc2V0LlxuICAgIFRyYW5zZm9ybVN0cmVhbVNldEJhY2twcmVzc3VyZShzdHJlYW0sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1TZXRCYWNrcHJlc3N1cmUoc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW0sIGJhY2twcmVzc3VyZTogYm9vbGVhbikge1xuICAvLyBQYXNzZXMgYWxzbyB3aGVuIGNhbGxlZCBkdXJpbmcgY29uc3RydWN0aW9uLlxuICBhc3NlcnQoc3RyZWFtLl9iYWNrcHJlc3N1cmUgIT09IGJhY2twcmVzc3VyZSk7XG5cbiAgaWYgKHN0cmVhbS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlX3Jlc29sdmUoKTtcbiAgfVxuXG4gIHN0cmVhbS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZSA9IG5ld1Byb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlX3Jlc29sdmUgPSByZXNvbHZlO1xuICB9KTtcblxuICBzdHJlYW0uX2JhY2twcmVzc3VyZSA9IGJhY2twcmVzc3VyZTtcbn1cblxuLy8gQ2xhc3MgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJcblxuLyoqXG4gKiBBbGxvd3MgY29udHJvbCBvZiB0aGUge0BsaW5rIFJlYWRhYmxlU3RyZWFtfSBhbmQge0BsaW5rIFdyaXRhYmxlU3RyZWFtfSBvZiB0aGUgYXNzb2NpYXRlZCB7QGxpbmsgVHJhbnNmb3JtU3RyZWFtfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPiB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2NvbnRyb2xsZWRUcmFuc2Zvcm1TdHJlYW06IFRyYW5zZm9ybVN0cmVhbTxhbnksIE8+O1xuICAvKiogQGludGVybmFsICovXG4gIF90cmFuc2Zvcm1BbGdvcml0aG06IChjaHVuazogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9mbHVzaEFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0lsbGVnYWwgY29uc3RydWN0b3InKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZXNpcmVkIHNpemUgdG8gZmlsbCB0aGUgcmVhZGFibGUgc2lkZeKAmXMgaW50ZXJuYWwgcXVldWUuIEl0IGNhbiBiZSBuZWdhdGl2ZSwgaWYgdGhlIHF1ZXVlIGlzIG92ZXItZnVsbC5cbiAgICovXG4gIGdldCBkZXNpcmVkU2l6ZSgpOiBudW1iZXIgfCBudWxsIHtcbiAgICBpZiAoIUlzVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignZGVzaXJlZFNpemUnKTtcbiAgICB9XG5cbiAgICBjb25zdCByZWFkYWJsZUNvbnRyb2xsZXIgPSB0aGlzLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtLl9yZWFkYWJsZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyO1xuICAgIHJldHVybiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0RGVzaXJlZFNpemUocmVhZGFibGVDb250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVucXVldWVzIHRoZSBnaXZlbiBjaHVuayBgY2h1bmtgIGluIHRoZSByZWFkYWJsZSBzaWRlIG9mIHRoZSBjb250cm9sbGVkIHRyYW5zZm9ybSBzdHJlYW0uXG4gICAqL1xuICBlbnF1ZXVlKGNodW5rOiBPKTogdm9pZDtcbiAgZW5xdWV1ZShjaHVuazogTyA9IHVuZGVmaW5lZCEpOiB2b2lkIHtcbiAgICBpZiAoIUlzVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignZW5xdWV1ZScpO1xuICAgIH1cblxuICAgIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyRW5xdWV1ZSh0aGlzLCBjaHVuayk7XG4gIH1cblxuICAvKipcbiAgICogRXJyb3JzIGJvdGggdGhlIHJlYWRhYmxlIHNpZGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlIG9mIHRoZSBjb250cm9sbGVkIHRyYW5zZm9ybSBzdHJlYW0sIG1ha2luZyBhbGwgZnV0dXJlXG4gICAqIGludGVyYWN0aW9ucyB3aXRoIGl0IGZhaWwgd2l0aCB0aGUgZ2l2ZW4gZXJyb3IgYGVgLiBBbnkgY2h1bmtzIHF1ZXVlZCBmb3IgdHJhbnNmb3JtYXRpb24gd2lsbCBiZSBkaXNjYXJkZWQuXG4gICAqL1xuICBlcnJvcihyZWFzb246IGFueSA9IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICghSXNUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdlcnJvcicpO1xuICAgIH1cblxuICAgIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IodGhpcywgcmVhc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHJlYWRhYmxlIHNpZGUgYW5kIGVycm9ycyB0aGUgd3JpdGFibGUgc2lkZSBvZiB0aGUgY29udHJvbGxlZCB0cmFuc2Zvcm0gc3RyZWFtLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRoZVxuICAgKiB0cmFuc2Zvcm1lciBvbmx5IG5lZWRzIHRvIGNvbnN1bWUgYSBwb3J0aW9uIG9mIHRoZSBjaHVua3Mgd3JpdHRlbiB0byB0aGUgd3JpdGFibGUgc2lkZS5cbiAgICovXG4gIHRlcm1pbmF0ZSgpOiB2b2lkIHtcbiAgICBpZiAoIUlzVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbigndGVybWluYXRlJyk7XG4gICAgfVxuXG4gICAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJUZXJtaW5hdGUodGhpcyk7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLCB7XG4gIGVucXVldWU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBlcnJvcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHRlcm1pbmF0ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGRlc2lyZWRTaXplOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcicsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBUcmFuc2Zvcm0gU3RyZWFtIERlZmF1bHQgQ29udHJvbGxlciBBYnN0cmFjdCBPcGVyYXRpb25zXG5cbmZ1bmN0aW9uIElzVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8TyA9IGFueT4oeDogYW55KTogeCBpcyBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPiB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyO1xufVxuXG5mdW5jdGlvbiBTZXRVcFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPEksIE8+KHN0cmVhbTogVHJhbnNmb3JtU3RyZWFtPEksIE8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtQWxnb3JpdGhtOiAoY2h1bms6IEkpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XG4gIGFzc2VydChJc1RyYW5zZm9ybVN0cmVhbShzdHJlYW0pKTtcbiAgYXNzZXJ0KHN0cmVhbS5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlciA9PT0gdW5kZWZpbmVkKTtcblxuICBjb250cm9sbGVyLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtID0gc3RyZWFtO1xuICBzdHJlYW0uX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuXG4gIGNvbnRyb2xsZXIuX3RyYW5zZm9ybUFsZ29yaXRobSA9IHRyYW5zZm9ybUFsZ29yaXRobTtcbiAgY29udHJvbGxlci5fZmx1c2hBbGdvcml0aG0gPSBmbHVzaEFsZ29yaXRobTtcbn1cblxuZnVuY3Rpb24gU2V0VXBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckZyb21UcmFuc2Zvcm1lcjxJLCBPPihzdHJlYW06IFRyYW5zZm9ybVN0cmVhbTxJLCBPPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtZXI6IFZhbGlkYXRlZFRyYW5zZm9ybWVyPEksIE8+KSB7XG4gIGNvbnN0IGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+ID0gT2JqZWN0LmNyZWF0ZShUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUpO1xuXG4gIGxldCB0cmFuc2Zvcm1BbGdvcml0aG0gPSAoY2h1bms6IEkpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKGNvbnRyb2xsZXIsIGNodW5rIGFzIHVua25vd24gYXMgTyk7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICAgIH0gY2F0Y2ggKHRyYW5zZm9ybVJlc3VsdEUpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHRyYW5zZm9ybVJlc3VsdEUpO1xuICAgIH1cbiAgfTtcblxuICBsZXQgZmx1c2hBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG5cbiAgaWYgKHRyYW5zZm9ybWVyLnRyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdHJhbnNmb3JtQWxnb3JpdGhtID0gY2h1bmsgPT4gdHJhbnNmb3JtZXIudHJhbnNmb3JtIShjaHVuaywgY29udHJvbGxlcik7XG4gIH1cbiAgaWYgKHRyYW5zZm9ybWVyLmZsdXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICBmbHVzaEFsZ29yaXRobSA9ICgpID0+IHRyYW5zZm9ybWVyLmZsdXNoIShjb250cm9sbGVyKTtcbiAgfVxuXG4gIFNldFVwVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIoc3RyZWFtLCBjb250cm9sbGVyLCB0cmFuc2Zvcm1BbGdvcml0aG0sIGZsdXNoQWxnb3JpdGhtKTtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbGVhckFsZ29yaXRobXMoY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55Pikge1xuICBjb250cm9sbGVyLl90cmFuc2Zvcm1BbGdvcml0aG0gPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9mbHVzaEFsZ29yaXRobSA9IHVuZGVmaW5lZCE7XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyRW5xdWV1ZTxPPihjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPiwgY2h1bms6IE8pIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbTtcbiAgY29uc3QgcmVhZGFibGVDb250cm9sbGVyID0gc3RyZWFtLl9yZWFkYWJsZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz47XG4gIGlmICghUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlKHJlYWRhYmxlQ29udHJvbGxlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWFkYWJsZSBzaWRlIGlzIG5vdCBpbiBhIHN0YXRlIHRoYXQgcGVybWl0cyBlbnF1ZXVlJyk7XG4gIH1cblxuICAvLyBXZSB0aHJvdHRsZSB0cmFuc2Zvcm0gaW52b2NhdGlvbnMgYmFzZWQgb24gdGhlIGJhY2twcmVzc3VyZSBvZiB0aGUgUmVhZGFibGVTdHJlYW0sIGJ1dCB3ZSBzdGlsbFxuICAvLyBhY2NlcHQgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKCkgY2FsbHMuXG5cbiAgdHJ5IHtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRW5xdWV1ZShyZWFkYWJsZUNvbnRyb2xsZXIsIGNodW5rKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFRoaXMgaGFwcGVucyB3aGVuIHJlYWRhYmxlU3RyYXRlZ3kuc2l6ZSgpIHRocm93cy5cbiAgICBUcmFuc2Zvcm1TdHJlYW1FcnJvcldyaXRhYmxlQW5kVW5ibG9ja1dyaXRlKHN0cmVhbSwgZSk7XG5cbiAgICB0aHJvdyBzdHJlYW0uX3JlYWRhYmxlLl9zdG9yZWRFcnJvcjtcbiAgfVxuXG4gIGNvbnN0IGJhY2twcmVzc3VyZSA9IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJIYXNCYWNrcHJlc3N1cmUocmVhZGFibGVDb250cm9sbGVyKTtcbiAgaWYgKGJhY2twcmVzc3VyZSAhPT0gc3RyZWFtLl9iYWNrcHJlc3N1cmUpIHtcbiAgICBhc3NlcnQoYmFja3ByZXNzdXJlKTtcbiAgICBUcmFuc2Zvcm1TdHJlYW1TZXRCYWNrcHJlc3N1cmUoc3RyZWFtLCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4sIGU6IGFueSkge1xuICBUcmFuc2Zvcm1TdHJlYW1FcnJvcihjb250cm9sbGVyLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtLCBlKTtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJQZXJmb3JtVHJhbnNmb3JtPEksIE8+KGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiBJKSB7XG4gIGNvbnN0IHRyYW5zZm9ybVByb21pc2UgPSBjb250cm9sbGVyLl90cmFuc2Zvcm1BbGdvcml0aG0oY2h1bmspO1xuICByZXR1cm4gdHJhbnNmb3JtUHJvbWlzZVdpdGgodHJhbnNmb3JtUHJvbWlzZSwgdW5kZWZpbmVkLCByID0+IHtcbiAgICBUcmFuc2Zvcm1TdHJlYW1FcnJvcihjb250cm9sbGVyLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtLCByKTtcbiAgICB0aHJvdyByO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJUZXJtaW5hdGU8Tz4oY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4pIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbTtcbiAgY29uc3QgcmVhZGFibGVDb250cm9sbGVyID0gc3RyZWFtLl9yZWFkYWJsZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz47XG5cbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlKHJlYWRhYmxlQ29udHJvbGxlcik7XG5cbiAgY29uc3QgZXJyb3IgPSBuZXcgVHlwZUVycm9yKCdUcmFuc2Zvcm1TdHJlYW0gdGVybWluYXRlZCcpO1xuICBUcmFuc2Zvcm1TdHJlYW1FcnJvcldyaXRhYmxlQW5kVW5ibG9ja1dyaXRlKHN0cmVhbSwgZXJyb3IpO1xufVxuXG4vLyBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0U2luayBBbGdvcml0aG1zXG5cbmZ1bmN0aW9uIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTaW5rV3JpdGVBbGdvcml0aG08SSwgTz4oc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW08SSwgTz4sIGNodW5rOiBJKTogUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydChzdHJlYW0uX3dyaXRhYmxlLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyk7XG5cbiAgY29uc3QgY29udHJvbGxlciA9IHN0cmVhbS5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlcjtcblxuICBpZiAoc3RyZWFtLl9iYWNrcHJlc3N1cmUpIHtcbiAgICBjb25zdCBiYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlID0gc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlO1xuICAgIGFzc2VydChiYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlICE9PSB1bmRlZmluZWQpO1xuICAgIHJldHVybiB0cmFuc2Zvcm1Qcm9taXNlV2l0aChiYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlLCAoKSA9PiB7XG4gICAgICBjb25zdCB3cml0YWJsZSA9IHN0cmVhbS5fd3JpdGFibGU7XG4gICAgICBjb25zdCBzdGF0ZSA9IHdyaXRhYmxlLl9zdGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gJ2Vycm9yaW5nJykge1xuICAgICAgICB0aHJvdyB3cml0YWJsZS5fc3RvcmVkRXJyb3I7XG4gICAgICB9XG4gICAgICBhc3NlcnQoc3RhdGUgPT09ICd3cml0YWJsZScpO1xuICAgICAgcmV0dXJuIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyUGVyZm9ybVRyYW5zZm9ybTxJLCBPPihjb250cm9sbGVyLCBjaHVuayk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJQZXJmb3JtVHJhbnNmb3JtPEksIE8+KGNvbnRyb2xsZXIsIGNodW5rKTtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdFNpbmtBYm9ydEFsZ29yaXRobShzdHJlYW06IFRyYW5zZm9ybVN0cmVhbSwgcmVhc29uOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gYWJvcnQoKSBpcyBub3QgY2FsbGVkIHN5bmNocm9ub3VzbHksIHNvIGl0IGlzIHBvc3NpYmxlIGZvciBhYm9ydCgpIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBzdHJlYW0gaXMgYWxyZWFkeVxuICAvLyBlcnJvcmVkLlxuICBUcmFuc2Zvcm1TdHJlYW1FcnJvcihzdHJlYW0sIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTaW5rQ2xvc2VBbGdvcml0aG08SSwgTz4oc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW08SSwgTz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gc3RyZWFtLl9yZWFkYWJsZSBjYW5ub3QgY2hhbmdlIGFmdGVyIGNvbnN0cnVjdGlvbiwgc28gY2FjaGluZyBpdCBhY3Jvc3MgYSBjYWxsIHRvIHVzZXIgY29kZSBpcyBzYWZlLlxuICBjb25zdCByZWFkYWJsZSA9IHN0cmVhbS5fcmVhZGFibGU7XG5cbiAgY29uc3QgY29udHJvbGxlciA9IHN0cmVhbS5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlcjtcbiAgY29uc3QgZmx1c2hQcm9taXNlID0gY29udHJvbGxlci5fZmx1c2hBbGdvcml0aG0oKTtcbiAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbGVhckFsZ29yaXRobXMoY29udHJvbGxlcik7XG5cbiAgLy8gUmV0dXJuIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIHVuZGVmaW5lZCBvbiBzdWNjZXNzLlxuICByZXR1cm4gdHJhbnNmb3JtUHJvbWlzZVdpdGgoZmx1c2hQcm9taXNlLCAoKSA9PiB7XG4gICAgaWYgKHJlYWRhYmxlLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgICB0aHJvdyByZWFkYWJsZS5fc3RvcmVkRXJyb3I7XG4gICAgfVxuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbG9zZShyZWFkYWJsZS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4pO1xuICB9LCByID0+IHtcbiAgICBUcmFuc2Zvcm1TdHJlYW1FcnJvcihzdHJlYW0sIHIpO1xuICAgIHRocm93IHJlYWRhYmxlLl9zdG9yZWRFcnJvcjtcbiAgfSk7XG59XG5cbi8vIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTb3VyY2UgQWxnb3JpdGhtc1xuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0U291cmNlUHVsbEFsZ29yaXRobShzdHJlYW06IFRyYW5zZm9ybVN0cmVhbSk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBJbnZhcmlhbnQuIEVuZm9yY2VkIGJ5IHRoZSBwcm9taXNlcyByZXR1cm5lZCBieSBzdGFydCgpIGFuZCBwdWxsKCkuXG4gIGFzc2VydChzdHJlYW0uX2JhY2twcmVzc3VyZSk7XG5cbiAgYXNzZXJ0KHN0cmVhbS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZSAhPT0gdW5kZWZpbmVkKTtcblxuICBUcmFuc2Zvcm1TdHJlYW1TZXRCYWNrcHJlc3N1cmUoc3RyZWFtLCBmYWxzZSk7XG5cbiAgLy8gUHJldmVudCB0aGUgbmV4dCBwdWxsKCkgY2FsbCB1bnRpbCB0aGVyZSBpcyBiYWNrcHJlc3N1cmUuXG4gIHJldHVybiBzdHJlYW0uX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2U7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5cblxuZnVuY3Rpb24gZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFxuICAgIGBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJgKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFRyYW5zZm9ybVN0cmVhbS5cblxuZnVuY3Rpb24gc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcbiAgICBgVHJhbnNmb3JtU3RyZWFtLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBUcmFuc2Zvcm1TdHJlYW1gKTtcbn1cbiIsImltcG9ydCB7XG4gIEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3ksXG4gIENvdW50UXVldWluZ1N0cmF0ZWd5LFxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICBSZWFkYWJsZVN0cmVhbSxcbiAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsXG4gIFRyYW5zZm9ybVN0cmVhbSxcbiAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFdyaXRhYmxlU3RyZWFtLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJcbn0gZnJvbSAnLi9wb255ZmlsbCc7XG5pbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSAnLi91dGlscyc7XG5cbi8vIEV4cG9ydFxuZXhwb3J0ICogZnJvbSAnLi9wb255ZmlsbCc7XG5cbmNvbnN0IGV4cG9ydHMgPSB7XG4gIFJlYWRhYmxlU3RyZWFtLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcixcblxuICBXcml0YWJsZVN0cmVhbSxcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcixcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLFxuXG4gIEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3ksXG4gIENvdW50UXVldWluZ1N0cmF0ZWd5LFxuXG4gIFRyYW5zZm9ybVN0cmVhbSxcbiAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJcbn07XG5cbi8vIEFkZCBjbGFzc2VzIHRvIGdsb2JhbCBzY29wZVxuaWYgKHR5cGVvZiBnbG9iYWxzICE9PSAndW5kZWZpbmVkJykge1xuICBmb3IgKGNvbnN0IHByb3AgaW4gZXhwb3J0cykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcHJvcCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxzLCBwcm9wLCB7XG4gICAgICAgIHZhbHVlOiBleHBvcnRzW3Byb3AgYXMgKGtleW9mIHR5cGVvZiBleHBvcnRzKV0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbInQiLCJTeW1ib2wiLCJpdGVyYXRvciIsImUiLCJyIiwibyIsInNlbGYiLCJ3aW5kb3ciLCJnbG9iYWwiLCJuIiwiYSIsImkiLCJQcm9taXNlIiwibCIsInByb3RvdHlwZSIsInRoZW4iLCJzIiwicmVzb2x2ZSIsImJpbmQiLCJ1IiwicmVqZWN0IiwiYyIsImQiLCJmIiwiYiIsImNhbGwiLCJoIiwiXyIsIm0iLCJwIiwieSIsImciLCJxdWV1ZU1pY3JvdGFzayIsIlMiLCJUeXBlRXJyb3IiLCJGdW5jdGlvbiIsImFwcGx5IiwidiIsInciLCJjb25zdHJ1Y3RvciIsIl9jdXJzb3IiLCJfc2l6ZSIsIl9mcm9udCIsIl9lbGVtZW50cyIsIl9uZXh0IiwiX2JhY2siLCJsZW5ndGgiLCJwdXNoIiwic2hpZnQiLCJmb3JFYWNoIiwicGVlayIsIlIiLCJfb3duZXJSZWFkYWJsZVN0cmVhbSIsIl9yZWFkZXIiLCJfc3RhdGUiLCJxIiwiTyIsIkUiLCJfc3RvcmVkRXJyb3IiLCJUIiwiYnIiLCJDIiwiVyIsIlAiLCJfY2xvc2VkUHJvbWlzZSIsIl9jbG9zZWRQcm9taXNlX3Jlc29sdmUiLCJfY2xvc2VkUHJvbWlzZV9yZWplY3QiLCJCIiwiayIsImoiLCJBIiwieiIsIk51bWJlciIsImlzRmluaXRlIiwiRCIsIk1hdGgiLCJ0cnVuYyIsImNlaWwiLCJmbG9vciIsIkwiLCJGIiwiSSIsIiQiLCJNIiwiUSIsIlkiLCJ4IiwiTUFYX1NBRkVfSU5URUdFUiIsIk4iLCJkciIsIkgiLCJSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIiLCJWIiwiX3JlYWRSZXF1ZXN0cyIsIlUiLCJfY2xvc2VTdGVwcyIsIl9jaHVua1N0ZXBzIiwiRyIsIlgiLCJKIiwiZnIiLCJjbG9zZWQiLCJaIiwiY2FuY2VsIiwicmVhZCIsIksiLCJ2YWx1ZSIsImRvbmUiLCJfZXJyb3JTdGVwcyIsInJlbGVhc2VMb2NrIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJfZGlzdHVyYmVkIiwiX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciIsImRlZmluZVByb3BlcnRpZXMiLCJlbnVtZXJhYmxlIiwidG9TdHJpbmdUYWciLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVlIiwiZ2V0UHJvdG90eXBlT2YiLCJ0ZSIsIl9vbmdvaW5nUHJvbWlzZSIsIl9pc0ZpbmlzaGVkIiwiX3ByZXZlbnRDYW5jZWwiLCJuZXh0IiwibmV4dFN0ZXBzIiwiX25leHRTdGVwcyIsInJldHVybiIsInJldHVyblN0ZXBzIiwiX3JldHVyblN0ZXBzIiwicmUiLCJvZSIsIl9hc3luY0l0ZXJhdG9ySW1wbCIsIm5lIiwic2V0UHJvdG90eXBlT2YiLCJhZSIsImlzTmFOIiwiaWUiLCJzbGljZSIsImxlIiwiVWludDhBcnJheSIsInNldCIsInNlIiwiQXJyYXlCdWZmZXIiLCJ1ZSIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiY2UiLCJfcXVldWUiLCJfcXVldWVUb3RhbFNpemUiLCJzaXplIiwiZGUiLCJSYW5nZUVycm9yIiwiZmUiLCJSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0IiwidmlldyIsImhlIiwiRGUiLCJfdmlldyIsInJlc3BvbmQiLCJfYXNzb2NpYXRlZFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIiLCJqZSIsInJlc3BvbmRXaXRoTmV3VmlldyIsImlzVmlldyIsIkFlIiwiUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciIsImJ5b2JSZXF1ZXN0IiwiYmUiLCJMZSIsIkJlIiwiZGVzaXJlZFNpemUiLCJrZSIsImNsb3NlIiwiX2Nsb3NlUmVxdWVzdGVkIiwiX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0iLCJFZSIsImVucXVldWUiLCJXZSIsImVycm9yIiwiT2UiLCJtZSIsIl9jYW5jZWxBbGdvcml0aG0iLCJxZSIsIndlIiwiX2F1dG9BbGxvY2F0ZUNodW5rU2l6ZSIsImJ1ZmZlckJ5dGVMZW5ndGgiLCJieXRlc0ZpbGxlZCIsImVsZW1lbnRTaXplIiwidmlld0NvbnN0cnVjdG9yIiwicmVhZGVyVHlwZSIsIl9wZW5kaW5nUHVsbEludG9zIiwiX2UiLCJfc3RhcnRlZCIsIk1lIiwiJGUiLCJfcHVsbGluZyIsIl9wdWxsQWdhaW4iLCJfcHVsbEFsZ29yaXRobSIsIlJlIiwicGUiLCJ5ZSIsIl9yZWFkSW50b1JlcXVlc3RzIiwiZ2UiLCJTZSIsIm1pbiIsInZlIiwiaHIiLCJfYnlvYlJlcXVlc3QiLCJUZSIsIlBlIiwiQ2UiLCJfciIsImNyZWF0ZSIsIl9zdHJhdGVneUhXTSIsInplIiwiRmUiLCJSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIiLCJJZSIsIlFlIiwieGUiLCJZZSIsIkRhdGFWaWV3IiwiQllURVNfUEVSX0VMRU1FTlQiLCJOZSIsImhpZ2hXYXRlck1hcmsiLCJIZSIsIlZlIiwiVWUiLCJHZSIsIlhlIiwiSmUiLCJLZSIsIlplIiwib3QiLCJldCIsIkFib3J0Q29udHJvbGxlciIsIldyaXRhYmxlU3RyZWFtIiwiYWJvcnQiLCJzdGFydCIsInR5cGUiLCJ3cml0ZSIsInJ0IiwiV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciIsInN0YXJ0QWxnb3JpdGhtIiwid3JpdGVBbGdvcml0aG0iLCJjbG9zZUFsZ29yaXRobSIsImFib3J0QWxnb3JpdGhtIiwidnQiLCJsb2NrZWQiLCJFdCIsIm50IiwiYXQiLCJjdCIsIml0IiwiZ2V0V3JpdGVyIiwidHQiLCJXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIiLCJfd3JpdGVyIiwiX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlciIsIl93cml0ZVJlcXVlc3RzIiwiX2luRmxpZ2h0V3JpdGVSZXF1ZXN0IiwiX2Nsb3NlUmVxdWVzdCIsIl9pbkZsaWdodENsb3NlUmVxdWVzdCIsIl9wZW5kaW5nQWJvcnRSZXF1ZXN0IiwiX2JhY2twcmVzc3VyZSIsIl9hYm9ydFJlYXNvbiIsIl9hYm9ydENvbnRyb2xsZXIiLCJfcHJvbWlzZSIsIl9yZXNvbHZlIiwiX3JlamVjdCIsIl9yZWFzb24iLCJfd2FzQWxyZWFkeUVycm9yaW5nIiwic3QiLCIkdCIsImd0IiwiVHQiLCJsdCIsInV0IiwibXQiLCJkdCIsIkF0IiwiZnQiLCJEdCIsIl9vd25lcldyaXRhYmxlU3RyZWFtIiwiRnQiLCJrdCIsIkx0IiwienQiLCJqdCIsImJ0IiwiT3QiLCJCdCIsIlJ0IiwicmVhZHkiLCJfcmVhZHlQcm9taXNlIiwiaHQiLCJwdCIsInl0IiwiX3QiLCJfY2xvc2VkUHJvbWlzZVN0YXRlIiwiX3JlYWR5UHJvbWlzZVN0YXRlIiwiSXQiLCJfc3RyYXRlZ3lTaXplQWxnb3JpdGhtIiwiQ3QiLCJfY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtIiwiUHQiLCJhYm9ydFJlYXNvbiIsIlN0IiwiV3QiLCJzaWduYWwiLCJxdCIsIl9hYm9ydEFsZ29yaXRobSIsInd0IiwiX3dyaXRlQWxnb3JpdGhtIiwiX2Nsb3NlQWxnb3JpdGhtIiwiX3JlYWR5UHJvbWlzZV9yZXNvbHZlIiwiX3JlYWR5UHJvbWlzZV9yZWplY3QiLCJNdCIsIkRPTUV4Y2VwdGlvbiIsIlF0IiwiY3RvciIsIm1lc3NhZ2UiLCJuYW1lIiwiRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIndyaXRhYmxlIiwiWXQiLCJhbGwiLCJtYXAiLCJhYm9ydGVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFjdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyIiwieHQiLCJlciIsIkp0IiwiS3QiLCJVdCIsIkd0IiwiWHQiLCJWdCIsIl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW0iLCJOdCIsIkh0IiwiWnQiLCJ0ciIsInVyIiwic3IiLCJyciIsIm9yIiwibnIiLCJhciIsImlyIiwibHIiLCJwcmV2ZW50QWJvcnQiLCJwcmV2ZW50Q2FuY2VsIiwicHJldmVudENsb3NlIiwiQm9vbGVhbiIsIlJlYWRhYmxlU3RyZWFtIiwiYXV0b0FsbG9jYXRlQ2h1bmtTaXplIiwicHVsbCIsImNyIiwicHVsbEFsZ29yaXRobSIsImNhbmNlbEFsZ29yaXRobSIsIm1yIiwiZ2V0UmVhZGVyIiwibW9kZSIsInBpcGVUaHJvdWdoIiwicmVhZGFibGUiLCJwaXBlVG8iLCJ0ZWUiLCJ2YWx1ZXMiLCJzaXplQWxnb3JpdGhtIiwicHIiLCJhc3luY0l0ZXJhdG9yIiwieXIiLCJCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5IiwiX2J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrIiwiU3IiLCJnciIsInZyIiwiY291bnRTaXplRnVuY3Rpb24iLCJDb3VudFF1ZXVpbmdTdHJhdGVneSIsIl9jb3VudFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcmsiLCJSciIsIndyIiwiVHIiLCJDciIsIlByIiwiVHJhbnNmb3JtU3RyZWFtIiwiZmx1c2giLCJyZWFkYWJsZVR5cGUiLCJ0cmFuc2Zvcm0iLCJ3cml0YWJsZVR5cGUiLCJfdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlciIsIl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlIiwiX3dyaXRhYmxlIiwiQXIiLCJFciIsIl9yZWFkYWJsZSIsIl9mbHVzaEFsZ29yaXRobSIsImtyIiwiT3IiLCJXciIsIl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlX3Jlc29sdmUiLCJUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlciIsImpyIiwiZmx1c2hBbGdvcml0aG0iLCJfY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbSIsIl90cmFuc2Zvcm1BbGdvcml0aG0iLCJxciIsIkRyIiwiQnIiLCJ6ciIsInRlcm1pbmF0ZSIsIkxyIl0sInNvdXJjZVJvb3QiOiIifQ==