exports.id = "vendors-node_modules_web-streams-polyfill_dist_polyfill_es2018_min_js";
exports.ids = ["vendors-node_modules_web-streams-polyfill_dist_polyfill_es2018_min_js"];
exports.modules = {

/***/ "./node_modules/web-streams-polyfill/dist/polyfill.es2018.min.js":
/*!***********************************************************************!*\
  !*** ./node_modules/web-streams-polyfill/dist/polyfill.es2018.min.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function (e, t) {
   true ? t(exports) : 0;
}(this, function (e) {
  "use strict";

  const t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? Symbol : e => `Symbol(${e})`;
  function r() {}
  const o = "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : void 0;
  function n(e) {
    return "object" == typeof e && null !== e || "function" == typeof e;
  }
  const a = r,
    i = Promise,
    l = Promise.prototype.then,
    s = Promise.resolve.bind(i),
    u = Promise.reject.bind(i);
  function c(e) {
    return new i(e);
  }
  function d(e) {
    return s(e);
  }
  function f(e) {
    return u(e);
  }
  function b(e, t, r) {
    return l.call(e, t, r);
  }
  function h(e, t, r) {
    b(b(e, t, r), void 0, a);
  }
  function _(e, t) {
    h(e, t);
  }
  function m(e, t) {
    h(e, void 0, t);
  }
  function p(e, t, r) {
    return b(e, t, r);
  }
  function y(e) {
    b(e, void 0, a);
  }
  const g = (() => {
    const e = o && o.queueMicrotask;
    if ("function" == typeof e) return e;
    const t = d(void 0);
    return e => b(t, e);
  })();
  function S(e, t, r) {
    if ("function" != typeof e) throw new TypeError("Argument is not a function");
    return Function.prototype.apply.call(e, t, r);
  }
  function v(e, t, r) {
    try {
      return d(S(e, t, r));
    } catch (e) {
      return f(e);
    }
  }
  class w {
    constructor() {
      this._cursor = 0, this._size = 0, this._front = {
        _elements: [],
        _next: void 0
      }, this._back = this._front, this._cursor = 0, this._size = 0;
    }
    get length() {
      return this._size;
    }
    push(e) {
      const t = this._back;
      let r = t;
      16383 === t._elements.length && (r = {
        _elements: [],
        _next: void 0
      }), t._elements.push(e), r !== t && (this._back = r, t._next = r), ++this._size;
    }
    shift() {
      const e = this._front;
      let t = e;
      const r = this._cursor;
      let o = r + 1;
      const n = e._elements,
        a = n[r];
      return 16384 === o && (t = e._next, o = 0), --this._size, this._cursor = o, e !== t && (this._front = t), n[r] = void 0, a;
    }
    forEach(e) {
      let t = this._cursor,
        r = this._front,
        o = r._elements;
      for (; !(t === o.length && void 0 === r._next || t === o.length && (r = r._next, o = r._elements, t = 0, 0 === o.length));) e(o[t]), ++t;
    }
    peek() {
      const e = this._front,
        t = this._cursor;
      return e._elements[t];
    }
  }
  function R(e, t) {
    e._ownerReadableStream = t, t._reader = e, "readable" === t._state ? q(e) : "closed" === t._state ? function (e) {
      q(e), O(e);
    }(e) : E(e, t._storedError);
  }
  function T(e, t) {
    return br(e._ownerReadableStream, t);
  }
  function C(e) {
    "readable" === e._ownerReadableStream._state ? W(e, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")) : function (e, t) {
      E(e, t);
    }(e, new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")), e._ownerReadableStream._reader = void 0, e._ownerReadableStream = void 0;
  }
  function P(e) {
    return new TypeError("Cannot " + e + " a stream using a released reader");
  }
  function q(e) {
    e._closedPromise = c((t, r) => {
      e._closedPromise_resolve = t, e._closedPromise_reject = r;
    });
  }
  function E(e, t) {
    q(e), W(e, t);
  }
  function W(e, t) {
    void 0 !== e._closedPromise_reject && (y(e._closedPromise), e._closedPromise_reject(t), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0);
  }
  function O(e) {
    void 0 !== e._closedPromise_resolve && (e._closedPromise_resolve(void 0), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0);
  }
  const B = t("[[AbortSteps]]"),
    k = t("[[ErrorSteps]]"),
    j = t("[[CancelSteps]]"),
    A = t("[[PullSteps]]"),
    z = Number.isFinite || function (e) {
      return "number" == typeof e && isFinite(e);
    },
    D = Math.trunc || function (e) {
      return e < 0 ? Math.ceil(e) : Math.floor(e);
    };
  function L(e, t) {
    if (void 0 !== e && "object" != typeof (r = e) && "function" != typeof r) throw new TypeError(`${t} is not an object.`);
    var r;
  }
  function F(e, t) {
    if ("function" != typeof e) throw new TypeError(`${t} is not a function.`);
  }
  function I(e, t) {
    if (!function (e) {
      return "object" == typeof e && null !== e || "function" == typeof e;
    }(e)) throw new TypeError(`${t} is not an object.`);
  }
  function $(e, t, r) {
    if (void 0 === e) throw new TypeError(`Parameter ${t} is required in '${r}'.`);
  }
  function M(e, t, r) {
    if (void 0 === e) throw new TypeError(`${t} is required in '${r}'.`);
  }
  function Q(e) {
    return Number(e);
  }
  function Y(e) {
    return 0 === e ? 0 : e;
  }
  function x(e, t) {
    const r = Number.MAX_SAFE_INTEGER;
    let o = Number(e);
    if (o = Y(o), !z(o)) throw new TypeError(`${t} is not a finite number`);
    if (o = function (e) {
      return Y(D(e));
    }(o), o < 0 || o > r) throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);
    return z(o) && 0 !== o ? o : 0;
  }
  function N(e, t) {
    if (!dr(e)) throw new TypeError(`${t} is not a ReadableStream.`);
  }
  function H(e) {
    return new ReadableStreamDefaultReader(e);
  }
  function V(e, t) {
    e._reader._readRequests.push(t);
  }
  function U(e, t, r) {
    const o = e._reader._readRequests.shift();
    r ? o._closeSteps() : o._chunkSteps(t);
  }
  function G(e) {
    return e._reader._readRequests.length;
  }
  function X(e) {
    const t = e._reader;
    return void 0 !== t && !!J(t);
  }
  class ReadableStreamDefaultReader {
    constructor(e) {
      if ($(e, 1, "ReadableStreamDefaultReader"), N(e, "First parameter"), fr(e)) throw new TypeError("This stream has already been locked for exclusive reading by another reader");
      R(this, e), this._readRequests = new w();
    }
    get closed() {
      return J(this) ? this._closedPromise : f(Z("closed"));
    }
    cancel(e) {
      return J(this) ? void 0 === this._ownerReadableStream ? f(P("cancel")) : T(this, e) : f(Z("cancel"));
    }
    read() {
      if (!J(this)) return f(Z("read"));
      if (void 0 === this._ownerReadableStream) return f(P("read from"));
      let e, t;
      const r = c((r, o) => {
        e = r, t = o;
      });
      return K(this, {
        _chunkSteps: t => e({
          value: t,
          done: !1
        }),
        _closeSteps: () => e({
          value: void 0,
          done: !0
        }),
        _errorSteps: e => t(e)
      }), r;
    }
    releaseLock() {
      if (!J(this)) throw Z("releaseLock");
      if (void 0 !== this._ownerReadableStream) {
        if (this._readRequests.length > 0) throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
        C(this);
      }
    }
  }
  function J(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_readRequests") && e instanceof ReadableStreamDefaultReader;
  }
  function K(e, t) {
    const r = e._ownerReadableStream;
    r._disturbed = !0, "closed" === r._state ? t._closeSteps() : "errored" === r._state ? t._errorSteps(r._storedError) : r._readableStreamController[A](t);
  }
  function Z(e) {
    return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`);
  }
  Object.defineProperties(ReadableStreamDefaultReader.prototype, {
    cancel: {
      enumerable: !0
    },
    read: {
      enumerable: !0
    },
    releaseLock: {
      enumerable: !0
    },
    closed: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamDefaultReader.prototype, t.toStringTag, {
    value: "ReadableStreamDefaultReader",
    configurable: !0
  });
  const ee = Object.getPrototypeOf(Object.getPrototypeOf(async function* () {}).prototype);
  class te {
    constructor(e, t) {
      this._ongoingPromise = void 0, this._isFinished = !1, this._reader = e, this._preventCancel = t;
    }
    next() {
      const e = () => this._nextSteps();
      return this._ongoingPromise = this._ongoingPromise ? p(this._ongoingPromise, e, e) : e(), this._ongoingPromise;
    }
    return(e) {
      const t = () => this._returnSteps(e);
      return this._ongoingPromise ? p(this._ongoingPromise, t, t) : t();
    }
    _nextSteps() {
      if (this._isFinished) return Promise.resolve({
        value: void 0,
        done: !0
      });
      const e = this._reader;
      if (void 0 === e._ownerReadableStream) return f(P("iterate"));
      let t, r;
      const o = c((e, o) => {
        t = e, r = o;
      });
      return K(e, {
        _chunkSteps: e => {
          this._ongoingPromise = void 0, g(() => t({
            value: e,
            done: !1
          }));
        },
        _closeSteps: () => {
          this._ongoingPromise = void 0, this._isFinished = !0, C(e), t({
            value: void 0,
            done: !0
          });
        },
        _errorSteps: t => {
          this._ongoingPromise = void 0, this._isFinished = !0, C(e), r(t);
        }
      }), o;
    }
    _returnSteps(e) {
      if (this._isFinished) return Promise.resolve({
        value: e,
        done: !0
      });
      this._isFinished = !0;
      const t = this._reader;
      if (void 0 === t._ownerReadableStream) return f(P("finish iterating"));
      if (!this._preventCancel) {
        const r = T(t, e);
        return C(t), p(r, () => ({
          value: e,
          done: !0
        }));
      }
      return C(t), d({
        value: e,
        done: !0
      });
    }
  }
  const re = {
    next() {
      return oe(this) ? this._asyncIteratorImpl.next() : f(ne("next"));
    },
    return(e) {
      return oe(this) ? this._asyncIteratorImpl.return(e) : f(ne("return"));
    }
  };
  function oe(e) {
    if (!n(e)) return !1;
    if (!Object.prototype.hasOwnProperty.call(e, "_asyncIteratorImpl")) return !1;
    try {
      return e._asyncIteratorImpl instanceof te;
    } catch (e) {
      return !1;
    }
  }
  function ne(e) {
    return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`);
  }
  void 0 !== ee && Object.setPrototypeOf(re, ee);
  const ae = Number.isNaN || function (e) {
    return e != e;
  };
  function ie(e) {
    return e.slice();
  }
  function le(e, t, r, o, n) {
    new Uint8Array(e).set(new Uint8Array(r, o, n), t);
  }
  function se(e, t, r) {
    if (e.slice) return e.slice(t, r);
    const o = r - t,
      n = new ArrayBuffer(o);
    return le(n, 0, e, t, o), n;
  }
  function ue(e) {
    const t = se(e.buffer, e.byteOffset, e.byteOffset + e.byteLength);
    return new Uint8Array(t);
  }
  function ce(e) {
    const t = e._queue.shift();
    return e._queueTotalSize -= t.size, e._queueTotalSize < 0 && (e._queueTotalSize = 0), t.value;
  }
  function de(e, t, r) {
    if ("number" != typeof (o = r) || ae(o) || o < 0 || r === 1 / 0) throw new RangeError("Size must be a finite, non-NaN, non-negative number.");
    var o;
    e._queue.push({
      value: t,
      size: r
    }), e._queueTotalSize += r;
  }
  function fe(e) {
    e._queue = new w(), e._queueTotalSize = 0;
  }
  class ReadableStreamBYOBRequest {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get view() {
      if (!he(this)) throw De("view");
      return this._view;
    }
    respond(e) {
      if (!he(this)) throw De("respond");
      if ($(e, 1, "respond"), e = x(e, "First parameter"), void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated");
      this._view.buffer, je(this._associatedReadableByteStreamController, e);
    }
    respondWithNewView(e) {
      if (!he(this)) throw De("respondWithNewView");
      if ($(e, 1, "respondWithNewView"), !ArrayBuffer.isView(e)) throw new TypeError("You can only respond with array buffer views");
      if (void 0 === this._associatedReadableByteStreamController) throw new TypeError("This BYOB request has been invalidated");
      e.buffer, Ae(this._associatedReadableByteStreamController, e);
    }
  }
  Object.defineProperties(ReadableStreamBYOBRequest.prototype, {
    respond: {
      enumerable: !0
    },
    respondWithNewView: {
      enumerable: !0
    },
    view: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamBYOBRequest.prototype, t.toStringTag, {
    value: "ReadableStreamBYOBRequest",
    configurable: !0
  });
  class ReadableByteStreamController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get byobRequest() {
      if (!be(this)) throw Le("byobRequest");
      return Be(this);
    }
    get desiredSize() {
      if (!be(this)) throw Le("desiredSize");
      return ke(this);
    }
    close() {
      if (!be(this)) throw Le("close");
      if (this._closeRequested) throw new TypeError("The stream has already been closed; do not close it again!");
      const e = this._controlledReadableByteStream._state;
      if ("readable" !== e) throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);
      Ee(this);
    }
    enqueue(e) {
      if (!be(this)) throw Le("enqueue");
      if ($(e, 1, "enqueue"), !ArrayBuffer.isView(e)) throw new TypeError("chunk must be an array buffer view");
      if (0 === e.byteLength) throw new TypeError("chunk must have non-zero byteLength");
      if (0 === e.buffer.byteLength) throw new TypeError("chunk's buffer must have non-zero byteLength");
      if (this._closeRequested) throw new TypeError("stream is closed or draining");
      const t = this._controlledReadableByteStream._state;
      if ("readable" !== t) throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);
      We(this, e);
    }
    error(e) {
      if (!be(this)) throw Le("error");
      Oe(this, e);
    }
    [j](e) {
      me(this), fe(this);
      const t = this._cancelAlgorithm(e);
      return qe(this), t;
    }
    [A](e) {
      const t = this._controlledReadableByteStream;
      if (this._queueTotalSize > 0) {
        const t = this._queue.shift();
        this._queueTotalSize -= t.byteLength, we(this);
        const r = new Uint8Array(t.buffer, t.byteOffset, t.byteLength);
        return void e._chunkSteps(r);
      }
      const r = this._autoAllocateChunkSize;
      if (void 0 !== r) {
        let t;
        try {
          t = new ArrayBuffer(r);
        } catch (t) {
          return void e._errorSteps(t);
        }
        const o = {
          buffer: t,
          bufferByteLength: r,
          byteOffset: 0,
          byteLength: r,
          bytesFilled: 0,
          elementSize: 1,
          viewConstructor: Uint8Array,
          readerType: "default"
        };
        this._pendingPullIntos.push(o);
      }
      V(t, e), _e(this);
    }
  }
  function be(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledReadableByteStream") && e instanceof ReadableByteStreamController;
  }
  function he(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_associatedReadableByteStreamController") && e instanceof ReadableStreamBYOBRequest;
  }
  function _e(e) {
    if (!function (e) {
      const t = e._controlledReadableByteStream;
      if ("readable" !== t._state) return !1;
      if (e._closeRequested) return !1;
      if (!e._started) return !1;
      if (X(t) && G(t) > 0) return !0;
      if (Me(t) && $e(t) > 0) return !0;
      if (ke(e) > 0) return !0;
      return !1;
    }(e)) return;
    if (e._pulling) return void (e._pullAgain = !0);
    e._pulling = !0;
    h(e._pullAlgorithm(), () => {
      e._pulling = !1, e._pullAgain && (e._pullAgain = !1, _e(e));
    }, t => {
      Oe(e, t);
    });
  }
  function me(e) {
    Re(e), e._pendingPullIntos = new w();
  }
  function pe(e, t) {
    let r = !1;
    "closed" === e._state && (r = !0);
    const o = ye(t);
    "default" === t.readerType ? U(e, o, r) : function (e, t, r) {
      const o = e._reader._readIntoRequests.shift();
      r ? o._closeSteps(t) : o._chunkSteps(t);
    }(e, o, r);
  }
  function ye(e) {
    const t = e.bytesFilled,
      r = e.elementSize;
    return new e.viewConstructor(e.buffer, e.byteOffset, t / r);
  }
  function ge(e, t, r, o) {
    e._queue.push({
      buffer: t,
      byteOffset: r,
      byteLength: o
    }), e._queueTotalSize += o;
  }
  function Se(e, t) {
    const r = t.elementSize,
      o = t.bytesFilled - t.bytesFilled % r,
      n = Math.min(e._queueTotalSize, t.byteLength - t.bytesFilled),
      a = t.bytesFilled + n,
      i = a - a % r;
    let l = n,
      s = !1;
    i > o && (l = i - t.bytesFilled, s = !0);
    const u = e._queue;
    for (; l > 0;) {
      const r = u.peek(),
        o = Math.min(l, r.byteLength),
        n = t.byteOffset + t.bytesFilled;
      le(t.buffer, n, r.buffer, r.byteOffset, o), r.byteLength === o ? u.shift() : (r.byteOffset += o, r.byteLength -= o), e._queueTotalSize -= o, ve(e, o, t), l -= o;
    }
    return s;
  }
  function ve(e, t, r) {
    r.bytesFilled += t;
  }
  function we(e) {
    0 === e._queueTotalSize && e._closeRequested ? (qe(e), hr(e._controlledReadableByteStream)) : _e(e);
  }
  function Re(e) {
    null !== e._byobRequest && (e._byobRequest._associatedReadableByteStreamController = void 0, e._byobRequest._view = null, e._byobRequest = null);
  }
  function Te(e) {
    for (; e._pendingPullIntos.length > 0;) {
      if (0 === e._queueTotalSize) return;
      const t = e._pendingPullIntos.peek();
      Se(e, t) && (Pe(e), pe(e._controlledReadableByteStream, t));
    }
  }
  function Ce(e, t) {
    const r = e._pendingPullIntos.peek();
    Re(e);
    "closed" === e._controlledReadableByteStream._state ? function (e, t) {
      const r = e._controlledReadableByteStream;
      if (Me(r)) for (; $e(r) > 0;) pe(r, Pe(e));
    }(e) : function (e, t, r) {
      if (ve(0, t, r), r.bytesFilled < r.elementSize) return;
      Pe(e);
      const o = r.bytesFilled % r.elementSize;
      if (o > 0) {
        const t = r.byteOffset + r.bytesFilled,
          n = se(r.buffer, t - o, t);
        ge(e, n, 0, n.byteLength);
      }
      r.bytesFilled -= o, pe(e._controlledReadableByteStream, r), Te(e);
    }(e, t, r), _e(e);
  }
  function Pe(e) {
    return e._pendingPullIntos.shift();
  }
  function qe(e) {
    e._pullAlgorithm = void 0, e._cancelAlgorithm = void 0;
  }
  function Ee(e) {
    const t = e._controlledReadableByteStream;
    if (!e._closeRequested && "readable" === t._state) if (e._queueTotalSize > 0) e._closeRequested = !0;else {
      if (e._pendingPullIntos.length > 0) {
        if (e._pendingPullIntos.peek().bytesFilled > 0) {
          const t = new TypeError("Insufficient bytes to fill elements in the given buffer");
          throw Oe(e, t), t;
        }
      }
      qe(e), hr(t);
    }
  }
  function We(e, t) {
    const r = e._controlledReadableByteStream;
    if (e._closeRequested || "readable" !== r._state) return;
    const o = t.buffer,
      n = t.byteOffset,
      a = t.byteLength,
      i = o;
    if (e._pendingPullIntos.length > 0) {
      const t = e._pendingPullIntos.peek();
      t.buffer, 0, t.buffer = t.buffer;
    }
    if (Re(e), X(r)) {
      if (0 === G(r)) ge(e, i, n, a);else {
        e._pendingPullIntos.length > 0 && Pe(e);
        U(r, new Uint8Array(i, n, a), !1);
      }
    } else Me(r) ? (ge(e, i, n, a), Te(e)) : ge(e, i, n, a);
    _e(e);
  }
  function Oe(e, t) {
    const r = e._controlledReadableByteStream;
    "readable" === r._state && (me(e), fe(e), qe(e), _r(r, t));
  }
  function Be(e) {
    if (null === e._byobRequest && e._pendingPullIntos.length > 0) {
      const t = e._pendingPullIntos.peek(),
        r = new Uint8Array(t.buffer, t.byteOffset + t.bytesFilled, t.byteLength - t.bytesFilled),
        o = Object.create(ReadableStreamBYOBRequest.prototype);
      !function (e, t, r) {
        e._associatedReadableByteStreamController = t, e._view = r;
      }(o, e, r), e._byobRequest = o;
    }
    return e._byobRequest;
  }
  function ke(e) {
    const t = e._controlledReadableByteStream._state;
    return "errored" === t ? null : "closed" === t ? 0 : e._strategyHWM - e._queueTotalSize;
  }
  function je(e, t) {
    const r = e._pendingPullIntos.peek();
    if ("closed" === e._controlledReadableByteStream._state) {
      if (0 !== t) throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");
    } else {
      if (0 === t) throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");
      if (r.bytesFilled + t > r.byteLength) throw new RangeError("bytesWritten out of range");
    }
    r.buffer = r.buffer, Ce(e, t);
  }
  function Ae(e, t) {
    const r = e._pendingPullIntos.peek();
    if ("closed" === e._controlledReadableByteStream._state) {
      if (0 !== t.byteLength) throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream");
    } else if (0 === t.byteLength) throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");
    if (r.byteOffset + r.bytesFilled !== t.byteOffset) throw new RangeError("The region specified by view does not match byobRequest");
    if (r.bufferByteLength !== t.buffer.byteLength) throw new RangeError("The buffer of view has different capacity than byobRequest");
    if (r.bytesFilled + t.byteLength > r.byteLength) throw new RangeError("The region specified by view is larger than byobRequest");
    const o = t.byteLength;
    r.buffer = t.buffer, Ce(e, o);
  }
  function ze(e, t, r, o, n, a, i) {
    t._controlledReadableByteStream = e, t._pullAgain = !1, t._pulling = !1, t._byobRequest = null, t._queue = t._queueTotalSize = void 0, fe(t), t._closeRequested = !1, t._started = !1, t._strategyHWM = a, t._pullAlgorithm = o, t._cancelAlgorithm = n, t._autoAllocateChunkSize = i, t._pendingPullIntos = new w(), e._readableStreamController = t;
    h(d(r()), () => {
      t._started = !0, _e(t);
    }, e => {
      Oe(t, e);
    });
  }
  function De(e) {
    return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`);
  }
  function Le(e) {
    return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`);
  }
  function Fe(e) {
    return new ReadableStreamBYOBReader(e);
  }
  function Ie(e, t) {
    e._reader._readIntoRequests.push(t);
  }
  function $e(e) {
    return e._reader._readIntoRequests.length;
  }
  function Me(e) {
    const t = e._reader;
    return void 0 !== t && !!Qe(t);
  }
  Object.defineProperties(ReadableByteStreamController.prototype, {
    close: {
      enumerable: !0
    },
    enqueue: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    },
    byobRequest: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableByteStreamController.prototype, t.toStringTag, {
    value: "ReadableByteStreamController",
    configurable: !0
  });
  class ReadableStreamBYOBReader {
    constructor(e) {
      if ($(e, 1, "ReadableStreamBYOBReader"), N(e, "First parameter"), fr(e)) throw new TypeError("This stream has already been locked for exclusive reading by another reader");
      if (!be(e._readableStreamController)) throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");
      R(this, e), this._readIntoRequests = new w();
    }
    get closed() {
      return Qe(this) ? this._closedPromise : f(xe("closed"));
    }
    cancel(e) {
      return Qe(this) ? void 0 === this._ownerReadableStream ? f(P("cancel")) : T(this, e) : f(xe("cancel"));
    }
    read(e) {
      if (!Qe(this)) return f(xe("read"));
      if (!ArrayBuffer.isView(e)) return f(new TypeError("view must be an array buffer view"));
      if (0 === e.byteLength) return f(new TypeError("view must have non-zero byteLength"));
      if (0 === e.buffer.byteLength) return f(new TypeError("view's buffer must have non-zero byteLength"));
      if (e.buffer, void 0 === this._ownerReadableStream) return f(P("read from"));
      let t, r;
      const o = c((e, o) => {
        t = e, r = o;
      });
      return Ye(this, e, {
        _chunkSteps: e => t({
          value: e,
          done: !1
        }),
        _closeSteps: e => t({
          value: e,
          done: !0
        }),
        _errorSteps: e => r(e)
      }), o;
    }
    releaseLock() {
      if (!Qe(this)) throw xe("releaseLock");
      if (void 0 !== this._ownerReadableStream) {
        if (this._readIntoRequests.length > 0) throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");
        C(this);
      }
    }
  }
  function Qe(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_readIntoRequests") && e instanceof ReadableStreamBYOBReader;
  }
  function Ye(e, t, r) {
    const o = e._ownerReadableStream;
    o._disturbed = !0, "errored" === o._state ? r._errorSteps(o._storedError) : function (e, t, r) {
      const o = e._controlledReadableByteStream;
      let n = 1;
      t.constructor !== DataView && (n = t.constructor.BYTES_PER_ELEMENT);
      const a = t.constructor,
        i = t.buffer,
        l = {
          buffer: i,
          bufferByteLength: i.byteLength,
          byteOffset: t.byteOffset,
          byteLength: t.byteLength,
          bytesFilled: 0,
          elementSize: n,
          viewConstructor: a,
          readerType: "byob"
        };
      if (e._pendingPullIntos.length > 0) return e._pendingPullIntos.push(l), void Ie(o, r);
      if ("closed" !== o._state) {
        if (e._queueTotalSize > 0) {
          if (Se(e, l)) {
            const t = ye(l);
            return we(e), void r._chunkSteps(t);
          }
          if (e._closeRequested) {
            const t = new TypeError("Insufficient bytes to fill elements in the given buffer");
            return Oe(e, t), void r._errorSteps(t);
          }
        }
        e._pendingPullIntos.push(l), Ie(o, r), _e(e);
      } else {
        const e = new a(l.buffer, l.byteOffset, 0);
        r._closeSteps(e);
      }
    }(o._readableStreamController, t, r);
  }
  function xe(e) {
    return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`);
  }
  function Ne(e, t) {
    const {
      highWaterMark: r
    } = e;
    if (void 0 === r) return t;
    if (ae(r) || r < 0) throw new RangeError("Invalid highWaterMark");
    return r;
  }
  function He(e) {
    const {
      size: t
    } = e;
    return t || (() => 1);
  }
  function Ve(e, t) {
    L(e, t);
    const r = null == e ? void 0 : e.highWaterMark,
      o = null == e ? void 0 : e.size;
    return {
      highWaterMark: void 0 === r ? void 0 : Q(r),
      size: void 0 === o ? void 0 : Ue(o, `${t} has member 'size' that`)
    };
  }
  function Ue(e, t) {
    return F(e, t), t => Q(e(t));
  }
  function Ge(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function Xe(e, t, r) {
    return F(e, r), () => v(e, t, []);
  }
  function Je(e, t, r) {
    return F(e, r), r => S(e, t, [r]);
  }
  function Ke(e, t, r) {
    return F(e, r), (r, o) => v(e, t, [r, o]);
  }
  function Ze(e, t) {
    if (!ot(e)) throw new TypeError(`${t} is not a WritableStream.`);
  }
  Object.defineProperties(ReadableStreamBYOBReader.prototype, {
    cancel: {
      enumerable: !0
    },
    read: {
      enumerable: !0
    },
    releaseLock: {
      enumerable: !0
    },
    closed: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamBYOBReader.prototype, t.toStringTag, {
    value: "ReadableStreamBYOBReader",
    configurable: !0
  });
  const et = "function" == typeof AbortController;
  class WritableStream {
    constructor(e = {}, t = {}) {
      void 0 === e ? e = null : I(e, "First parameter");
      const r = Ve(t, "Second parameter"),
        o = function (e, t) {
          L(e, t);
          const r = null == e ? void 0 : e.abort,
            o = null == e ? void 0 : e.close,
            n = null == e ? void 0 : e.start,
            a = null == e ? void 0 : e.type,
            i = null == e ? void 0 : e.write;
          return {
            abort: void 0 === r ? void 0 : Ge(r, e, `${t} has member 'abort' that`),
            close: void 0 === o ? void 0 : Xe(o, e, `${t} has member 'close' that`),
            start: void 0 === n ? void 0 : Je(n, e, `${t} has member 'start' that`),
            write: void 0 === i ? void 0 : Ke(i, e, `${t} has member 'write' that`),
            type: a
          };
        }(e, "First parameter");
      rt(this);
      if (void 0 !== o.type) throw new RangeError("Invalid type is specified");
      const n = He(r);
      !function (e, t, r, o) {
        const n = Object.create(WritableStreamDefaultController.prototype);
        let a = () => {},
          i = () => d(void 0),
          l = () => d(void 0),
          s = () => d(void 0);
        void 0 !== t.start && (a = () => t.start(n));
        void 0 !== t.write && (i = e => t.write(e, n));
        void 0 !== t.close && (l = () => t.close());
        void 0 !== t.abort && (s = e => t.abort(e));
        vt(e, n, a, i, l, s, r, o);
      }(this, o, Ne(r, 1), n);
    }
    get locked() {
      if (!ot(this)) throw Et("locked");
      return nt(this);
    }
    abort(e) {
      return ot(this) ? nt(this) ? f(new TypeError("Cannot abort a stream that already has a writer")) : at(this, e) : f(Et("abort"));
    }
    close() {
      return ot(this) ? nt(this) ? f(new TypeError("Cannot close a stream that already has a writer")) : ct(this) ? f(new TypeError("Cannot close an already-closing stream")) : it(this) : f(Et("close"));
    }
    getWriter() {
      if (!ot(this)) throw Et("getWriter");
      return tt(this);
    }
  }
  function tt(e) {
    return new WritableStreamDefaultWriter(e);
  }
  function rt(e) {
    e._state = "writable", e._storedError = void 0, e._writer = void 0, e._writableStreamController = void 0, e._writeRequests = new w(), e._inFlightWriteRequest = void 0, e._closeRequest = void 0, e._inFlightCloseRequest = void 0, e._pendingAbortRequest = void 0, e._backpressure = !1;
  }
  function ot(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_writableStreamController") && e instanceof WritableStream;
  }
  function nt(e) {
    return void 0 !== e._writer;
  }
  function at(e, t) {
    var r;
    if ("closed" === e._state || "errored" === e._state) return d(void 0);
    e._writableStreamController._abortReason = t, null === (r = e._writableStreamController._abortController) || void 0 === r || r.abort();
    const o = e._state;
    if ("closed" === o || "errored" === o) return d(void 0);
    if (void 0 !== e._pendingAbortRequest) return e._pendingAbortRequest._promise;
    let n = !1;
    "erroring" === o && (n = !0, t = void 0);
    const a = c((r, o) => {
      e._pendingAbortRequest = {
        _promise: void 0,
        _resolve: r,
        _reject: o,
        _reason: t,
        _wasAlreadyErroring: n
      };
    });
    return e._pendingAbortRequest._promise = a, n || st(e, t), a;
  }
  function it(e) {
    const t = e._state;
    if ("closed" === t || "errored" === t) return f(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));
    const r = c((t, r) => {
        const o = {
          _resolve: t,
          _reject: r
        };
        e._closeRequest = o;
      }),
      o = e._writer;
    var n;
    return void 0 !== o && e._backpressure && "writable" === t && $t(o), de(n = e._writableStreamController, gt, 0), Tt(n), r;
  }
  function lt(e, t) {
    "writable" !== e._state ? ut(e) : st(e, t);
  }
  function st(e, t) {
    const r = e._writableStreamController;
    e._state = "erroring", e._storedError = t;
    const o = e._writer;
    void 0 !== o && mt(o, t), !function (e) {
      if (void 0 === e._inFlightWriteRequest && void 0 === e._inFlightCloseRequest) return !1;
      return !0;
    }(e) && r._started && ut(e);
  }
  function ut(e) {
    e._state = "errored", e._writableStreamController[k]();
    const t = e._storedError;
    if (e._writeRequests.forEach(e => {
      e._reject(t);
    }), e._writeRequests = new w(), void 0 === e._pendingAbortRequest) return void dt(e);
    const r = e._pendingAbortRequest;
    if (e._pendingAbortRequest = void 0, r._wasAlreadyErroring) return r._reject(t), void dt(e);
    h(e._writableStreamController[B](r._reason), () => {
      r._resolve(), dt(e);
    }, t => {
      r._reject(t), dt(e);
    });
  }
  function ct(e) {
    return void 0 !== e._closeRequest || void 0 !== e._inFlightCloseRequest;
  }
  function dt(e) {
    void 0 !== e._closeRequest && (e._closeRequest._reject(e._storedError), e._closeRequest = void 0);
    const t = e._writer;
    void 0 !== t && At(t, e._storedError);
  }
  function ft(e, t) {
    const r = e._writer;
    void 0 !== r && t !== e._backpressure && (t ? function (e) {
      Dt(e);
    }(r) : $t(r)), e._backpressure = t;
  }
  Object.defineProperties(WritableStream.prototype, {
    abort: {
      enumerable: !0
    },
    close: {
      enumerable: !0
    },
    getWriter: {
      enumerable: !0
    },
    locked: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(WritableStream.prototype, t.toStringTag, {
    value: "WritableStream",
    configurable: !0
  });
  class WritableStreamDefaultWriter {
    constructor(e) {
      if ($(e, 1, "WritableStreamDefaultWriter"), Ze(e, "First parameter"), nt(e)) throw new TypeError("This stream has already been locked for exclusive writing by another writer");
      this._ownerWritableStream = e, e._writer = this;
      const t = e._state;
      if ("writable" === t) !ct(e) && e._backpressure ? Dt(this) : Ft(this), kt(this);else if ("erroring" === t) Lt(this, e._storedError), kt(this);else if ("closed" === t) Ft(this), kt(r = this), zt(r);else {
        const t = e._storedError;
        Lt(this, t), jt(this, t);
      }
      var r;
    }
    get closed() {
      return bt(this) ? this._closedPromise : f(Ot("closed"));
    }
    get desiredSize() {
      if (!bt(this)) throw Ot("desiredSize");
      if (void 0 === this._ownerWritableStream) throw Bt("desiredSize");
      return function (e) {
        const t = e._ownerWritableStream,
          r = t._state;
        if ("errored" === r || "erroring" === r) return null;
        if ("closed" === r) return 0;
        return Rt(t._writableStreamController);
      }(this);
    }
    get ready() {
      return bt(this) ? this._readyPromise : f(Ot("ready"));
    }
    abort(e) {
      return bt(this) ? void 0 === this._ownerWritableStream ? f(Bt("abort")) : function (e, t) {
        return at(e._ownerWritableStream, t);
      }(this, e) : f(Ot("abort"));
    }
    close() {
      if (!bt(this)) return f(Ot("close"));
      const e = this._ownerWritableStream;
      return void 0 === e ? f(Bt("close")) : ct(e) ? f(new TypeError("Cannot close an already-closing stream")) : ht(this);
    }
    releaseLock() {
      if (!bt(this)) throw Ot("releaseLock");
      void 0 !== this._ownerWritableStream && pt(this);
    }
    write(e) {
      return bt(this) ? void 0 === this._ownerWritableStream ? f(Bt("write to")) : yt(this, e) : f(Ot("write"));
    }
  }
  function bt(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_ownerWritableStream") && e instanceof WritableStreamDefaultWriter;
  }
  function ht(e) {
    return it(e._ownerWritableStream);
  }
  function _t(e, t) {
    "pending" === e._closedPromiseState ? At(e, t) : function (e, t) {
      jt(e, t);
    }(e, t);
  }
  function mt(e, t) {
    "pending" === e._readyPromiseState ? It(e, t) : function (e, t) {
      Lt(e, t);
    }(e, t);
  }
  function pt(e) {
    const t = e._ownerWritableStream,
      r = new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");
    mt(e, r), _t(e, r), t._writer = void 0, e._ownerWritableStream = void 0;
  }
  function yt(e, t) {
    const r = e._ownerWritableStream,
      o = r._writableStreamController,
      n = function (e, t) {
        try {
          return e._strategySizeAlgorithm(t);
        } catch (t) {
          return Ct(e, t), 1;
        }
      }(o, t);
    if (r !== e._ownerWritableStream) return f(Bt("write to"));
    const a = r._state;
    if ("errored" === a) return f(r._storedError);
    if (ct(r) || "closed" === a) return f(new TypeError("The stream is closing or closed and cannot be written to"));
    if ("erroring" === a) return f(r._storedError);
    const i = function (e) {
      return c((t, r) => {
        const o = {
          _resolve: t,
          _reject: r
        };
        e._writeRequests.push(o);
      });
    }(r);
    return function (e, t, r) {
      try {
        de(e, t, r);
      } catch (t) {
        return void Ct(e, t);
      }
      const o = e._controlledWritableStream;
      if (!ct(o) && "writable" === o._state) {
        ft(o, Pt(e));
      }
      Tt(e);
    }(o, t, n), i;
  }
  Object.defineProperties(WritableStreamDefaultWriter.prototype, {
    abort: {
      enumerable: !0
    },
    close: {
      enumerable: !0
    },
    releaseLock: {
      enumerable: !0
    },
    write: {
      enumerable: !0
    },
    closed: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    },
    ready: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(WritableStreamDefaultWriter.prototype, t.toStringTag, {
    value: "WritableStreamDefaultWriter",
    configurable: !0
  });
  const gt = {};
  class WritableStreamDefaultController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get abortReason() {
      if (!St(this)) throw Wt("abortReason");
      return this._abortReason;
    }
    get signal() {
      if (!St(this)) throw Wt("signal");
      if (void 0 === this._abortController) throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");
      return this._abortController.signal;
    }
    error(e) {
      if (!St(this)) throw Wt("error");
      "writable" === this._controlledWritableStream._state && qt(this, e);
    }
    [B](e) {
      const t = this._abortAlgorithm(e);
      return wt(this), t;
    }
    [k]() {
      fe(this);
    }
  }
  function St(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledWritableStream") && e instanceof WritableStreamDefaultController;
  }
  function vt(e, t, r, o, n, a, i, l) {
    t._controlledWritableStream = e, e._writableStreamController = t, t._queue = void 0, t._queueTotalSize = void 0, fe(t), t._abortReason = void 0, t._abortController = function () {
      if (et) return new AbortController();
    }(), t._started = !1, t._strategySizeAlgorithm = l, t._strategyHWM = i, t._writeAlgorithm = o, t._closeAlgorithm = n, t._abortAlgorithm = a;
    const s = Pt(t);
    ft(e, s);
    h(d(r()), () => {
      t._started = !0, Tt(t);
    }, r => {
      t._started = !0, lt(e, r);
    });
  }
  function wt(e) {
    e._writeAlgorithm = void 0, e._closeAlgorithm = void 0, e._abortAlgorithm = void 0, e._strategySizeAlgorithm = void 0;
  }
  function Rt(e) {
    return e._strategyHWM - e._queueTotalSize;
  }
  function Tt(e) {
    const t = e._controlledWritableStream;
    if (!e._started) return;
    if (void 0 !== t._inFlightWriteRequest) return;
    if ("erroring" === t._state) return void ut(t);
    if (0 === e._queue.length) return;
    const r = e._queue.peek().value;
    r === gt ? function (e) {
      const t = e._controlledWritableStream;
      (function (e) {
        e._inFlightCloseRequest = e._closeRequest, e._closeRequest = void 0;
      })(t), ce(e);
      const r = e._closeAlgorithm();
      wt(e), h(r, () => {
        !function (e) {
          e._inFlightCloseRequest._resolve(void 0), e._inFlightCloseRequest = void 0, "erroring" === e._state && (e._storedError = void 0, void 0 !== e._pendingAbortRequest && (e._pendingAbortRequest._resolve(), e._pendingAbortRequest = void 0)), e._state = "closed";
          const t = e._writer;
          void 0 !== t && zt(t);
        }(t);
      }, e => {
        !function (e, t) {
          e._inFlightCloseRequest._reject(t), e._inFlightCloseRequest = void 0, void 0 !== e._pendingAbortRequest && (e._pendingAbortRequest._reject(t), e._pendingAbortRequest = void 0), lt(e, t);
        }(t, e);
      });
    }(e) : function (e, t) {
      const r = e._controlledWritableStream;
      !function (e) {
        e._inFlightWriteRequest = e._writeRequests.shift();
      }(r);
      h(e._writeAlgorithm(t), () => {
        !function (e) {
          e._inFlightWriteRequest._resolve(void 0), e._inFlightWriteRequest = void 0;
        }(r);
        const t = r._state;
        if (ce(e), !ct(r) && "writable" === t) {
          const t = Pt(e);
          ft(r, t);
        }
        Tt(e);
      }, t => {
        "writable" === r._state && wt(e), function (e, t) {
          e._inFlightWriteRequest._reject(t), e._inFlightWriteRequest = void 0, lt(e, t);
        }(r, t);
      });
    }(e, r);
  }
  function Ct(e, t) {
    "writable" === e._controlledWritableStream._state && qt(e, t);
  }
  function Pt(e) {
    return Rt(e) <= 0;
  }
  function qt(e, t) {
    const r = e._controlledWritableStream;
    wt(e), st(r, t);
  }
  function Et(e) {
    return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`);
  }
  function Wt(e) {
    return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`);
  }
  function Ot(e) {
    return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`);
  }
  function Bt(e) {
    return new TypeError("Cannot " + e + " a stream using a released writer");
  }
  function kt(e) {
    e._closedPromise = c((t, r) => {
      e._closedPromise_resolve = t, e._closedPromise_reject = r, e._closedPromiseState = "pending";
    });
  }
  function jt(e, t) {
    kt(e), At(e, t);
  }
  function At(e, t) {
    void 0 !== e._closedPromise_reject && (y(e._closedPromise), e._closedPromise_reject(t), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0, e._closedPromiseState = "rejected");
  }
  function zt(e) {
    void 0 !== e._closedPromise_resolve && (e._closedPromise_resolve(void 0), e._closedPromise_resolve = void 0, e._closedPromise_reject = void 0, e._closedPromiseState = "resolved");
  }
  function Dt(e) {
    e._readyPromise = c((t, r) => {
      e._readyPromise_resolve = t, e._readyPromise_reject = r;
    }), e._readyPromiseState = "pending";
  }
  function Lt(e, t) {
    Dt(e), It(e, t);
  }
  function Ft(e) {
    Dt(e), $t(e);
  }
  function It(e, t) {
    void 0 !== e._readyPromise_reject && (y(e._readyPromise), e._readyPromise_reject(t), e._readyPromise_resolve = void 0, e._readyPromise_reject = void 0, e._readyPromiseState = "rejected");
  }
  function $t(e) {
    void 0 !== e._readyPromise_resolve && (e._readyPromise_resolve(void 0), e._readyPromise_resolve = void 0, e._readyPromise_reject = void 0, e._readyPromiseState = "fulfilled");
  }
  Object.defineProperties(WritableStreamDefaultController.prototype, {
    abortReason: {
      enumerable: !0
    },
    signal: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(WritableStreamDefaultController.prototype, t.toStringTag, {
    value: "WritableStreamDefaultController",
    configurable: !0
  });
  const Mt = "undefined" != typeof DOMException ? DOMException : void 0;
  const Qt = function (e) {
    if ("function" != typeof e && "object" != typeof e) return !1;
    try {
      return new e(), !0;
    } catch (e) {
      return !1;
    }
  }(Mt) ? Mt : function () {
    const e = function (e, t) {
      this.message = e || "", this.name = t || "Error", Error.captureStackTrace && Error.captureStackTrace(this, this.constructor);
    };
    return e.prototype = Object.create(Error.prototype), Object.defineProperty(e.prototype, "constructor", {
      value: e,
      writable: !0,
      configurable: !0
    }), e;
  }();
  function Yt(e, t, o, n, a, i) {
    const l = H(e),
      s = tt(t);
    e._disturbed = !0;
    let u = !1,
      p = d(void 0);
    return c((g, S) => {
      let v;
      if (void 0 !== i) {
        if (v = () => {
          const r = new Qt("Aborted", "AbortError"),
            o = [];
          n || o.push(() => "writable" === t._state ? at(t, r) : d(void 0)), a || o.push(() => "readable" === e._state ? br(e, r) : d(void 0)), E(() => Promise.all(o.map(e => e())), !0, r);
        }, i.aborted) return void v();
        i.addEventListener("abort", v);
      }
      var w, R, T;
      if (q(e, l._closedPromise, e => {
        n ? W(!0, e) : E(() => at(t, e), !0, e);
      }), q(t, s._closedPromise, t => {
        a ? W(!0, t) : E(() => br(e, t), !0, t);
      }), w = e, R = l._closedPromise, T = () => {
        o ? W() : E(() => function (e) {
          const t = e._ownerWritableStream,
            r = t._state;
          return ct(t) || "closed" === r ? d(void 0) : "errored" === r ? f(t._storedError) : ht(e);
        }(s));
      }, "closed" === w._state ? T() : _(R, T), ct(t) || "closed" === t._state) {
        const t = new TypeError("the destination writable stream closed before all data could be piped to it");
        a ? W(!0, t) : E(() => br(e, t), !0, t);
      }
      function P() {
        const e = p;
        return b(p, () => e !== p ? P() : void 0);
      }
      function q(e, t, r) {
        "errored" === e._state ? r(e._storedError) : m(t, r);
      }
      function E(e, r, o) {
        function n() {
          h(e(), () => O(r, o), e => O(!0, e));
        }
        u || (u = !0, "writable" !== t._state || ct(t) ? n() : _(P(), n));
      }
      function W(e, r) {
        u || (u = !0, "writable" !== t._state || ct(t) ? O(e, r) : _(P(), () => O(e, r)));
      }
      function O(e, t) {
        pt(s), C(l), void 0 !== i && i.removeEventListener("abort", v), e ? S(t) : g(void 0);
      }
      y(c((e, t) => {
        !function o(n) {
          n ? e() : b(u ? d(!0) : b(s._readyPromise, () => c((e, t) => {
            K(l, {
              _chunkSteps: t => {
                p = b(yt(s, t), void 0, r), e(!1);
              },
              _closeSteps: () => e(!0),
              _errorSteps: t
            });
          })), o, t);
        }(!1);
      }));
    });
  }
  class ReadableStreamDefaultController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get desiredSize() {
      if (!xt(this)) throw er("desiredSize");
      return Jt(this);
    }
    close() {
      if (!xt(this)) throw er("close");
      if (!Kt(this)) throw new TypeError("The stream is not in a state that permits close");
      Ut(this);
    }
    enqueue(e) {
      if (!xt(this)) throw er("enqueue");
      if (!Kt(this)) throw new TypeError("The stream is not in a state that permits enqueue");
      return Gt(this, e);
    }
    error(e) {
      if (!xt(this)) throw er("error");
      Xt(this, e);
    }
    [j](e) {
      fe(this);
      const t = this._cancelAlgorithm(e);
      return Vt(this), t;
    }
    [A](e) {
      const t = this._controlledReadableStream;
      if (this._queue.length > 0) {
        const r = ce(this);
        this._closeRequested && 0 === this._queue.length ? (Vt(this), hr(t)) : Nt(this), e._chunkSteps(r);
      } else V(t, e), Nt(this);
    }
  }
  function xt(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledReadableStream") && e instanceof ReadableStreamDefaultController;
  }
  function Nt(e) {
    if (!Ht(e)) return;
    if (e._pulling) return void (e._pullAgain = !0);
    e._pulling = !0;
    h(e._pullAlgorithm(), () => {
      e._pulling = !1, e._pullAgain && (e._pullAgain = !1, Nt(e));
    }, t => {
      Xt(e, t);
    });
  }
  function Ht(e) {
    const t = e._controlledReadableStream;
    if (!Kt(e)) return !1;
    if (!e._started) return !1;
    if (fr(t) && G(t) > 0) return !0;
    return Jt(e) > 0;
  }
  function Vt(e) {
    e._pullAlgorithm = void 0, e._cancelAlgorithm = void 0, e._strategySizeAlgorithm = void 0;
  }
  function Ut(e) {
    if (!Kt(e)) return;
    const t = e._controlledReadableStream;
    e._closeRequested = !0, 0 === e._queue.length && (Vt(e), hr(t));
  }
  function Gt(e, t) {
    if (!Kt(e)) return;
    const r = e._controlledReadableStream;
    if (fr(r) && G(r) > 0) U(r, t, !1);else {
      let r;
      try {
        r = e._strategySizeAlgorithm(t);
      } catch (t) {
        throw Xt(e, t), t;
      }
      try {
        de(e, t, r);
      } catch (t) {
        throw Xt(e, t), t;
      }
    }
    Nt(e);
  }
  function Xt(e, t) {
    const r = e._controlledReadableStream;
    "readable" === r._state && (fe(e), Vt(e), _r(r, t));
  }
  function Jt(e) {
    const t = e._controlledReadableStream._state;
    return "errored" === t ? null : "closed" === t ? 0 : e._strategyHWM - e._queueTotalSize;
  }
  function Kt(e) {
    const t = e._controlledReadableStream._state;
    return !e._closeRequested && "readable" === t;
  }
  function Zt(e, t, r, o, n, a, i) {
    t._controlledReadableStream = e, t._queue = void 0, t._queueTotalSize = void 0, fe(t), t._started = !1, t._closeRequested = !1, t._pullAgain = !1, t._pulling = !1, t._strategySizeAlgorithm = i, t._strategyHWM = a, t._pullAlgorithm = o, t._cancelAlgorithm = n, e._readableStreamController = t;
    h(d(r()), () => {
      t._started = !0, Nt(t);
    }, e => {
      Xt(t, e);
    });
  }
  function er(e) {
    return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`);
  }
  function tr(e, t) {
    return be(e._readableStreamController) ? function (e) {
      let t,
        r,
        o,
        n,
        a,
        i = H(e),
        l = !1,
        s = !1,
        u = !1,
        f = !1,
        b = !1;
      const h = c(e => {
        a = e;
      });
      function _(e) {
        m(e._closedPromise, t => {
          e === i && (Oe(o._readableStreamController, t), Oe(n._readableStreamController, t), f && b || a(void 0));
        });
      }
      function p() {
        Qe(i) && (C(i), i = H(e), _(i));
        K(i, {
          _chunkSteps: t => {
            g(() => {
              s = !1, u = !1;
              const r = t;
              let i = t;
              if (!f && !b) try {
                i = ue(t);
              } catch (t) {
                return Oe(o._readableStreamController, t), Oe(n._readableStreamController, t), void a(br(e, t));
              }
              f || We(o._readableStreamController, r), b || We(n._readableStreamController, i), l = !1, s ? S() : u && v();
            });
          },
          _closeSteps: () => {
            l = !1, f || Ee(o._readableStreamController), b || Ee(n._readableStreamController), o._readableStreamController._pendingPullIntos.length > 0 && je(o._readableStreamController, 0), n._readableStreamController._pendingPullIntos.length > 0 && je(n._readableStreamController, 0), f && b || a(void 0);
          },
          _errorSteps: () => {
            l = !1;
          }
        });
      }
      function y(t, r) {
        J(i) && (C(i), i = Fe(e), _(i));
        const c = r ? n : o,
          d = r ? o : n;
        Ye(i, t, {
          _chunkSteps: t => {
            g(() => {
              s = !1, u = !1;
              const o = r ? b : f;
              if (r ? f : b) o || Ae(c._readableStreamController, t);else {
                let r;
                try {
                  r = ue(t);
                } catch (t) {
                  return Oe(c._readableStreamController, t), Oe(d._readableStreamController, t), void a(br(e, t));
                }
                o || Ae(c._readableStreamController, t), We(d._readableStreamController, r);
              }
              l = !1, s ? S() : u && v();
            });
          },
          _closeSteps: e => {
            l = !1;
            const t = r ? b : f,
              o = r ? f : b;
            t || Ee(c._readableStreamController), o || Ee(d._readableStreamController), void 0 !== e && (t || Ae(c._readableStreamController, e), !o && d._readableStreamController._pendingPullIntos.length > 0 && je(d._readableStreamController, 0)), t && o || a(void 0);
          },
          _errorSteps: () => {
            l = !1;
          }
        });
      }
      function S() {
        if (l) return s = !0, d(void 0);
        l = !0;
        const e = Be(o._readableStreamController);
        return null === e ? p() : y(e._view, !1), d(void 0);
      }
      function v() {
        if (l) return u = !0, d(void 0);
        l = !0;
        const e = Be(n._readableStreamController);
        return null === e ? p() : y(e._view, !0), d(void 0);
      }
      function w(o) {
        if (f = !0, t = o, b) {
          const o = ie([t, r]),
            n = br(e, o);
          a(n);
        }
        return h;
      }
      function R(o) {
        if (b = !0, r = o, f) {
          const o = ie([t, r]),
            n = br(e, o);
          a(n);
        }
        return h;
      }
      function T() {}
      return o = ur(T, S, w), n = ur(T, v, R), _(i), [o, n];
    }(e) : function (e, t) {
      const r = H(e);
      let o,
        n,
        a,
        i,
        l,
        s = !1,
        u = !1,
        f = !1,
        b = !1;
      const h = c(e => {
        l = e;
      });
      function _() {
        if (s) return u = !0, d(void 0);
        s = !0;
        return K(r, {
          _chunkSteps: e => {
            g(() => {
              u = !1;
              const t = e,
                r = e;
              f || Gt(a._readableStreamController, t), b || Gt(i._readableStreamController, r), s = !1, u && _();
            });
          },
          _closeSteps: () => {
            s = !1, f || Ut(a._readableStreamController), b || Ut(i._readableStreamController), f && b || l(void 0);
          },
          _errorSteps: () => {
            s = !1;
          }
        }), d(void 0);
      }
      function p(t) {
        if (f = !0, o = t, b) {
          const t = ie([o, n]),
            r = br(e, t);
          l(r);
        }
        return h;
      }
      function y(t) {
        if (b = !0, n = t, f) {
          const t = ie([o, n]),
            r = br(e, t);
          l(r);
        }
        return h;
      }
      function S() {}
      return a = sr(S, _, p), i = sr(S, _, y), m(r._closedPromise, e => {
        Xt(a._readableStreamController, e), Xt(i._readableStreamController, e), f && b || l(void 0);
      }), [a, i];
    }(e);
  }
  function rr(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function or(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function nr(e, t, r) {
    return F(e, r), r => S(e, t, [r]);
  }
  function ar(e, t) {
    if ("bytes" !== (e = `${e}`)) throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);
    return e;
  }
  function ir(e, t) {
    if ("byob" !== (e = `${e}`)) throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);
    return e;
  }
  function lr(e, t) {
    L(e, t);
    const r = null == e ? void 0 : e.preventAbort,
      o = null == e ? void 0 : e.preventCancel,
      n = null == e ? void 0 : e.preventClose,
      a = null == e ? void 0 : e.signal;
    return void 0 !== a && function (e, t) {
      if (!function (e) {
        if ("object" != typeof e || null === e) return !1;
        try {
          return "boolean" == typeof e.aborted;
        } catch (e) {
          return !1;
        }
      }(e)) throw new TypeError(`${t} is not an AbortSignal.`);
    }(a, `${t} has member 'signal' that`), {
      preventAbort: Boolean(r),
      preventCancel: Boolean(o),
      preventClose: Boolean(n),
      signal: a
    };
  }
  Object.defineProperties(ReadableStreamDefaultController.prototype, {
    close: {
      enumerable: !0
    },
    enqueue: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStreamDefaultController.prototype, t.toStringTag, {
    value: "ReadableStreamDefaultController",
    configurable: !0
  });
  class ReadableStream {
    constructor(e = {}, t = {}) {
      void 0 === e ? e = null : I(e, "First parameter");
      const r = Ve(t, "Second parameter"),
        o = function (e, t) {
          L(e, t);
          const r = e,
            o = null == r ? void 0 : r.autoAllocateChunkSize,
            n = null == r ? void 0 : r.cancel,
            a = null == r ? void 0 : r.pull,
            i = null == r ? void 0 : r.start,
            l = null == r ? void 0 : r.type;
          return {
            autoAllocateChunkSize: void 0 === o ? void 0 : x(o, `${t} has member 'autoAllocateChunkSize' that`),
            cancel: void 0 === n ? void 0 : rr(n, r, `${t} has member 'cancel' that`),
            pull: void 0 === a ? void 0 : or(a, r, `${t} has member 'pull' that`),
            start: void 0 === i ? void 0 : nr(i, r, `${t} has member 'start' that`),
            type: void 0 === l ? void 0 : ar(l, `${t} has member 'type' that`)
          };
        }(e, "First parameter");
      if (cr(this), "bytes" === o.type) {
        if (void 0 !== r.size) throw new RangeError("The strategy for a byte stream cannot have a size function");
        !function (e, t, r) {
          const o = Object.create(ReadableByteStreamController.prototype);
          let n = () => {},
            a = () => d(void 0),
            i = () => d(void 0);
          void 0 !== t.start && (n = () => t.start(o)), void 0 !== t.pull && (a = () => t.pull(o)), void 0 !== t.cancel && (i = e => t.cancel(e));
          const l = t.autoAllocateChunkSize;
          if (0 === l) throw new TypeError("autoAllocateChunkSize must be greater than 0");
          ze(e, o, n, a, i, r, l);
        }(this, o, Ne(r, 0));
      } else {
        const e = He(r);
        !function (e, t, r, o) {
          const n = Object.create(ReadableStreamDefaultController.prototype);
          let a = () => {},
            i = () => d(void 0),
            l = () => d(void 0);
          void 0 !== t.start && (a = () => t.start(n)), void 0 !== t.pull && (i = () => t.pull(n)), void 0 !== t.cancel && (l = e => t.cancel(e)), Zt(e, n, a, i, l, r, o);
        }(this, o, Ne(r, 1), e);
      }
    }
    get locked() {
      if (!dr(this)) throw mr("locked");
      return fr(this);
    }
    cancel(e) {
      return dr(this) ? fr(this) ? f(new TypeError("Cannot cancel a stream that already has a reader")) : br(this, e) : f(mr("cancel"));
    }
    getReader(e) {
      if (!dr(this)) throw mr("getReader");
      return void 0 === function (e, t) {
        L(e, t);
        const r = null == e ? void 0 : e.mode;
        return {
          mode: void 0 === r ? void 0 : ir(r, `${t} has member 'mode' that`)
        };
      }(e, "First parameter").mode ? H(this) : Fe(this);
    }
    pipeThrough(e, t = {}) {
      if (!dr(this)) throw mr("pipeThrough");
      $(e, 1, "pipeThrough");
      const r = function (e, t) {
          L(e, t);
          const r = null == e ? void 0 : e.readable;
          M(r, "readable", "ReadableWritablePair"), N(r, `${t} has member 'readable' that`);
          const o = null == e ? void 0 : e.writable;
          return M(o, "writable", "ReadableWritablePair"), Ze(o, `${t} has member 'writable' that`), {
            readable: r,
            writable: o
          };
        }(e, "First parameter"),
        o = lr(t, "Second parameter");
      if (fr(this)) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");
      if (nt(r.writable)) throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");
      return y(Yt(this, r.writable, o.preventClose, o.preventAbort, o.preventCancel, o.signal)), r.readable;
    }
    pipeTo(e, t = {}) {
      if (!dr(this)) return f(mr("pipeTo"));
      if (void 0 === e) return f("Parameter 1 is required in 'pipeTo'.");
      if (!ot(e)) return f(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));
      let r;
      try {
        r = lr(t, "Second parameter");
      } catch (e) {
        return f(e);
      }
      return fr(this) ? f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")) : nt(e) ? f(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")) : Yt(this, e, r.preventClose, r.preventAbort, r.preventCancel, r.signal);
    }
    tee() {
      if (!dr(this)) throw mr("tee");
      return ie(tr(this));
    }
    values(e) {
      if (!dr(this)) throw mr("values");
      return function (e, t) {
        const r = H(e),
          o = new te(r, t),
          n = Object.create(re);
        return n._asyncIteratorImpl = o, n;
      }(this, function (e, t) {
        L(e, t);
        const r = null == e ? void 0 : e.preventCancel;
        return {
          preventCancel: Boolean(r)
        };
      }(e, "First parameter").preventCancel);
    }
  }
  function sr(e, t, r, o = 1, n = () => 1) {
    const a = Object.create(ReadableStream.prototype);
    cr(a);
    return Zt(a, Object.create(ReadableStreamDefaultController.prototype), e, t, r, o, n), a;
  }
  function ur(e, t, r) {
    const o = Object.create(ReadableStream.prototype);
    cr(o);
    return ze(o, Object.create(ReadableByteStreamController.prototype), e, t, r, 0, void 0), o;
  }
  function cr(e) {
    e._state = "readable", e._reader = void 0, e._storedError = void 0, e._disturbed = !1;
  }
  function dr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_readableStreamController") && e instanceof ReadableStream;
  }
  function fr(e) {
    return void 0 !== e._reader;
  }
  function br(e, t) {
    if (e._disturbed = !0, "closed" === e._state) return d(void 0);
    if ("errored" === e._state) return f(e._storedError);
    hr(e);
    const o = e._reader;
    void 0 !== o && Qe(o) && (o._readIntoRequests.forEach(e => {
      e._closeSteps(void 0);
    }), o._readIntoRequests = new w());
    return p(e._readableStreamController[j](t), r);
  }
  function hr(e) {
    e._state = "closed";
    const t = e._reader;
    void 0 !== t && (O(t), J(t) && (t._readRequests.forEach(e => {
      e._closeSteps();
    }), t._readRequests = new w()));
  }
  function _r(e, t) {
    e._state = "errored", e._storedError = t;
    const r = e._reader;
    void 0 !== r && (W(r, t), J(r) ? (r._readRequests.forEach(e => {
      e._errorSteps(t);
    }), r._readRequests = new w()) : (r._readIntoRequests.forEach(e => {
      e._errorSteps(t);
    }), r._readIntoRequests = new w()));
  }
  function mr(e) {
    return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`);
  }
  function pr(e, t) {
    L(e, t);
    const r = null == e ? void 0 : e.highWaterMark;
    return M(r, "highWaterMark", "QueuingStrategyInit"), {
      highWaterMark: Q(r)
    };
  }
  Object.defineProperties(ReadableStream.prototype, {
    cancel: {
      enumerable: !0
    },
    getReader: {
      enumerable: !0
    },
    pipeThrough: {
      enumerable: !0
    },
    pipeTo: {
      enumerable: !0
    },
    tee: {
      enumerable: !0
    },
    values: {
      enumerable: !0
    },
    locked: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ReadableStream.prototype, t.toStringTag, {
    value: "ReadableStream",
    configurable: !0
  }), "symbol" == typeof t.asyncIterator && Object.defineProperty(ReadableStream.prototype, t.asyncIterator, {
    value: ReadableStream.prototype.values,
    writable: !0,
    configurable: !0
  });
  const yr = e => e.byteLength;
  try {
    Object.defineProperty(yr, "name", {
      value: "size",
      configurable: !0
    });
  } catch (e) {}
  class ByteLengthQueuingStrategy {
    constructor(e) {
      $(e, 1, "ByteLengthQueuingStrategy"), e = pr(e, "First parameter"), this._byteLengthQueuingStrategyHighWaterMark = e.highWaterMark;
    }
    get highWaterMark() {
      if (!Sr(this)) throw gr("highWaterMark");
      return this._byteLengthQueuingStrategyHighWaterMark;
    }
    get size() {
      if (!Sr(this)) throw gr("size");
      return yr;
    }
  }
  function gr(e) {
    return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`);
  }
  function Sr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_byteLengthQueuingStrategyHighWaterMark") && e instanceof ByteLengthQueuingStrategy;
  }
  Object.defineProperties(ByteLengthQueuingStrategy.prototype, {
    highWaterMark: {
      enumerable: !0
    },
    size: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(ByteLengthQueuingStrategy.prototype, t.toStringTag, {
    value: "ByteLengthQueuingStrategy",
    configurable: !0
  });
  const vr = () => 1;
  try {
    Object.defineProperty(vr, "name", {
      value: "size",
      configurable: !0
    });
  } catch (e) {}
  class CountQueuingStrategy {
    constructor(e) {
      $(e, 1, "CountQueuingStrategy"), e = pr(e, "First parameter"), this._countQueuingStrategyHighWaterMark = e.highWaterMark;
    }
    get highWaterMark() {
      if (!Rr(this)) throw wr("highWaterMark");
      return this._countQueuingStrategyHighWaterMark;
    }
    get size() {
      if (!Rr(this)) throw wr("size");
      return vr;
    }
  }
  function wr(e) {
    return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`);
  }
  function Rr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_countQueuingStrategyHighWaterMark") && e instanceof CountQueuingStrategy;
  }
  function Tr(e, t, r) {
    return F(e, r), r => v(e, t, [r]);
  }
  function Cr(e, t, r) {
    return F(e, r), r => S(e, t, [r]);
  }
  function Pr(e, t, r) {
    return F(e, r), (r, o) => v(e, t, [r, o]);
  }
  Object.defineProperties(CountQueuingStrategy.prototype, {
    highWaterMark: {
      enumerable: !0
    },
    size: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(CountQueuingStrategy.prototype, t.toStringTag, {
    value: "CountQueuingStrategy",
    configurable: !0
  });
  class TransformStream {
    constructor(e = {}, t = {}, r = {}) {
      void 0 === e && (e = null);
      const o = Ve(t, "Second parameter"),
        n = Ve(r, "Third parameter"),
        a = function (e, t) {
          L(e, t);
          const r = null == e ? void 0 : e.flush,
            o = null == e ? void 0 : e.readableType,
            n = null == e ? void 0 : e.start,
            a = null == e ? void 0 : e.transform,
            i = null == e ? void 0 : e.writableType;
          return {
            flush: void 0 === r ? void 0 : Tr(r, e, `${t} has member 'flush' that`),
            readableType: o,
            start: void 0 === n ? void 0 : Cr(n, e, `${t} has member 'start' that`),
            transform: void 0 === a ? void 0 : Pr(a, e, `${t} has member 'transform' that`),
            writableType: i
          };
        }(e, "First parameter");
      if (void 0 !== a.readableType) throw new RangeError("Invalid readableType specified");
      if (void 0 !== a.writableType) throw new RangeError("Invalid writableType specified");
      const i = Ne(n, 0),
        l = He(n),
        s = Ne(o, 1),
        u = He(o);
      let b;
      !function (e, t, r, o, n, a) {
        function i() {
          return t;
        }
        function l(t) {
          return function (e, t) {
            const r = e._transformStreamController;
            if (e._backpressure) {
              return p(e._backpressureChangePromise, () => {
                const o = e._writable;
                if ("erroring" === o._state) throw o._storedError;
                return Ar(r, t);
              });
            }
            return Ar(r, t);
          }(e, t);
        }
        function s(t) {
          return function (e, t) {
            return Er(e, t), d(void 0);
          }(e, t);
        }
        function u() {
          return function (e) {
            const t = e._readable,
              r = e._transformStreamController,
              o = r._flushAlgorithm();
            return kr(r), p(o, () => {
              if ("errored" === t._state) throw t._storedError;
              Ut(t._readableStreamController);
            }, r => {
              throw Er(e, r), t._storedError;
            });
          }(e);
        }
        function c() {
          return function (e) {
            return Or(e, !1), e._backpressureChangePromise;
          }(e);
        }
        function f(t) {
          return Wr(e, t), d(void 0);
        }
        e._writable = function (e, t, r, o, n = 1, a = () => 1) {
          const i = Object.create(WritableStream.prototype);
          return rt(i), vt(i, Object.create(WritableStreamDefaultController.prototype), e, t, r, o, n, a), i;
        }(i, l, u, s, r, o), e._readable = sr(i, c, f, n, a), e._backpressure = void 0, e._backpressureChangePromise = void 0, e._backpressureChangePromise_resolve = void 0, Or(e, !0), e._transformStreamController = void 0;
      }(this, c(e => {
        b = e;
      }), s, u, i, l), function (e, t) {
        const r = Object.create(TransformStreamDefaultController.prototype);
        let o = e => {
            try {
              return jr(r, e), d(void 0);
            } catch (e) {
              return f(e);
            }
          },
          n = () => d(void 0);
        void 0 !== t.transform && (o = e => t.transform(e, r));
        void 0 !== t.flush && (n = () => t.flush(r));
        !function (e, t, r, o) {
          t._controlledTransformStream = e, e._transformStreamController = t, t._transformAlgorithm = r, t._flushAlgorithm = o;
        }(e, r, o, n);
      }(this, a), void 0 !== a.start ? b(a.start(this._transformStreamController)) : b(void 0);
    }
    get readable() {
      if (!qr(this)) throw Dr("readable");
      return this._readable;
    }
    get writable() {
      if (!qr(this)) throw Dr("writable");
      return this._writable;
    }
  }
  function qr(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_transformStreamController") && e instanceof TransformStream;
  }
  function Er(e, t) {
    Xt(e._readable._readableStreamController, t), Wr(e, t);
  }
  function Wr(e, t) {
    kr(e._transformStreamController), Ct(e._writable._writableStreamController, t), e._backpressure && Or(e, !1);
  }
  function Or(e, t) {
    void 0 !== e._backpressureChangePromise && e._backpressureChangePromise_resolve(), e._backpressureChangePromise = c(t => {
      e._backpressureChangePromise_resolve = t;
    }), e._backpressure = t;
  }
  Object.defineProperties(TransformStream.prototype, {
    readable: {
      enumerable: !0
    },
    writable: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(TransformStream.prototype, t.toStringTag, {
    value: "TransformStream",
    configurable: !0
  });
  class TransformStreamDefaultController {
    constructor() {
      throw new TypeError("Illegal constructor");
    }
    get desiredSize() {
      if (!Br(this)) throw zr("desiredSize");
      return Jt(this._controlledTransformStream._readable._readableStreamController);
    }
    enqueue(e) {
      if (!Br(this)) throw zr("enqueue");
      jr(this, e);
    }
    error(e) {
      if (!Br(this)) throw zr("error");
      var t;
      t = e, Er(this._controlledTransformStream, t);
    }
    terminate() {
      if (!Br(this)) throw zr("terminate");
      !function (e) {
        const t = e._controlledTransformStream;
        Ut(t._readable._readableStreamController);
        const r = new TypeError("TransformStream terminated");
        Wr(t, r);
      }(this);
    }
  }
  function Br(e) {
    return !!n(e) && !!Object.prototype.hasOwnProperty.call(e, "_controlledTransformStream") && e instanceof TransformStreamDefaultController;
  }
  function kr(e) {
    e._transformAlgorithm = void 0, e._flushAlgorithm = void 0;
  }
  function jr(e, t) {
    const r = e._controlledTransformStream,
      o = r._readable._readableStreamController;
    if (!Kt(o)) throw new TypeError("Readable side is not in a state that permits enqueue");
    try {
      Gt(o, t);
    } catch (e) {
      throw Wr(r, e), r._readable._storedError;
    }
    (function (e) {
      return !Ht(e);
    })(o) !== r._backpressure && Or(r, !0);
  }
  function Ar(e, t) {
    return p(e._transformAlgorithm(t), void 0, t => {
      throw Er(e._controlledTransformStream, t), t;
    });
  }
  function zr(e) {
    return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`);
  }
  function Dr(e) {
    return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`);
  }
  Object.defineProperties(TransformStreamDefaultController.prototype, {
    enqueue: {
      enumerable: !0
    },
    error: {
      enumerable: !0
    },
    terminate: {
      enumerable: !0
    },
    desiredSize: {
      enumerable: !0
    }
  }), "symbol" == typeof t.toStringTag && Object.defineProperty(TransformStreamDefaultController.prototype, t.toStringTag, {
    value: "TransformStreamDefaultController",
    configurable: !0
  });
  const Lr = {
    ReadableStream: ReadableStream,
    ReadableStreamDefaultController: ReadableStreamDefaultController,
    ReadableByteStreamController: ReadableByteStreamController,
    ReadableStreamBYOBRequest: ReadableStreamBYOBRequest,
    ReadableStreamDefaultReader: ReadableStreamDefaultReader,
    ReadableStreamBYOBReader: ReadableStreamBYOBReader,
    WritableStream: WritableStream,
    WritableStreamDefaultController: WritableStreamDefaultController,
    WritableStreamDefaultWriter: WritableStreamDefaultWriter,
    ByteLengthQueuingStrategy: ByteLengthQueuingStrategy,
    CountQueuingStrategy: CountQueuingStrategy,
    TransformStream: TransformStream,
    TransformStreamDefaultController: TransformStreamDefaultController
  };
  if (void 0 !== o) for (const e in Lr) Object.prototype.hasOwnProperty.call(Lr, e) && Object.defineProperty(o, e, {
    value: Lr[e],
    writable: !0,
    configurable: !0
  });
  e.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy, e.CountQueuingStrategy = CountQueuingStrategy, e.ReadableByteStreamController = ReadableByteStreamController, e.ReadableStream = ReadableStream, e.ReadableStreamBYOBReader = ReadableStreamBYOBReader, e.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest, e.ReadableStreamDefaultController = ReadableStreamDefaultController, e.ReadableStreamDefaultReader = ReadableStreamDefaultReader, e.TransformStream = TransformStream, e.TransformStreamDefaultController = TransformStreamDefaultController, e.WritableStream = WritableStream, e.WritableStreamDefaultController = WritableStreamDefaultController, e.WritableStreamDefaultWriter = WritableStreamDefaultWriter, Object.defineProperty(e, "__esModule", {
    value: !0
  });
});

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfd2ViLXN0cmVhbXMtcG9seWZpbGxfZGlzdF9wb2x5ZmlsbF9lczIwMThfbWluX2pzLmNvbW0tc2Vydi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7RUFFQSxNQUFNQSxDQUFBLEdBQ2MscUJBQVhDLE1BQUEsSUFBb0QsbUJBQXBCQSxNQUFBLENBQU9DLFFBQUEsR0FDNUNELE1BQUEsR0FDQUUsQ0FBQSxJQUFlLFVBQVVBLENBQUE7RUFBQSxTQ0hiQyxFQUFBO0VBZVQsTUFBTUMsQ0FBQSxHQVZTLHNCQUFUQyxJQUFBLEdBQ0ZBLElBQUEsR0FDb0Isc0JBQVhDLE1BQUEsR0FDVEEsTUFBQSxHQUNvQixzQkFBWEMsTUFBQSxHQUNUQSxNQUFBLFFBREY7RUFBQSxTQ1JPQyxFQUFhTixDQUFBO0lBQzNCLE9BQXFCLG1CQUFOQSxDQUFBLElBQXdCLFNBQU5BLENBQUEsSUFBNEIscUJBQU5BLENBQUE7RUFBQTtFQUdsRCxNQUFNTyxDQUFBLEdBVVBOLENBQUE7SUNiQU8sQ0FBQSxHQUFrQkMsT0FBQTtJQUNsQkMsQ0FBQSxHQUFzQkQsT0FBQSxDQUFRRSxTQUFBLENBQVVDLElBQUE7SUFDeENDLENBQUEsR0FBeUJKLE9BQUEsQ0FBUUssT0FBQSxDQUFRQyxJQUFBLENBQUtQLENBQUE7SUFDOUNRLENBQUEsR0FBd0JQLE9BQUEsQ0FBUVEsTUFBQSxDQUFPRixJQUFBLENBQUtQLENBQUE7RUFBQSxTQUVsQ1UsRUFBY2xCLENBQUE7SUFJNUIsT0FBTyxJQUFJUSxDQUFBLENBQWdCUixDQUFBO0VBQUE7RUFBQSxTQUdibUIsRUFBdUJuQixDQUFBO0lBQ3JDLE9BQU9hLENBQUEsQ0FBdUJiLENBQUE7RUFBQTtFQUFBLFNBR2hCb0IsRUFBK0JwQixDQUFBO0lBQzdDLE9BQU9nQixDQUFBLENBQXNCaEIsQ0FBQTtFQUFBO0VBQUEsU0FHZnFCLEVBQ2RyQixDQUFBLEVBQ0FILENBQUEsRUFDQUksQ0FBQTtJQUdBLE9BQU9TLENBQUEs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QXBKLE1BQUEsQ0FBQU8sY0FBQSxDQUFBbEgsQ0FBQTtJQUFBdUcsS0FBQTtFQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3N0dWIvc3ltYm9sLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvaGVscGVycy9taXNjZWxsYW5lb3VzLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2hlbHBlcnMvd2ViaWRsLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3NpbXBsZS1xdWV1ZS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9yZWFkYWJsZS1zdHJlYW0vZ2VuZXJpYy1yZWFkZXIudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvYWJzdHJhY3Qtb3BzL2ludGVybmFsLW1ldGhvZHMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9zdHViL251bWJlci1pc2Zpbml0ZS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3N0dWIvbWF0aC10cnVuYy50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL2Jhc2ljLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvcmVhZGFibGUtc3RyZWFtLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3JlYWRhYmxlLXN0cmVhbS9kZWZhdWx0LXJlYWRlci50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL3RhcmdldC9lczIwMTgvc3R1Yi9hc3luYy1pdGVyYXRvci1wcm90b3R5cGUudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL2FzeW5jLWl0ZXJhdG9yLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvc3R1Yi9udW1iZXItaXNuYW4udHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvYWJzdHJhY3Qtb3BzL2VjbWFzY3JpcHQudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvYWJzdHJhY3Qtb3BzL21pc2NlbGxhbmVvdXMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvYWJzdHJhY3Qtb3BzL3F1ZXVlLXdpdGgtc2l6ZXMudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL2J5dGUtc3RyZWFtLWNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL2J5b2ItcmVhZGVyLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2Fic3RyYWN0LW9wcy9xdWV1aW5nLXN0cmF0ZWd5LnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvcXVldWluZy1zdHJhdGVneS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3VuZGVybHlpbmctc2luay50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3dyaXRhYmxlLXN0cmVhbS50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9hYm9ydC1zaWduYWwudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvd3JpdGFibGUtc3RyZWFtLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvc3R1Yi9uYXRpdmUudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9zdHViL2RvbS1leGNlcHRpb24udHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL3BpcGUudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvcmVhZGFibGUtc3RyZWFtL2RlZmF1bHQtY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9yZWFkYWJsZS1zdHJlYW0vdGVlLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvdW5kZXJseWluZy1zb3VyY2UudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy9yZWFkZXItb3B0aW9ucy50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3BpcGUtb3B0aW9ucy50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9yZWFkYWJsZS1zdHJlYW0udHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy9yZWFkYWJsZS13cml0YWJsZS1wYWlyLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL3ZhbGlkYXRvcnMvaXRlcmF0b3Itb3B0aW9ucy50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi92YWxpZGF0b3JzL3F1ZXVpbmctc3RyYXRlZ3ktaW5pdC50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi9ieXRlLWxlbmd0aC1xdWV1aW5nLXN0cmF0ZWd5LnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvbGliL2NvdW50LXF1ZXVpbmctc3RyYXRlZ3kudHMiLCJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4uL3NyYy9saWIvdmFsaWRhdG9ycy90cmFuc2Zvcm1lci50cyIsIndlYnBhY2s6Ly9Ab3dsbWVhbnMvcmVnb3YtY29tbS1zZXJ2ZXIvLi4vc3JjL2xpYi90cmFuc2Zvcm0tc3RyZWFtLnRzIiwid2VicGFjazovL0Bvd2xtZWFucy9yZWdvdi1jb21tLXNlcnZlci8uLi9zcmMvcG9seWZpbGwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgbGliPVwiZXMyMDE1LnN5bWJvbFwiIC8+XG5cbmNvbnN0IFN5bWJvbFBvbHlmaWxsOiAoZGVzY3JpcHRpb24/OiBzdHJpbmcpID0+IHN5bWJvbCA9XG4gIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcgP1xuICAgIFN5bWJvbCA6XG4gICAgZGVzY3JpcHRpb24gPT4gYFN5bWJvbCgke2Rlc2NyaXB0aW9ufSlgIGFzIGFueSBhcyBzeW1ib2w7XG5cbmV4cG9ydCBkZWZhdWx0IFN5bWJvbFBvbHlmaWxsO1xuIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZG9tXCIgLz5cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKTogdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZ2V0R2xvYmFscygpIHtcbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzZWxmO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IGdsb2JhbHMgPSBnZXRHbG9iYWxzKCk7XG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgQXNzZXJ0aW9uRXJyb3IgfSBmcm9tICcuLi8uLi9zdHViL2Fzc2VydCc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0eXBlSXNPYmplY3QoeDogYW55KTogeCBpcyBvYmplY3Qge1xuICByZXR1cm4gKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKSB8fCB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGNvbnN0IHJldGhyb3dBc3NlcnRpb25FcnJvclJlamVjdGlvbjogKGU6IGFueSkgPT4gdm9pZCA9XG4gIERFQlVHID8gZSA9PiB7XG4gICAgLy8gVXNlZCB0aHJvdWdob3V0IHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24sIGFzIGAuY2F0Y2gocmV0aHJvd0Fzc2VydGlvbkVycm9yUmVqZWN0aW9uKWAsIHRvIGVuc3VyZSBhbnkgZXJyb3JzXG4gICAgLy8gZ2V0IHNob3duLiBUaGVyZSBhcmUgcGxhY2VzIGluIHRoZSBzcGVjIHdoZXJlIHdlIGRvIHByb21pc2UgdHJhbnNmb3JtYXRpb25zIGFuZCBwdXJwb3NlZnVsbHkgaWdub3JlIG9yIGRvbid0XG4gICAgLy8gZXhwZWN0IGFueSBlcnJvcnMsIGJ1dCBhc3NlcnRpb24gZXJyb3JzIGFyZSBhbHdheXMgcHJvYmxlbWF0aWMuXG4gICAgaWYgKGUgJiYgZSBpbnN0YW5jZW9mIEFzc2VydGlvbkVycm9yKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfSA6IG5vb3A7XG4iLCJpbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IHsgcmV0aHJvd0Fzc2VydGlvbkVycm9yUmVqZWN0aW9uIH0gZnJvbSAnLi9taXNjZWxsYW5lb3VzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuXG5jb25zdCBvcmlnaW5hbFByb21pc2UgPSBQcm9taXNlO1xuY29uc3Qgb3JpZ2luYWxQcm9taXNlVGhlbiA9IFByb21pc2UucHJvdG90eXBlLnRoZW47XG5jb25zdCBvcmlnaW5hbFByb21pc2VSZXNvbHZlID0gUHJvbWlzZS5yZXNvbHZlLmJpbmQob3JpZ2luYWxQcm9taXNlKTtcbmNvbnN0IG9yaWdpbmFsUHJvbWlzZVJlamVjdCA9IFByb21pc2UucmVqZWN0LmJpbmQob3JpZ2luYWxQcm9taXNlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5ld1Byb21pc2U8VD4oZXhlY3V0b3I6IChcbiAgcmVzb2x2ZTogKHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pID0+IHZvaWQsXG4gIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZFxuKSA9PiB2b2lkKTogUHJvbWlzZTxUPiB7XG4gIHJldHVybiBuZXcgb3JpZ2luYWxQcm9taXNlKGV4ZWN1dG9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2VSZXNvbHZlZFdpdGg8VD4odmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPik6IFByb21pc2U8VD4ge1xuICByZXR1cm4gb3JpZ2luYWxQcm9taXNlUmVzb2x2ZSh2YWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlUmVqZWN0ZWRXaXRoPFQgPSBuZXZlcj4ocmVhc29uOiBhbnkpOiBQcm9taXNlPFQ+IHtcbiAgcmV0dXJuIG9yaWdpbmFsUHJvbWlzZVJlamVjdChyZWFzb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUGVyZm9ybVByb21pc2VUaGVuPFQsIFRSZXN1bHQxID0gVCwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gIHByb21pc2U6IFByb21pc2U8VD4sXG4gIG9uRnVsZmlsbGVkPzogKHZhbHVlOiBUKSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPixcbiAgb25SZWplY3RlZD86IChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pOiBQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+IHtcbiAgLy8gVGhlcmUgZG9lc24ndCBhcHBlYXIgdG8gYmUgYW55IHdheSB0byBjb3JyZWN0bHkgZW11bGF0ZSB0aGUgYmVoYXZpb3VyIGZyb20gSmF2YVNjcmlwdCwgc28gdGhpcyBpcyBqdXN0IGFuXG4gIC8vIGFwcHJveGltYXRpb24uXG4gIHJldHVybiBvcmlnaW5hbFByb21pc2VUaGVuLmNhbGwocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIGFzIFByb21pc2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cG9uUHJvbWlzZTxUPihcbiAgcHJvbWlzZTogUHJvbWlzZTxUPixcbiAgb25GdWxmaWxsZWQ/OiAodmFsdWU6IFQpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgb25SZWplY3RlZD86IChyZWFzb246IGFueSkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+KTogdm9pZCB7XG4gIFBlcmZvcm1Qcm9taXNlVGhlbihcbiAgICBQZXJmb3JtUHJvbWlzZVRoZW4ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpLFxuICAgIHVuZGVmaW5lZCxcbiAgICByZXRocm93QXNzZXJ0aW9uRXJyb3JSZWplY3Rpb25cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwb25GdWxmaWxsbWVudDxUPihwcm9taXNlOiBQcm9taXNlPFQ+LCBvbkZ1bGZpbGxlZDogKHZhbHVlOiBUKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4pOiB2b2lkIHtcbiAgdXBvblByb21pc2UocHJvbWlzZSwgb25GdWxmaWxsZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBvblJlamVjdGlvbihwcm9taXNlOiBQcm9taXNlPHVua25vd24+LCBvblJlamVjdGVkOiAocmVhc29uOiBhbnkpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPik6IHZvaWQge1xuICB1cG9uUHJvbWlzZShwcm9taXNlLCB1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUHJvbWlzZVdpdGg8VCwgVFJlc3VsdDEgPSBULCBUUmVzdWx0MiA9IG5ldmVyPihcbiAgcHJvbWlzZTogUHJvbWlzZTxUPixcbiAgZnVsZmlsbG1lbnRIYW5kbGVyPzogKHZhbHVlOiBUKSA9PiBUUmVzdWx0MSB8IFByb21pc2VMaWtlPFRSZXN1bHQxPixcbiAgcmVqZWN0aW9uSGFuZGxlcj86IChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pOiBQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+IHtcbiAgcmV0dXJuIFBlcmZvcm1Qcm9taXNlVGhlbihwcm9taXNlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZShwcm9taXNlOiBQcm9taXNlPHVua25vd24+KTogdm9pZCB7XG4gIFBlcmZvcm1Qcm9taXNlVGhlbihwcm9taXNlLCB1bmRlZmluZWQsIHJldGhyb3dBc3NlcnRpb25FcnJvclJlamVjdGlvbik7XG59XG5cbmV4cG9ydCBjb25zdCBxdWV1ZU1pY3JvdGFzazogKGZuOiAoKSA9PiB2b2lkKSA9PiB2b2lkID0gKCgpID0+IHtcbiAgY29uc3QgZ2xvYmFsUXVldWVNaWNyb3Rhc2sgPSBnbG9iYWxzICYmIGdsb2JhbHMucXVldWVNaWNyb3Rhc2s7XG4gIGlmICh0eXBlb2YgZ2xvYmFsUXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZ2xvYmFsUXVldWVNaWNyb3Rhc2s7XG4gIH1cblxuICBjb25zdCByZXNvbHZlZFByb21pc2UgPSBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIHJldHVybiAoZm46ICgpID0+IHZvaWQpID0+IFBlcmZvcm1Qcm9taXNlVGhlbihyZXNvbHZlZFByb21pc2UsIGZuKTtcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWZsZWN0Q2FsbDxULCBBIGV4dGVuZHMgYW55W10sIFI+KEY6ICh0aGlzOiBULCAuLi5mbkFyZ3M6IEEpID0+IFIsIFY6IFQsIGFyZ3M6IEEpOiBSIHtcbiAgaWYgKHR5cGVvZiBGICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgfVxuICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoRiwgViwgYXJncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlQ2FsbDxULCBBIGV4dGVuZHMgYW55W10sIFI+KEY6ICh0aGlzOiBULCAuLi5mbkFyZ3M6IEEpID0+IFIgfCBQcm9taXNlTGlrZTxSPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFY6IFQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBBKTogUHJvbWlzZTxSPiB7XG4gIGFzc2VydCh0eXBlb2YgRiA9PT0gJ2Z1bmN0aW9uJyk7XG4gIGFzc2VydChWICE9PSB1bmRlZmluZWQpO1xuICBhc3NlcnQoQXJyYXkuaXNBcnJheShhcmdzKSk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgocmVmbGVjdENhbGwoRiwgViwgYXJncykpO1xuICB9IGNhdGNoICh2YWx1ZSkge1xuICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHZhbHVlKTtcbiAgfVxufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi9zdHViL2Fzc2VydCc7XG5cbi8vIE9yaWdpbmFsIGZyb20gQ2hyb21pdW1cbi8vIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9jaHJvbWl1bS9zcmMvKy8wYWVlNDQzNGE0ZGJhNDJhNDJhYmFlYTliZmJjMGNkMTk2YTYzYmMxL3RoaXJkX3BhcnR5L2JsaW5rL3JlbmRlcmVyL2NvcmUvc3RyZWFtcy9TaW1wbGVRdWV1ZS5qc1xuXG5jb25zdCBRVUVVRV9NQVhfQVJSQVlfU0laRSA9IDE2Mzg0O1xuXG5pbnRlcmZhY2UgTm9kZTxUPiB7XG4gIF9lbGVtZW50czogVFtdO1xuICBfbmV4dDogTm9kZTxUPiB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBTaW1wbGUgcXVldWUgc3RydWN0dXJlLlxuICpcbiAqIEF2b2lkcyBzY2FsYWJpbGl0eSBpc3N1ZXMgd2l0aCB1c2luZyBhIHBhY2tlZCBhcnJheSBkaXJlY3RseSBieSB1c2luZ1xuICogbXVsdGlwbGUgYXJyYXlzIGluIGEgbGlua2VkIGxpc3QgYW5kIGtlZXBpbmcgdGhlIGFycmF5IHNpemUgYm91bmRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNpbXBsZVF1ZXVlPFQ+IHtcbiAgcHJpdmF0ZSBfZnJvbnQ6IE5vZGU8VD47XG4gIHByaXZhdGUgX2JhY2s6IE5vZGU8VD47XG4gIHByaXZhdGUgX2N1cnNvciA9IDA7XG4gIHByaXZhdGUgX3NpemUgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIF9mcm9udCBhbmQgX2JhY2sgYXJlIGFsd2F5cyBkZWZpbmVkLlxuICAgIHRoaXMuX2Zyb250ID0ge1xuICAgICAgX2VsZW1lbnRzOiBbXSxcbiAgICAgIF9uZXh0OiB1bmRlZmluZWRcbiAgICB9O1xuICAgIHRoaXMuX2JhY2sgPSB0aGlzLl9mcm9udDtcbiAgICAvLyBUaGUgY3Vyc29yIGlzIHVzZWQgdG8gYXZvaWQgY2FsbGluZyBBcnJheS5zaGlmdCgpLlxuICAgIC8vIEl0IGNvbnRhaW5zIHRoZSBpbmRleCBvZiB0aGUgZnJvbnQgZWxlbWVudCBvZiB0aGUgYXJyYXkgaW5zaWRlIHRoZVxuICAgIC8vIGZyb250LW1vc3Qgbm9kZS4gSXQgaXMgYWx3YXlzIGluIHRoZSByYW5nZSBbMCwgUVVFVUVfTUFYX0FSUkFZX1NJWkUpLlxuICAgIHRoaXMuX2N1cnNvciA9IDA7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBvbmx5IG9uZSBub2RlLCBzaXplID09PSBlbGVtZW50cy5sZW5ndGggLSBjdXJzb3IuXG4gICAgdGhpcy5fc2l6ZSA9IDA7XG4gIH1cblxuICBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICAvLyBGb3IgZXhjZXB0aW9uIHNhZmV0eSwgdGhpcyBtZXRob2QgaXMgc3RydWN0dXJlZCBpbiBvcmRlcjpcbiAgLy8gMS4gUmVhZCBzdGF0ZVxuICAvLyAyLiBDYWxjdWxhdGUgcmVxdWlyZWQgc3RhdGUgbXV0YXRpb25zXG4gIC8vIDMuIFBlcmZvcm0gc3RhdGUgbXV0YXRpb25zXG4gIHB1c2goZWxlbWVudDogVCk6IHZvaWQge1xuICAgIGNvbnN0IG9sZEJhY2sgPSB0aGlzLl9iYWNrO1xuICAgIGxldCBuZXdCYWNrID0gb2xkQmFjaztcbiAgICBhc3NlcnQob2xkQmFjay5fbmV4dCA9PT0gdW5kZWZpbmVkKTtcbiAgICBpZiAob2xkQmFjay5fZWxlbWVudHMubGVuZ3RoID09PSBRVUVVRV9NQVhfQVJSQVlfU0laRSAtIDEpIHtcbiAgICAgIG5ld0JhY2sgPSB7XG4gICAgICAgIF9lbGVtZW50czogW10sXG4gICAgICAgIF9uZXh0OiB1bmRlZmluZWRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gcHVzaCgpIGlzIHRoZSBtdXRhdGlvbiBtb3N0IGxpa2VseSB0byB0aHJvdyBhbiBleGNlcHRpb24sIHNvIGl0XG4gICAgLy8gZ29lcyBmaXJzdC5cbiAgICBvbGRCYWNrLl9lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgIGlmIChuZXdCYWNrICE9PSBvbGRCYWNrKSB7XG4gICAgICB0aGlzLl9iYWNrID0gbmV3QmFjaztcbiAgICAgIG9sZEJhY2suX25leHQgPSBuZXdCYWNrO1xuICAgIH1cbiAgICArK3RoaXMuX3NpemU7XG4gIH1cblxuICAvLyBMaWtlIHB1c2goKSwgc2hpZnQoKSBmb2xsb3dzIHRoZSByZWFkIC0+IGNhbGN1bGF0ZSAtPiBtdXRhdGUgcGF0dGVybiBmb3JcbiAgLy8gZXhjZXB0aW9uIHNhZmV0eS5cbiAgc2hpZnQoKTogVCB7XG4gICAgYXNzZXJ0KHRoaXMuX3NpemUgPiAwKTsgLy8gbXVzdCBub3QgYmUgY2FsbGVkIG9uIGFuIGVtcHR5IHF1ZXVlXG5cbiAgICBjb25zdCBvbGRGcm9udCA9IHRoaXMuX2Zyb250O1xuICAgIGxldCBuZXdGcm9udCA9IG9sZEZyb250O1xuICAgIGNvbnN0IG9sZEN1cnNvciA9IHRoaXMuX2N1cnNvcjtcbiAgICBsZXQgbmV3Q3Vyc29yID0gb2xkQ3Vyc29yICsgMTtcblxuICAgIGNvbnN0IGVsZW1lbnRzID0gb2xkRnJvbnQuX2VsZW1lbnRzO1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tvbGRDdXJzb3JdO1xuXG4gICAgaWYgKG5ld0N1cnNvciA9PT0gUVVFVUVfTUFYX0FSUkFZX1NJWkUpIHtcbiAgICAgIGFzc2VydChlbGVtZW50cy5sZW5ndGggPT09IFFVRVVFX01BWF9BUlJBWV9TSVpFKTtcbiAgICAgIGFzc2VydChvbGRGcm9udC5fbmV4dCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgIG5ld0Zyb250ID0gb2xkRnJvbnQuX25leHQhO1xuICAgICAgbmV3Q3Vyc29yID0gMDtcbiAgICB9XG5cbiAgICAvLyBObyBtdXRhdGlvbnMgYmVmb3JlIHRoaXMgcG9pbnQuXG4gICAgLS10aGlzLl9zaXplO1xuICAgIHRoaXMuX2N1cnNvciA9IG5ld0N1cnNvcjtcbiAgICBpZiAob2xkRnJvbnQgIT09IG5ld0Zyb250KSB7XG4gICAgICB0aGlzLl9mcm9udCA9IG5ld0Zyb250O1xuICAgIH1cblxuICAgIC8vIFBlcm1pdCBzaGlmdGVkIGVsZW1lbnQgdG8gYmUgZ2FyYmFnZSBjb2xsZWN0ZWQuXG4gICAgZWxlbWVudHNbb2xkQ3Vyc29yXSA9IHVuZGVmaW5lZCE7XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8vIFRoZSB0cmlja3kgdGhpbmcgYWJvdXQgZm9yRWFjaCgpIGlzIHRoYXQgaXQgY2FuIGJlIGNhbGxlZFxuICAvLyByZS1lbnRyYW50bHkuIFRoZSBxdWV1ZSBtYXkgYmUgbXV0YXRlZCBpbnNpZGUgdGhlIGNhbGxiYWNrLiBJdCBpcyBlYXN5IHRvXG4gIC8vIHNlZSB0aGF0IHB1c2goKSB3aXRoaW4gdGhlIGNhbGxiYWNrIGhhcyBubyBuZWdhdGl2ZSBlZmZlY3RzIHNpbmNlIHRoZSBlbmRcbiAgLy8gb2YgdGhlIHF1ZXVlIGlzIGNoZWNrZWQgZm9yIG9uIGV2ZXJ5IGl0ZXJhdGlvbi4gSWYgc2hpZnQoKSBpcyBjYWxsZWRcbiAgLy8gcmVwZWF0ZWRseSB3aXRoaW4gdGhlIGNhbGxiYWNrIHRoZW4gdGhlIG5leHQgaXRlcmF0aW9uIG1heSByZXR1cm4gYW5cbiAgLy8gZWxlbWVudCB0aGF0IGhhcyBiZWVuIHJlbW92ZWQuIEluIHRoaXMgY2FzZSB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWRcbiAgLy8gd2l0aCB1bmRlZmluZWQgdmFsdWVzIHVudGlsIHdlIGVpdGhlciBcImNhdGNoIHVwXCIgd2l0aCBlbGVtZW50cyB0aGF0IHN0aWxsXG4gIC8vIGV4aXN0IG9yIHJlYWNoIHRoZSBiYWNrIG9mIHRoZSBxdWV1ZS5cbiAgZm9yRWFjaChjYWxsYmFjazogKGVsZW1lbnQ6IFQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBsZXQgaSA9IHRoaXMuX2N1cnNvcjtcbiAgICBsZXQgbm9kZSA9IHRoaXMuX2Zyb250O1xuICAgIGxldCBlbGVtZW50cyA9IG5vZGUuX2VsZW1lbnRzO1xuICAgIHdoaWxlIChpICE9PSBlbGVtZW50cy5sZW5ndGggfHwgbm9kZS5fbmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoaSA9PT0gZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGFzc2VydChub2RlLl9uZXh0ICE9PSB1bmRlZmluZWQpO1xuICAgICAgICBhc3NlcnQoaSA9PT0gUVVFVUVfTUFYX0FSUkFZX1NJWkUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dCE7XG4gICAgICAgIGVsZW1lbnRzID0gbm9kZS5fZWxlbWVudHM7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKGVsZW1lbnRzW2ldKTtcbiAgICAgICsraTtcbiAgICB9XG4gIH1cblxuICAvLyBSZXR1cm4gdGhlIGVsZW1lbnQgdGhhdCB3b3VsZCBiZSByZXR1cm5lZCBpZiBzaGlmdCgpIHdhcyBjYWxsZWQgbm93LFxuICAvLyB3aXRob3V0IG1vZGlmeWluZyB0aGUgcXVldWUuXG4gIHBlZWsoKTogVCB7XG4gICAgYXNzZXJ0KHRoaXMuX3NpemUgPiAwKTsgLy8gbXVzdCBub3QgYmUgY2FsbGVkIG9uIGFuIGVtcHR5IHF1ZXVlXG5cbiAgICBjb25zdCBmcm9udCA9IHRoaXMuX2Zyb250O1xuICAgIGNvbnN0IGN1cnNvciA9IHRoaXMuX2N1cnNvcjtcbiAgICByZXR1cm4gZnJvbnQuX2VsZW1lbnRzW2N1cnNvcl07XG4gIH1cbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlU3RyZWFtQ2FuY2VsLCBSZWFkYWJsZVN0cmVhbVJlYWRlciB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBuZXdQcm9taXNlLCBzZXRQcm9taXNlSXNIYW5kbGVkVG9UcnVlIH0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljSW5pdGlhbGl6ZTxSPihyZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPFI+LCBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+KSB7XG4gIHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbSA9IHN0cmVhbTtcbiAgc3RyZWFtLl9yZWFkZXIgPSByZWFkZXI7XG5cbiAgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICdyZWFkYWJsZScpIHtcbiAgICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemUocmVhZGVyKTtcbiAgfSBlbHNlIGlmIChzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJykge1xuICAgIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQocmVhZGVyKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKTtcblxuICAgIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQocmVhZGVyLCBzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgfVxufVxuXG4vLyBBIGNsaWVudCBvZiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIgYW5kIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciBtYXkgdXNlIHRoZXNlIGZ1bmN0aW9ucyBkaXJlY3RseSB0byBieXBhc3Mgc3RhdGVcbi8vIGNoZWNrLlxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljQ2FuY2VsKHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55PiwgcmVhc29uOiBhbnkpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICBjb25zdCBzdHJlYW0gPSByZWFkZXIuX293bmVyUmVhZGFibGVTdHJlYW07XG4gIGFzc2VydChzdHJlYW0gIT09IHVuZGVmaW5lZCk7XG4gIHJldHVybiBSZWFkYWJsZVN0cmVhbUNhbmNlbChzdHJlYW0sIHJlYXNvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55Pikge1xuICBhc3NlcnQocmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtICE9PSB1bmRlZmluZWQpO1xuICBhc3NlcnQocmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtLl9yZWFkZXIgPT09IHJlYWRlcik7XG5cbiAgaWYgKHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbS5fc3RhdGUgPT09ICdyZWFkYWJsZScpIHtcbiAgICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZVJlamVjdChcbiAgICAgIHJlYWRlcixcbiAgICAgIG5ldyBUeXBlRXJyb3IoYFJlYWRlciB3YXMgcmVsZWFzZWQgYW5kIGNhbiBubyBsb25nZXIgYmUgdXNlZCB0byBtb25pdG9yIHRoZSBzdHJlYW0ncyBjbG9zZWRuZXNzYCkpO1xuICB9IGVsc2Uge1xuICAgIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVzZXRUb1JlamVjdGVkKFxuICAgICAgcmVhZGVyLFxuICAgICAgbmV3IFR5cGVFcnJvcihgUmVhZGVyIHdhcyByZWxlYXNlZCBhbmQgY2FuIG5vIGxvbmdlciBiZSB1c2VkIHRvIG1vbml0b3IgdGhlIHN0cmVhbSdzIGNsb3NlZG5lc3NgKSk7XG4gIH1cblxuICByZWFkZXIuX293bmVyUmVhZGFibGVTdHJlYW0uX3JlYWRlciA9IHVuZGVmaW5lZDtcbiAgcmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtID0gdW5kZWZpbmVkITtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIHJlYWRlcnMuXG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkZXJMb2NrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKCdDYW5ub3QgJyArIG5hbWUgKyAnIGEgc3RyZWFtIHVzaW5nIGEgcmVsZWFzZWQgcmVhZGVyJyk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIuXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemUocmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxhbnk+KSB7XG4gIHJlYWRlci5fY2xvc2VkUHJvbWlzZSA9IG5ld1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQocmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxhbnk+LCByZWFzb246IGFueSkge1xuICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemUocmVhZGVyKTtcbiAgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZWplY3QocmVhZGVyLCByZWFzb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VJbml0aWFsaXplQXNSZXNvbHZlZChyZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPGFueT4pIHtcbiAgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHJlYWRlcik7XG4gIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVzb2x2ZShyZWFkZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZWplY3QocmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxhbnk+LCByZWFzb246IGFueSkge1xuICBpZiAocmVhZGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZShyZWFkZXIuX2Nsb3NlZFByb21pc2UpO1xuICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0KHJlYXNvbik7XG4gIHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZXNldFRvUmVqZWN0ZWQocmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxhbnk+LCByZWFzb246IGFueSkge1xuICBhc3NlcnQocmVhZGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydChyZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID09PSB1bmRlZmluZWQpO1xuXG4gIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQocmVhZGVyLCByZWFzb24pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZXNvbHZlKHJlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8YW55Pikge1xuICBpZiAocmVhZGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlKHVuZGVmaW5lZCk7XG4gIHJlYWRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICByZWFkZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID0gdW5kZWZpbmVkO1xufVxuIiwiZXhwb3J0IGNvbnN0IEFib3J0U3RlcHMgPSBTeW1ib2woJ1tbQWJvcnRTdGVwc11dJyk7XG5leHBvcnQgY29uc3QgRXJyb3JTdGVwcyA9IFN5bWJvbCgnW1tFcnJvclN0ZXBzXV0nKTtcbmV4cG9ydCBjb25zdCBDYW5jZWxTdGVwcyA9IFN5bWJvbCgnW1tDYW5jZWxTdGVwc11dJyk7XG5leHBvcnQgY29uc3QgUHVsbFN0ZXBzID0gU3ltYm9sKCdbW1B1bGxTdGVwc11dJyk7XG4iLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJlczIwMTUuY29yZVwiIC8+XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL051bWJlci9pc0Zpbml0ZSNQb2x5ZmlsbFxuY29uc3QgTnVtYmVySXNGaW5pdGU6IHR5cGVvZiBOdW1iZXIuaXNGaW5pdGUgPSBOdW1iZXIuaXNGaW5pdGUgfHwgZnVuY3Rpb24gKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh4KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE51bWJlcklzRmluaXRlO1xuIiwiLy8vIDxyZWZlcmVuY2UgbGliPVwiZXMyMDE1LmNvcmVcIiAvPlxuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3RydW5jI1BvbHlmaWxsXG5jb25zdCBNYXRoVHJ1bmM6IHR5cGVvZiBNYXRoLnRydW5jID0gTWF0aC50cnVuYyB8fCBmdW5jdGlvbiAodikge1xuICByZXR1cm4gdiA8IDAgPyBNYXRoLmNlaWwodikgOiBNYXRoLmZsb29yKHYpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTWF0aFRydW5jO1xuIiwiaW1wb3J0IE51bWJlcklzRmluaXRlIGZyb20gJy4uLy4uL3N0dWIvbnVtYmVyLWlzZmluaXRlJztcbmltcG9ydCBNYXRoVHJ1bmMgZnJvbSAnLi4vLi4vc3R1Yi9tYXRoLXRydW5jJztcblxuLy8gaHR0cHM6Ly9oZXljYW0uZ2l0aHViLmlvL3dlYmlkbC8jaWRsLWRpY3Rpb25hcmllc1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGljdGlvbmFyeSh4OiBhbnkpOiB4IGlzIG9iamVjdCB8IG51bGwge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdvYmplY3QnIHx8IHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGljdGlvbmFyeShvYmo6IHVua25vd24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBhc3NlcnRzIG9iaiBpcyBvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkIHtcbiAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkICYmICFpc0RpY3Rpb25hcnkob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gaXMgbm90IGFuIG9iamVjdC5gKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBBbnlGdW5jdGlvbiA9ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55O1xuXG4vLyBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNpZGwtY2FsbGJhY2stZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RnVuY3Rpb24oeDogdW5rbm93biwgY29udGV4dDogc3RyaW5nKTogYXNzZXJ0cyB4IGlzIEFueUZ1bmN0aW9uIHtcbiAgaWYgKHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjb250ZXh0fSBpcyBub3QgYSBmdW5jdGlvbi5gKTtcbiAgfVxufVxuXG4vLyBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNpZGwtb2JqZWN0XG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeDogYW55KTogeCBpcyBvYmplY3Qge1xuICByZXR1cm4gKHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsKSB8fCB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE9iamVjdCh4OiB1bmtub3duLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBhc3NlcnRzIHggaXMgb2JqZWN0IHtcbiAgaWYgKCFpc09iamVjdCh4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gaXMgbm90IGFuIG9iamVjdC5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UmVxdWlyZWRBcmd1bWVudDxUIGV4dGVuZHMgYW55Pih4OiBUIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IGFzc2VydHMgeCBpcyBUIHtcbiAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFBhcmFtZXRlciAke3Bvc2l0aW9ufSBpcyByZXF1aXJlZCBpbiAnJHtjb250ZXh0fScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFJlcXVpcmVkRmllbGQ8VCBleHRlbmRzIGFueT4oeDogVCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBhc3NlcnRzIHggaXMgVCB7XG4gIGlmICh4ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2ZpZWxkfSBpcyByZXF1aXJlZCBpbiAnJHtjb250ZXh0fScuYCk7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9oZXljYW0uZ2l0aHViLmlvL3dlYmlkbC8jaWRsLXVucmVzdHJpY3RlZC1kb3VibGVcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VW5yZXN0cmljdGVkRG91YmxlKHZhbHVlOiB1bmtub3duKTogbnVtYmVyIHtcbiAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGNlbnNvck5lZ2F0aXZlWmVybyh4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4geCA9PT0gMCA/IDAgOiB4O1xufVxuXG5mdW5jdGlvbiBpbnRlZ2VyUGFydCh4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gY2Vuc29yTmVnYXRpdmVaZXJvKE1hdGhUcnVuYyh4KSk7XG59XG5cbi8vIGh0dHBzOi8vaGV5Y2FtLmdpdGh1Yi5pby93ZWJpZGwvI2lkbC11bnNpZ25lZC1sb25nLWxvbmdcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VW5zaWduZWRMb25nTG9uZ1dpdGhFbmZvcmNlUmFuZ2UodmFsdWU6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IG51bWJlciB7XG4gIGNvbnN0IGxvd2VyQm91bmQgPSAwO1xuICBjb25zdCB1cHBlckJvdW5kID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG5cbiAgbGV0IHggPSBOdW1iZXIodmFsdWUpO1xuICB4ID0gY2Vuc29yTmVnYXRpdmVaZXJvKHgpO1xuXG4gIGlmICghTnVtYmVySXNGaW5pdGUoeCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9IGlzIG5vdCBhIGZpbml0ZSBudW1iZXJgKTtcbiAgfVxuXG4gIHggPSBpbnRlZ2VyUGFydCh4KTtcblxuICBpZiAoeCA8IGxvd2VyQm91bmQgfHwgeCA+IHVwcGVyQm91bmQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9IGlzIG91dHNpZGUgdGhlIGFjY2VwdGVkIHJhbmdlIG9mICR7bG93ZXJCb3VuZH0gdG8gJHt1cHBlckJvdW5kfSwgaW5jbHVzaXZlYCk7XG4gIH1cblxuICBpZiAoIU51bWJlcklzRmluaXRlKHgpIHx8IHggPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIFRPRE8gVXNlIEJpZ0ludCBpZiBzdXBwb3J0ZWQ/XG4gIC8vIGxldCB4QmlnSW50ID0gQmlnSW50KGludGVnZXJQYXJ0KHgpKTtcbiAgLy8geEJpZ0ludCA9IEJpZ0ludC5hc1VpbnROKDY0LCB4QmlnSW50KTtcbiAgLy8gcmV0dXJuIE51bWJlcih4QmlnSW50KTtcblxuICByZXR1cm4geDtcbn1cbiIsImltcG9ydCB7IElzUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtJztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFJlYWRhYmxlU3RyZWFtKHg6IHVua25vd24sIGNvbnRleHQ6IHN0cmluZyk6IGFzc2VydHMgeCBpcyBSZWFkYWJsZVN0cmVhbSB7XG4gIGlmICghSXNSZWFkYWJsZVN0cmVhbSh4KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gaXMgbm90IGEgUmVhZGFibGVTdHJlYW0uYCk7XG4gIH1cbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgU2ltcGxlUXVldWUgfSBmcm9tICcuLi9zaW1wbGUtcXVldWUnO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljQ2FuY2VsLFxuICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNJbml0aWFsaXplLFxuICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlLFxuICByZWFkZXJMb2NrRXhjZXB0aW9uXG59IGZyb20gJy4vZ2VuZXJpYy1yZWFkZXInO1xuaW1wb3J0IHsgSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCwgUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgdHlwZUlzT2JqZWN0IH0gZnJvbSAnLi4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IFB1bGxTdGVwcyB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9pbnRlcm5hbC1tZXRob2RzJztcbmltcG9ydCB7IG5ld1Byb21pc2UsIHByb21pc2VSZWplY3RlZFdpdGggfSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQgeyBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50IH0gZnJvbSAnLi4vdmFsaWRhdG9ycy9iYXNpYyc7XG5pbXBvcnQgeyBhc3NlcnRSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL3ZhbGlkYXRvcnMvcmVhZGFibGUtc3RyZWFtJztcblxuLyoqXG4gKiBBIHJlc3VsdCByZXR1cm5lZCBieSB7QGxpbmsgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLnJlYWR9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxUPiA9IHtcbiAgZG9uZTogZmFsc2U7XG4gIHZhbHVlOiBUO1xufSB8IHtcbiAgZG9uZTogdHJ1ZTtcbiAgdmFsdWU/OiB1bmRlZmluZWQ7XG59XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbS5cblxuZXhwb3J0IGZ1bmN0aW9uIEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPiB7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHN0cmVhbSk7XG59XG5cbi8vIFJlYWRhYmxlU3RyZWFtIEFQSSBleHBvc2VkIGZvciBjb250cm9sbGVycy5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtQWRkUmVhZFJlcXVlc3Q8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRSZXF1ZXN0OiBSZWFkUmVxdWVzdDxSPik6IHZvaWQge1xuICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIoc3RyZWFtLl9yZWFkZXIpKTtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdyZWFkYWJsZScpO1xuXG4gIChzdHJlYW0uX3JlYWRlciEgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+KS5fcmVhZFJlcXVlc3RzLnB1c2gocmVhZFJlcXVlc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZFJlcXVlc3Q8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPiwgY2h1bms6IFIgfCB1bmRlZmluZWQsIGRvbmU6IGJvb2xlYW4pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLl9yZWFkZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+O1xuXG4gIGFzc2VydChyZWFkZXIuX3JlYWRSZXF1ZXN0cy5sZW5ndGggPiAwKTtcblxuICBjb25zdCByZWFkUmVxdWVzdCA9IHJlYWRlci5fcmVhZFJlcXVlc3RzLnNoaWZ0KCkhO1xuICBpZiAoZG9uZSkge1xuICAgIHJlYWRSZXF1ZXN0Ll9jbG9zZVN0ZXBzKCk7XG4gIH0gZWxzZSB7XG4gICAgcmVhZFJlcXVlc3QuX2NodW5rU3RlcHMoY2h1bmshKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkUmVxdWVzdHM8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPik6IG51bWJlciB7XG4gIHJldHVybiAoc3RyZWFtLl9yZWFkZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+KS5fcmVhZFJlcXVlc3RzLmxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtSGFzRGVmYXVsdFJlYWRlcihzdHJlYW06IFJlYWRhYmxlU3RyZWFtKTogYm9vbGVhbiB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5fcmVhZGVyO1xuXG4gIGlmIChyZWFkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIocmVhZGVyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBSZWFkZXJzXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVhZFJlcXVlc3Q8Uj4ge1xuICBfY2h1bmtTdGVwcyhjaHVuazogUik6IHZvaWQ7XG5cbiAgX2Nsb3NlU3RlcHMoKTogdm9pZDtcblxuICBfZXJyb3JTdGVwcyhlOiBhbnkpOiB2b2lkO1xufVxuXG4vKipcbiAqIEEgZGVmYXVsdCByZWFkZXIgdmVuZGVkIGJ5IGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8UiA9IGFueT4ge1xuICAvKiogQGludGVybmFsICovXG4gIF9vd25lclJlYWRhYmxlU3RyZWFtITogUmVhZGFibGVTdHJlYW08Uj47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2UhOiBQcm9taXNlPHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VfcmVzb2x2ZT86ICh2YWx1ZT86IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2xvc2VkUHJvbWlzZV9yZWplY3Q/OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlYWRSZXF1ZXN0czogU2ltcGxlUXVldWU8UmVhZFJlcXVlc3Q8Uj4+O1xuXG4gIGNvbnN0cnVjdG9yKHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4pIHtcbiAgICBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50KHN0cmVhbSwgMSwgJ1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcicpO1xuICAgIGFzc2VydFJlYWRhYmxlU3RyZWFtKHN0cmVhbSwgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuXG4gICAgaWYgKElzUmVhZGFibGVTdHJlYW1Mb2NrZWQoc3RyZWFtKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhpcyBzdHJlYW0gaGFzIGFscmVhZHkgYmVlbiBsb2NrZWQgZm9yIGV4Y2x1c2l2ZSByZWFkaW5nIGJ5IGFub3RoZXIgcmVhZGVyJyk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljSW5pdGlhbGl6ZSh0aGlzLCBzdHJlYW0pO1xuXG4gICAgdGhpcy5fcmVhZFJlcXVlc3RzID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aGVuIHRoZSBzdHJlYW0gYmVjb21lcyBjbG9zZWQsXG4gICAqIG9yIHJlamVjdGVkIGlmIHRoZSBzdHJlYW0gZXZlciBlcnJvcnMgb3IgdGhlIHJlYWRlcidzIGxvY2sgaXMgcmVsZWFzZWQgYmVmb3JlIHRoZSBzdHJlYW0gZmluaXNoZXMgY2xvc2luZy5cbiAgICovXG4gIGdldCBjbG9zZWQoKTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChkZWZhdWx0UmVhZGVyQnJhbmRDaGVja0V4Y2VwdGlvbignY2xvc2VkJykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9jbG9zZWRQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSByZWFkZXIgaXMgYWN0aXZlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAbGluayBSZWFkYWJsZVN0cmVhbS5jYW5jZWwgfCBzdHJlYW0uY2FuY2VsKHJlYXNvbil9LlxuICAgKi9cbiAgY2FuY2VsKHJlYXNvbjogYW55ID0gdW5kZWZpbmVkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2NhbmNlbCcpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChyZWFkZXJMb2NrRXhjZXB0aW9uKCdjYW5jZWwnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0NhbmNlbCh0aGlzLCByZWFzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgYWxsb3dzIGFjY2VzcyB0byB0aGUgbmV4dCBjaHVuayBmcm9tIHRoZSBzdHJlYW0ncyBpbnRlcm5hbCBxdWV1ZSwgaWYgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBJZiByZWFkaW5nIGEgY2h1bmsgY2F1c2VzIHRoZSBxdWV1ZSB0byBiZWNvbWUgZW1wdHksIG1vcmUgZGF0YSB3aWxsIGJlIHB1bGxlZCBmcm9tIHRoZSB1bmRlcmx5aW5nIHNvdXJjZS5cbiAgICovXG4gIHJlYWQoKTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PFI+PiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ3JlYWQnKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgocmVhZGVyTG9ja0V4Y2VwdGlvbigncmVhZCBmcm9tJykpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZSE6IChyZXN1bHQ6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8Uj4pID0+IHZvaWQ7XG4gICAgbGV0IHJlamVjdFByb21pc2UhOiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ld1Byb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxSPj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgcmVqZWN0UHJvbWlzZSA9IHJlamVjdDtcbiAgICB9KTtcbiAgICBjb25zdCByZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8Uj4gPSB7XG4gICAgICBfY2h1bmtTdGVwczogY2h1bmsgPT4gcmVzb2x2ZVByb21pc2UoeyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0pLFxuICAgICAgX2Nsb3NlU3RlcHM6ICgpID0+IHJlc29sdmVQcm9taXNlKHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSxcbiAgICAgIF9lcnJvclN0ZXBzOiBlID0+IHJlamVjdFByb21pc2UoZSlcbiAgICB9O1xuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQodGhpcywgcmVhZFJlcXVlc3QpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIHRoZSByZWFkZXIncyBsb2NrIG9uIHRoZSBjb3JyZXNwb25kaW5nIHN0cmVhbS4gQWZ0ZXIgdGhlIGxvY2sgaXMgcmVsZWFzZWQsIHRoZSByZWFkZXIgaXMgbm8gbG9uZ2VyIGFjdGl2ZS5cbiAgICogSWYgdGhlIGFzc29jaWF0ZWQgc3RyZWFtIGlzIGVycm9yZWQgd2hlbiB0aGUgbG9jayBpcyByZWxlYXNlZCwgdGhlIHJlYWRlciB3aWxsIGFwcGVhciBlcnJvcmVkIGluIHRoZSBzYW1lIHdheVxuICAgKiBmcm9tIG5vdyBvbjsgb3RoZXJ3aXNlLCB0aGUgcmVhZGVyIHdpbGwgYXBwZWFyIGNsb3NlZC5cbiAgICpcbiAgICogQSByZWFkZXIncyBsb2NrIGNhbm5vdCBiZSByZWxlYXNlZCB3aGlsZSBpdCBzdGlsbCBoYXMgYSBwZW5kaW5nIHJlYWQgcmVxdWVzdCwgaS5lLiwgaWYgYSBwcm9taXNlIHJldHVybmVkIGJ5XG4gICAqIHRoZSByZWFkZXIncyB7QGxpbmsgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLnJlYWQgfCByZWFkKCl9IG1ldGhvZCBoYXMgbm90IHlldCBiZWVuIHNldHRsZWQuIEF0dGVtcHRpbmcgdG9cbiAgICogZG8gc28gd2lsbCB0aHJvdyBhIGBUeXBlRXJyb3JgIGFuZCBsZWF2ZSB0aGUgcmVhZGVyIGxvY2tlZCB0byB0aGUgc3RyZWFtLlxuICAgKi9cbiAgcmVsZWFzZUxvY2soKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdFJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ3JlbGVhc2VMb2NrJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyUmVhZGFibGVTdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9yZWFkUmVxdWVzdHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVHJpZWQgdG8gcmVsZWFzZSBhIHJlYWRlciBsb2NrIHdoZW4gdGhhdCByZWFkZXIgaGFzIHBlbmRpbmcgcmVhZCgpIGNhbGxzIHVuLXNldHRsZWQnKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHRoaXMpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5wcm90b3R5cGUsIHtcbiAgY2FuY2VsOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgcmVhZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHJlbGVhc2VMb2NrOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgY2xvc2VkOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgZm9yIHRoZSByZWFkZXJzLlxuXG5leHBvcnQgZnVuY3Rpb24gSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8UiA9IGFueT4oeDogYW55KTogeCBpcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4ge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfcmVhZFJlcXVlc3RzJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQ8Uj4ocmVhZGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8Uj4pOiB2b2lkIHtcbiAgY29uc3Qgc3RyZWFtID0gcmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtO1xuXG4gIGFzc2VydChzdHJlYW0gIT09IHVuZGVmaW5lZCk7XG5cbiAgc3RyZWFtLl9kaXN0dXJiZWQgPSB0cnVlO1xuXG4gIGlmIChzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJykge1xuICAgIHJlYWRSZXF1ZXN0Ll9jbG9zZVN0ZXBzKCk7XG4gIH0gZWxzZSBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmVhZFJlcXVlc3QuX2Vycm9yU3RlcHMoc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdyZWFkYWJsZScpO1xuICAgIHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyW1B1bGxTdGVwc10ocmVhZFJlcXVlc3QgYXMgUmVhZFJlcXVlc3Q8YW55Pik7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5cblxuZnVuY3Rpb24gZGVmYXVsdFJlYWRlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlci5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyYCk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBsaWI9XCJlczIwMTguYXN5bmNpdGVyYWJsZVwiIC8+XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuZXhwb3J0IGNvbnN0IEFzeW5jSXRlcmF0b3JQcm90b3R5cGU6IEFzeW5jSXRlcmFibGU8YW55PiB8IHVuZGVmaW5lZCA9XG4gIE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoYXN5bmMgZnVuY3Rpb24qICgpOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8YW55PiB7fSkucHJvdG90eXBlKTtcbiIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImVzMjAxOC5hc3luY2l0ZXJhYmxlXCIgLz5cblxuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW0gfSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHtcbiAgQWNxdWlyZVJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXJSZWFkLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0LFxuICBSZWFkUmVxdWVzdFxufSBmcm9tICcuL2RlZmF1bHQtcmVhZGVyJztcbmltcG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0NhbmNlbCxcbiAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZSxcbiAgcmVhZGVyTG9ja0V4Y2VwdGlvblxufSBmcm9tICcuL2dlbmVyaWMtcmVhZGVyJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgQXN5bmNJdGVyYXRvclByb3RvdHlwZSB9IGZyb20gJ0BAdGFyZ2V0L3N0dWIvYXN5bmMtaXRlcmF0b3ItcHJvdG90eXBlJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4uL2hlbHBlcnMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQge1xuICBuZXdQcm9taXNlLFxuICBwcm9taXNlUmVqZWN0ZWRXaXRoLFxuICBwcm9taXNlUmVzb2x2ZWRXaXRoLFxuICBxdWV1ZU1pY3JvdGFzayxcbiAgdHJhbnNmb3JtUHJvbWlzZVdpdGhcbn0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuXG4vKipcbiAqIEFuIGFzeW5jIGl0ZXJhdG9yIHJldHVybmVkIGJ5IHtAbGluayBSZWFkYWJsZVN0cmVhbS52YWx1ZXN9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I8Uj4gZXh0ZW5kcyBBc3luY0l0ZXJhdG9yPFI+IHtcbiAgbmV4dCgpOiBQcm9taXNlPEl0ZXJhdG9yUmVzdWx0PFIsIHVuZGVmaW5lZD4+O1xuXG4gIHJldHVybih2YWx1ZT86IGFueSk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8YW55Pj47XG59XG5cbmV4cG9ydCBjbGFzcyBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbXBsPFI+IHtcbiAgcHJpdmF0ZSByZWFkb25seSBfcmVhZGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj47XG4gIHByaXZhdGUgcmVhZG9ubHkgX3ByZXZlbnRDYW5jZWw6IGJvb2xlYW47XG4gIHByaXZhdGUgX29uZ29pbmdQcm9taXNlOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8Uj4+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIF9pc0ZpbmlzaGVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocmVhZGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4sIHByZXZlbnRDYW5jZWw6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9yZWFkZXIgPSByZWFkZXI7XG4gICAgdGhpcy5fcHJldmVudENhbmNlbCA9IHByZXZlbnRDYW5jZWw7XG4gIH1cblxuICBuZXh0KCk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxSPj4ge1xuICAgIGNvbnN0IG5leHRTdGVwcyA9ICgpID0+IHRoaXMuX25leHRTdGVwcygpO1xuICAgIHRoaXMuX29uZ29pbmdQcm9taXNlID0gdGhpcy5fb25nb2luZ1Byb21pc2UgP1xuICAgICAgdHJhbnNmb3JtUHJvbWlzZVdpdGgodGhpcy5fb25nb2luZ1Byb21pc2UsIG5leHRTdGVwcywgbmV4dFN0ZXBzKSA6XG4gICAgICBuZXh0U3RlcHMoKTtcbiAgICByZXR1cm4gdGhpcy5fb25nb2luZ1Byb21pc2U7XG4gIH1cblxuICByZXR1cm4odmFsdWU6IGFueSk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxhbnk+PiB7XG4gICAgY29uc3QgcmV0dXJuU3RlcHMgPSAoKSA9PiB0aGlzLl9yZXR1cm5TdGVwcyh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX29uZ29pbmdQcm9taXNlID9cbiAgICAgIHRyYW5zZm9ybVByb21pc2VXaXRoKHRoaXMuX29uZ29pbmdQcm9taXNlLCByZXR1cm5TdGVwcywgcmV0dXJuU3RlcHMpIDpcbiAgICAgIHJldHVyblN0ZXBzKCk7XG4gIH1cblxuICBwcml2YXRlIF9uZXh0U3RlcHMoKTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PFI+PiB7XG4gICAgaWYgKHRoaXMuX2lzRmluaXNoZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRlciA9IHRoaXMuX3JlYWRlcjtcbiAgICBpZiAocmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHJlYWRlckxvY2tFeGNlcHRpb24oJ2l0ZXJhdGUnKSk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlITogKHJlc3VsdDogUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdDxSPikgPT4gdm9pZDtcbiAgICBsZXQgcmVqZWN0UHJvbWlzZSE6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3UHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PFI+PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICByZWplY3RQcm9taXNlID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIGNvbnN0IHJlYWRSZXF1ZXN0OiBSZWFkUmVxdWVzdDxSPiA9IHtcbiAgICAgIF9jaHVua1N0ZXBzOiBjaHVuayA9PiB7XG4gICAgICAgIHRoaXMuX29uZ29pbmdQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGRlbGF5ZWQgYnkgb25lIG1pY3JvdGFzaywgb3RoZXJ3aXNlIHdlIHN0b3AgcHVsbGluZyB0b28gZWFybHkgd2hpY2ggYnJlYWtzIGEgdGVzdC5cbiAgICAgICAgLy8gRklYTUUgSXMgdGhpcyBhIGJ1ZyBpbiB0aGUgc3BlY2lmaWNhdGlvbiwgb3IgaW4gdGhlIHRlc3Q/XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHJlc29sdmVQcm9taXNlKHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9KSk7XG4gICAgICB9LFxuICAgICAgX2Nsb3NlU3RlcHM6ICgpID0+IHtcbiAgICAgICAgdGhpcy5fb25nb2luZ1Byb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2lzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcik7XG4gICAgICAgIHJlc29sdmVQcm9taXNlKHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KTtcbiAgICAgIH0sXG4gICAgICBfZXJyb3JTdGVwczogcmVhc29uID0+IHtcbiAgICAgICAgdGhpcy5fb25nb2luZ1Byb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2lzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcik7XG4gICAgICAgIHJlamVjdFByb21pc2UocmVhc29uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQocmVhZGVyLCByZWFkUmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIF9yZXR1cm5TdGVwcyh2YWx1ZTogYW55KTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PGFueT4+IHtcbiAgICBpZiAodGhpcy5faXNGaW5pc2hlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHZhbHVlLCBkb25lOiB0cnVlIH0pO1xuICAgIH1cbiAgICB0aGlzLl9pc0ZpbmlzaGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHJlYWRlciA9IHRoaXMuX3JlYWRlcjtcbiAgICBpZiAocmVhZGVyLl9vd25lclJlYWRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHJlYWRlckxvY2tFeGNlcHRpb24oJ2ZpbmlzaCBpdGVyYXRpbmcnKSk7XG4gICAgfVxuXG4gICAgYXNzZXJ0KHJlYWRlci5fcmVhZFJlcXVlc3RzLmxlbmd0aCA9PT0gMCk7XG5cbiAgICBpZiAoIXRoaXMuX3ByZXZlbnRDYW5jZWwpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0NhbmNlbChyZWFkZXIsIHZhbHVlKTtcbiAgICAgIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY1JlbGVhc2UocmVhZGVyKTtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1Qcm9taXNlV2l0aChyZXN1bHQsICgpID0+ICh7IHZhbHVlLCBkb25lOiB0cnVlIH0pKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcik7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgoeyB2YWx1ZSwgZG9uZTogdHJ1ZSB9KTtcbiAgfVxufVxuXG5kZWNsYXJlIGNsYXNzIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckluc3RhbmNlPFI+IGltcGxlbWVudHMgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+IHtcbiAgLyoqIEBpbnRlcmFsICovXG4gIF9hc3luY0l0ZXJhdG9ySW1wbDogUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9ySW1wbDxSPjtcblxuICBuZXh0KCk6IFByb21pc2U8SXRlcmF0b3JSZXN1bHQ8UiwgdW5kZWZpbmVkPj47XG5cbiAgcmV0dXJuKHZhbHVlPzogYW55KTogUHJvbWlzZTxJdGVyYXRvclJlc3VsdDxhbnk+Pjtcbn1cblxuY29uc3QgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yUHJvdG90eXBlOiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbnN0YW5jZTxhbnk+ID0ge1xuICBuZXh0KHRoaXM6IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckluc3RhbmNlPGFueT4pOiBQcm9taXNlPFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHQ8YW55Pj4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHN0cmVhbUFzeW5jSXRlcmF0b3JCcmFuZENoZWNrRXhjZXB0aW9uKCduZXh0JykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYXN5bmNJdGVyYXRvckltcGwubmV4dCgpO1xuICB9LFxuXG4gIHJldHVybih0aGlzOiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JJbnN0YW5jZTxhbnk+LCB2YWx1ZTogYW55KTogUHJvbWlzZTxSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkUmVzdWx0PGFueT4+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW1Bc3luY0l0ZXJhdG9yQnJhbmRDaGVja0V4Y2VwdGlvbigncmV0dXJuJykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYXN5bmNJdGVyYXRvckltcGwucmV0dXJuKHZhbHVlKTtcbiAgfVxufSBhcyBhbnk7XG5pZiAoQXN5bmNJdGVyYXRvclByb3RvdHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUsIEFzeW5jSXRlcmF0b3JQcm90b3R5cGUpO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW0uXG5cbmV4cG9ydCBmdW5jdGlvbiBBY3F1aXJlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50Q2FuY2VsOiBib29sZWFuKTogUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+IHtcbiAgY29uc3QgcmVhZGVyID0gQWNxdWlyZVJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPihzdHJlYW0pO1xuICBjb25zdCBpbXBsID0gbmV3IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckltcGwocmVhZGVyLCBwcmV2ZW50Q2FuY2VsKTtcbiAgY29uc3QgaXRlcmF0b3I6IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckluc3RhbmNlPFI+ID0gT2JqZWN0LmNyZWF0ZShSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUpO1xuICBpdGVyYXRvci5fYXN5bmNJdGVyYXRvckltcGwgPSBpbXBsO1xuICByZXR1cm4gaXRlcmF0b3I7XG59XG5cbmZ1bmN0aW9uIElzUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFIgPSBhbnk+KHg6IGFueSk6IHggaXMgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+IHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2FzeW5jSXRlcmF0b3JJbXBsJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIG5vaW5zcGVjdGlvbiBTdXNwaWNpb3VzVHlwZU9mR3VhcmRcbiAgICByZXR1cm4gKHggYXMgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9ySW5zdGFuY2U8YW55PikuX2FzeW5jSXRlcmF0b3JJbXBsIGluc3RhbmNlb2ZcbiAgICAgIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvckltcGw7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW0uXG5cbmZ1bmN0aW9uIHN0cmVhbUFzeW5jSXRlcmF0b3JCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKGBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVTdGVhbUFzeW5jSXRlcmF0b3JgKTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImVzMjAxNS5jb3JlXCIgLz5cblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzTmFOI1BvbHlmaWxsXG5jb25zdCBOdW1iZXJJc05hTjogdHlwZW9mIE51bWJlci5pc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiAoeCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gIHJldHVybiB4ICE9PSB4O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTnVtYmVySXNOYU47XG4iLCJleHBvcnQgZnVuY3Rpb24gQ3JlYXRlQXJyYXlGcm9tTGlzdDxUIGV4dGVuZHMgYW55W10+KGVsZW1lbnRzOiBUKTogVCB7XG4gIC8vIFdlIHVzZSBhcnJheXMgdG8gcmVwcmVzZW50IGxpc3RzLCBzbyB0aGlzIGlzIGJhc2ljYWxseSBhIG5vLW9wLlxuICAvLyBEbyBhIHNsaWNlIHRob3VnaCBqdXN0IGluIGNhc2Ugd2UgaGFwcGVuIHRvIGRlcGVuZCBvbiB0aGUgdW5pcXVlLW5lc3MuXG4gIHJldHVybiBlbGVtZW50cy5zbGljZSgpIGFzIFQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb3B5RGF0YUJsb2NrQnl0ZXMoZGVzdDogQXJyYXlCdWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RPZmZzZXQ6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBBcnJheUJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjT2Zmc2V0OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG46IG51bWJlcikge1xuICBuZXcgVWludDhBcnJheShkZXN0KS5zZXQobmV3IFVpbnQ4QXJyYXkoc3JjLCBzcmNPZmZzZXQsIG4pLCBkZXN0T2Zmc2V0KTtcbn1cblxuLy8gTm90IGltcGxlbWVudGVkIGNvcnJlY3RseVxuZXhwb3J0IGZ1bmN0aW9uIFRyYW5zZmVyQXJyYXlCdWZmZXI8VCBleHRlbmRzIEFycmF5QnVmZmVyTGlrZT4oTzogVCk6IFQge1xuICByZXR1cm4gTztcbn1cblxuLy8gTm90IGltcGxlbWVudGVkIGNvcnJlY3RseVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZXhwb3J0IGZ1bmN0aW9uIENhblRyYW5zZmVyQXJyYXlCdWZmZXIoTzogQXJyYXlCdWZmZXJMaWtlKTogYm9vbGVhbiB7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBOb3QgaW1wbGVtZW50ZWQgY29ycmVjdGx5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5leHBvcnQgZnVuY3Rpb24gSXNEZXRhY2hlZEJ1ZmZlcihPOiBBcnJheUJ1ZmZlckxpa2UpOiBib29sZWFuIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXJyYXlCdWZmZXJTbGljZShidWZmZXI6IEFycmF5QnVmZmVyTGlrZSwgYmVnaW46IG51bWJlciwgZW5kOiBudW1iZXIpOiBBcnJheUJ1ZmZlckxpa2Uge1xuICAvLyBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgaXMgbm90IGF2YWlsYWJsZSBvbiBJRTEwXG4gIC8vIGh0dHBzOi8vd3d3LmNhbml1c2UuY29tL21kbi1qYXZhc2NyaXB0X2J1aWx0aW5zX2FycmF5YnVmZmVyX3NsaWNlXG4gIGlmIChidWZmZXIuc2xpY2UpIHtcbiAgICByZXR1cm4gYnVmZmVyLnNsaWNlKGJlZ2luLCBlbmQpO1xuICB9XG4gIGNvbnN0IGxlbmd0aCA9IGVuZCAtIGJlZ2luO1xuICBjb25zdCBzbGljZSA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICBDb3B5RGF0YUJsb2NrQnl0ZXMoc2xpY2UsIDAsIGJ1ZmZlciwgYmVnaW4sIGxlbmd0aCk7XG4gIHJldHVybiBzbGljZTtcbn1cbiIsImltcG9ydCBOdW1iZXJJc05hTiBmcm9tICcuLi8uLi9zdHViL251bWJlci1pc25hbic7XG5pbXBvcnQgeyBBcnJheUJ1ZmZlclNsaWNlIH0gZnJvbSAnLi9lY21hc2NyaXB0JztcblxuZXhwb3J0IGZ1bmN0aW9uIElzTm9uTmVnYXRpdmVOdW1iZXIodjogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgdiAhPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoTnVtYmVySXNOYU4odikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodiA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENsb25lQXNVaW50OEFycmF5KE86IEFycmF5QnVmZmVyVmlldyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBidWZmZXIgPSBBcnJheUJ1ZmZlclNsaWNlKE8uYnVmZmVyLCBPLmJ5dGVPZmZzZXQsIE8uYnl0ZU9mZnNldCArIE8uYnl0ZUxlbmd0aCk7XG4gIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi8uLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQgeyBTaW1wbGVRdWV1ZSB9IGZyb20gJy4uL3NpbXBsZS1xdWV1ZSc7XG5pbXBvcnQgeyBJc05vbk5lZ2F0aXZlTnVtYmVyIH0gZnJvbSAnLi9taXNjZWxsYW5lb3VzJztcblxuZXhwb3J0IGludGVyZmFjZSBRdWV1ZUNvbnRhaW5lcjxUPiB7XG4gIF9xdWV1ZTogU2ltcGxlUXVldWU8VD47XG4gIF9xdWV1ZVRvdGFsU2l6ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXVlUGFpcjxUPiB7XG4gIHZhbHVlOiBUO1xuICBzaXplOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBEZXF1ZXVlVmFsdWU8VD4oY29udGFpbmVyOiBRdWV1ZUNvbnRhaW5lcjxRdWV1ZVBhaXI8VD4+KTogVCB7XG4gIGFzc2VydCgnX3F1ZXVlJyBpbiBjb250YWluZXIgJiYgJ19xdWV1ZVRvdGFsU2l6ZScgaW4gY29udGFpbmVyKTtcbiAgYXNzZXJ0KGNvbnRhaW5lci5fcXVldWUubGVuZ3RoID4gMCk7XG5cbiAgY29uc3QgcGFpciA9IGNvbnRhaW5lci5fcXVldWUuc2hpZnQoKSE7XG4gIGNvbnRhaW5lci5fcXVldWVUb3RhbFNpemUgLT0gcGFpci5zaXplO1xuICBpZiAoY29udGFpbmVyLl9xdWV1ZVRvdGFsU2l6ZSA8IDApIHtcbiAgICBjb250YWluZXIuX3F1ZXVlVG90YWxTaXplID0gMDtcbiAgfVxuXG4gIHJldHVybiBwYWlyLnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRW5xdWV1ZVZhbHVlV2l0aFNpemU8VD4oY29udGFpbmVyOiBRdWV1ZUNvbnRhaW5lcjxRdWV1ZVBhaXI8VD4+LCB2YWx1ZTogVCwgc2l6ZTogbnVtYmVyKSB7XG4gIGFzc2VydCgnX3F1ZXVlJyBpbiBjb250YWluZXIgJiYgJ19xdWV1ZVRvdGFsU2l6ZScgaW4gY29udGFpbmVyKTtcblxuICBpZiAoIUlzTm9uTmVnYXRpdmVOdW1iZXIoc2l6ZSkgfHwgc2l6ZSA9PT0gSW5maW5pdHkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignU2l6ZSBtdXN0IGJlIGEgZmluaXRlLCBub24tTmFOLCBub24tbmVnYXRpdmUgbnVtYmVyLicpO1xuICB9XG5cbiAgY29udGFpbmVyLl9xdWV1ZS5wdXNoKHsgdmFsdWUsIHNpemUgfSk7XG4gIGNvbnRhaW5lci5fcXVldWVUb3RhbFNpemUgKz0gc2l6ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFBlZWtRdWV1ZVZhbHVlPFQ+KGNvbnRhaW5lcjogUXVldWVDb250YWluZXI8UXVldWVQYWlyPFQ+Pik6IFQge1xuICBhc3NlcnQoJ19xdWV1ZScgaW4gY29udGFpbmVyICYmICdfcXVldWVUb3RhbFNpemUnIGluIGNvbnRhaW5lcik7XG4gIGFzc2VydChjb250YWluZXIuX3F1ZXVlLmxlbmd0aCA+IDApO1xuXG4gIGNvbnN0IHBhaXIgPSBjb250YWluZXIuX3F1ZXVlLnBlZWsoKTtcbiAgcmV0dXJuIHBhaXIudmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXNldFF1ZXVlPFQ+KGNvbnRhaW5lcjogUXVldWVDb250YWluZXI8VD4pIHtcbiAgYXNzZXJ0KCdfcXVldWUnIGluIGNvbnRhaW5lciAmJiAnX3F1ZXVlVG90YWxTaXplJyBpbiBjb250YWluZXIpO1xuXG4gIGNvbnRhaW5lci5fcXVldWUgPSBuZXcgU2ltcGxlUXVldWU8VD4oKTtcbiAgY29udGFpbmVyLl9xdWV1ZVRvdGFsU2l6ZSA9IDA7XG59XG4iLCJpbXBvcnQgYXNzZXJ0IGZyb20gJy4uLy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7IFNpbXBsZVF1ZXVlIH0gZnJvbSAnLi4vc2ltcGxlLXF1ZXVlJztcbmltcG9ydCB7IFJlc2V0UXVldWUgfSBmcm9tICcuLi9hYnN0cmFjdC1vcHMvcXVldWUtd2l0aC1zaXplcyc7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbUFkZFJlYWRSZXF1ZXN0LFxuICBSZWFkYWJsZVN0cmVhbUZ1bGZpbGxSZWFkUmVxdWVzdCxcbiAgUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkUmVxdWVzdHMsXG4gIFJlYWRhYmxlU3RyZWFtSGFzRGVmYXVsdFJlYWRlcixcbiAgUmVhZFJlcXVlc3Rcbn0gZnJvbSAnLi9kZWZhdWx0LXJlYWRlcic7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbUFkZFJlYWRJbnRvUmVxdWVzdCxcbiAgUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZEludG9SZXF1ZXN0LFxuICBSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRJbnRvUmVxdWVzdHMsXG4gIFJlYWRhYmxlU3RyZWFtSGFzQllPQlJlYWRlcixcbiAgUmVhZEludG9SZXF1ZXN0XG59IGZyb20gJy4vYnlvYi1yZWFkZXInO1xuaW1wb3J0IE51bWJlcklzSW50ZWdlciBmcm9tICcuLi8uLi9zdHViL251bWJlci1pc2ludGVnZXInO1xuaW1wb3J0IHtcbiAgSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCxcbiAgUmVhZGFibGVCeXRlU3RyZWFtLFxuICBSZWFkYWJsZVN0cmVhbUNsb3NlLFxuICBSZWFkYWJsZVN0cmVhbUVycm9yXG59IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBWYWxpZGF0ZWRVbmRlcmx5aW5nQnl0ZVNvdXJjZSB9IGZyb20gJy4vdW5kZXJseWluZy1zb3VyY2UnO1xuaW1wb3J0IHsgdHlwZUlzT2JqZWN0IH0gZnJvbSAnLi4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7XG4gIEFycmF5QnVmZmVyU2xpY2UsXG4gIENhblRyYW5zZmVyQXJyYXlCdWZmZXIsXG4gIENvcHlEYXRhQmxvY2tCeXRlcyxcbiAgSXNEZXRhY2hlZEJ1ZmZlcixcbiAgVHJhbnNmZXJBcnJheUJ1ZmZlclxufSBmcm9tICcuLi9hYnN0cmFjdC1vcHMvZWNtYXNjcmlwdCc7XG5pbXBvcnQgeyBDYW5jZWxTdGVwcywgUHVsbFN0ZXBzIH0gZnJvbSAnLi4vYWJzdHJhY3Qtb3BzL2ludGVybmFsLW1ldGhvZHMnO1xuaW1wb3J0IHsgcHJvbWlzZVJlc29sdmVkV2l0aCwgdXBvblByb21pc2UgfSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQgeyBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50LCBjb252ZXJ0VW5zaWduZWRMb25nTG9uZ1dpdGhFbmZvcmNlUmFuZ2UgfSBmcm9tICcuLi92YWxpZGF0b3JzL2Jhc2ljJztcblxuLyoqXG4gKiBBIHB1bGwtaW50byByZXF1ZXN0IGluIGEge0BsaW5rIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJ9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3Qge1xuICAvKiogQGludGVybmFsICovXG4gIF9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciE6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXI7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3ZpZXchOiBBcnJheUJ1ZmZlclZpZXcgfCBudWxsO1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBjb25zdHJ1Y3RvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZpZXcgZm9yIHdyaXRpbmcgaW4gdG8sIG9yIGBudWxsYCBpZiB0aGUgQllPQiByZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gcmVzcG9uZGVkIHRvLlxuICAgKi9cbiAgZ2V0IHZpZXcoKTogQXJyYXlCdWZmZXJWaWV3IHwgbnVsbCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QodGhpcykpIHtcbiAgICAgIHRocm93IGJ5b2JSZXF1ZXN0QnJhbmRDaGVja0V4Y2VwdGlvbigndmlldycpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl92aWV3O1xuICB9XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0byB0aGUgYXNzb2NpYXRlZCByZWFkYWJsZSBieXRlIHN0cmVhbSB0aGF0IGBieXRlc1dyaXR0ZW5gIGJ5dGVzIHdlcmUgd3JpdHRlbiBpbnRvXG4gICAqIHtAbGluayBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LnZpZXcgfCB2aWV3fSwgY2F1c2luZyB0aGUgcmVzdWx0IGJlIHN1cmZhY2VkIHRvIHRoZSBjb25zdW1lci5cbiAgICpcbiAgICogQWZ0ZXIgdGhpcyBtZXRob2QgaXMgY2FsbGVkLCB7QGxpbmsgUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdC52aWV3IHwgdmlld30gd2lsbCBiZSB0cmFuc2ZlcnJlZCBhbmQgbm8gbG9uZ2VyXG4gICAqIG1vZGlmaWFibGUuXG4gICAqL1xuICByZXNwb25kKGJ5dGVzV3JpdHRlbjogbnVtYmVyKTogdm9pZDtcbiAgcmVzcG9uZChieXRlc1dyaXR0ZW46IG51bWJlciB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0KHRoaXMpKSB7XG4gICAgICB0aHJvdyBieW9iUmVxdWVzdEJyYW5kQ2hlY2tFeGNlcHRpb24oJ3Jlc3BvbmQnKTtcbiAgICB9XG4gICAgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudChieXRlc1dyaXR0ZW4sIDEsICdyZXNwb25kJyk7XG4gICAgYnl0ZXNXcml0dGVuID0gY29udmVydFVuc2lnbmVkTG9uZ0xvbmdXaXRoRW5mb3JjZVJhbmdlKGJ5dGVzV3JpdHRlbiwgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuXG4gICAgaWYgKHRoaXMuX2Fzc29jaWF0ZWRSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXMgQllPQiByZXF1ZXN0IGhhcyBiZWVuIGludmFsaWRhdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKElzRGV0YWNoZWRCdWZmZXIodGhpcy5fdmlldyEuYnVmZmVyKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIEJZT0IgcmVxdWVzdCdzIGJ1ZmZlciBoYXMgYmVlbiBkZXRhY2hlZCBhbmQgc28gY2Fubm90IGJlIHVzZWQgYXMgYSByZXNwb25zZWApO1xuICAgIH1cblxuICAgIGFzc2VydCh0aGlzLl92aWV3IS5ieXRlTGVuZ3RoID4gMCk7XG4gICAgYXNzZXJ0KHRoaXMuX3ZpZXchLmJ1ZmZlci5ieXRlTGVuZ3RoID4gMCk7XG5cbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZCh0aGlzLl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciwgYnl0ZXNXcml0dGVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdG8gdGhlIGFzc29jaWF0ZWQgcmVhZGFibGUgYnl0ZSBzdHJlYW0gdGhhdCBpbnN0ZWFkIG9mIHdyaXRpbmcgaW50b1xuICAgKiB7QGxpbmsgUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdC52aWV3IHwgdmlld30sIHRoZSB1bmRlcmx5aW5nIGJ5dGUgc291cmNlIGlzIHByb3ZpZGluZyBhIG5ldyBgQXJyYXlCdWZmZXJWaWV3YCxcbiAgICogd2hpY2ggd2lsbCBiZSBnaXZlbiB0byB0aGUgY29uc3VtZXIgb2YgdGhlIHJlYWRhYmxlIGJ5dGUgc3RyZWFtLlxuICAgKlxuICAgKiBBZnRlciB0aGlzIG1ldGhvZCBpcyBjYWxsZWQsIGB2aWV3YCB3aWxsIGJlIHRyYW5zZmVycmVkIGFuZCBubyBsb25nZXIgbW9kaWZpYWJsZS5cbiAgICovXG4gIHJlc3BvbmRXaXRoTmV3Vmlldyh2aWV3OiBBcnJheUJ1ZmZlclZpZXcpOiB2b2lkO1xuICByZXNwb25kV2l0aE5ld1ZpZXcodmlldzogQXJyYXlCdWZmZXJWaWV3IHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QodGhpcykpIHtcbiAgICAgIHRocm93IGJ5b2JSZXF1ZXN0QnJhbmRDaGVja0V4Y2VwdGlvbigncmVzcG9uZFdpdGhOZXdWaWV3Jyk7XG4gICAgfVxuICAgIGFzc2VydFJlcXVpcmVkQXJndW1lbnQodmlldywgMSwgJ3Jlc3BvbmRXaXRoTmV3VmlldycpO1xuXG4gICAgaWYgKCFBcnJheUJ1ZmZlci5pc1ZpZXcodmlldykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBjYW4gb25seSByZXNwb25kIHdpdGggYXJyYXkgYnVmZmVyIHZpZXdzJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2Fzc29jaWF0ZWRSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXMgQllPQiByZXF1ZXN0IGhhcyBiZWVuIGludmFsaWRhdGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKElzRGV0YWNoZWRCdWZmZXIodmlldy5idWZmZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgZ2l2ZW4gdmlld1xcJ3MgYnVmZmVyIGhhcyBiZWVuIGRldGFjaGVkIGFuZCBzbyBjYW5ub3QgYmUgdXNlZCBhcyBhIHJlc3BvbnNlJyk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRXaXRoTmV3Vmlldyh0aGlzLl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciwgdmlldyk7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdC5wcm90b3R5cGUsIHtcbiAgcmVzcG9uZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHJlc3BvbmRXaXRoTmV3VmlldzogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHZpZXc6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdC5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdCcsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5pbnRlcmZhY2UgQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3I8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyVmlldz4ge1xuICBuZXcoYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2UsIGJ5dGVPZmZzZXQ6IG51bWJlciwgbGVuZ3RoPzogbnVtYmVyKTogVDtcblxuICByZWFkb25seSBwcm90b3R5cGU6IFQ7XG4gIHJlYWRvbmx5IEJZVEVTX1BFUl9FTEVNRU5UOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBCeXRlUXVldWVFbGVtZW50IHtcbiAgYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2U7XG4gIGJ5dGVPZmZzZXQ6IG51bWJlcjtcbiAgYnl0ZUxlbmd0aDogbnVtYmVyO1xufVxuXG50eXBlIFB1bGxJbnRvRGVzY3JpcHRvcjxUIGV4dGVuZHMgQXJyYXlCdWZmZXJWaWV3ID0gQXJyYXlCdWZmZXJWaWV3PiA9XG4gIERlZmF1bHRQdWxsSW50b0Rlc2NyaXB0b3JcbiAgfCBCWU9CUHVsbEludG9EZXNjcmlwdG9yPFQ+O1xuXG5pbnRlcmZhY2UgRGVmYXVsdFB1bGxJbnRvRGVzY3JpcHRvciB7XG4gIGJ1ZmZlcjogQXJyYXlCdWZmZXJMaWtlO1xuICBidWZmZXJCeXRlTGVuZ3RoOiBudW1iZXI7XG4gIGJ5dGVPZmZzZXQ6IG51bWJlcjtcbiAgYnl0ZUxlbmd0aDogbnVtYmVyO1xuICBieXRlc0ZpbGxlZDogbnVtYmVyO1xuICBlbGVtZW50U2l6ZTogbnVtYmVyO1xuICB2aWV3Q29uc3RydWN0b3I6IEFycmF5QnVmZmVyVmlld0NvbnN0cnVjdG9yPFVpbnQ4QXJyYXk+O1xuICByZWFkZXJUeXBlOiAnZGVmYXVsdCc7XG59XG5cbmludGVyZmFjZSBCWU9CUHVsbEludG9EZXNjcmlwdG9yPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXcgPSBBcnJheUJ1ZmZlclZpZXc+IHtcbiAgYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2U7XG4gIGJ1ZmZlckJ5dGVMZW5ndGg6IG51bWJlcjtcbiAgYnl0ZU9mZnNldDogbnVtYmVyO1xuICBieXRlTGVuZ3RoOiBudW1iZXI7XG4gIGJ5dGVzRmlsbGVkOiBudW1iZXI7XG4gIGVsZW1lbnRTaXplOiBudW1iZXI7XG4gIHZpZXdDb25zdHJ1Y3RvcjogQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3I8VD47XG4gIHJlYWRlclR5cGU6ICdieW9iJztcbn1cblxuLyoqXG4gKiBBbGxvd3MgY29udHJvbCBvZiBhIHtAbGluayBSZWFkYWJsZVN0cmVhbSB8IHJlYWRhYmxlIGJ5dGUgc3RyZWFtfSdzIHN0YXRlIGFuZCBpbnRlcm5hbCBxdWV1ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyIHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbSE6IFJlYWRhYmxlQnl0ZVN0cmVhbTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcXVldWUhOiBTaW1wbGVRdWV1ZTxCeXRlUXVldWVFbGVtZW50PjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcXVldWVUb3RhbFNpemUhOiBudW1iZXI7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0YXJ0ZWQhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZVJlcXVlc3RlZCE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3B1bGxBZ2FpbiE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3B1bGxpbmcgITogYm9vbGVhbjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RyYXRlZ3lIV00hOiBudW1iZXI7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3B1bGxBbGdvcml0aG0hOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jYW5jZWxBbGdvcml0aG0hOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2F1dG9BbGxvY2F0ZUNodW5rU2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF9ieW9iUmVxdWVzdDogUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdCB8IG51bGw7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3BlbmRpbmdQdWxsSW50b3MhOiBTaW1wbGVRdWV1ZTxQdWxsSW50b0Rlc2NyaXB0b3I+O1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBjb25zdHJ1Y3RvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgQllPQiBwdWxsIHJlcXVlc3QsIG9yIGBudWxsYCBpZiB0aGVyZSBpc24ndCBvbmUuXG4gICAqL1xuICBnZXQgYnlvYlJlcXVlc3QoKTogUmVhZGFibGVTdHJlYW1CWU9CUmVxdWVzdCB8IG51bGwge1xuICAgIGlmICghSXNSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBieXRlU3RyZWFtQ29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2J5b2JSZXF1ZXN0Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJHZXRCWU9CUmVxdWVzdCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZXNpcmVkIHNpemUgdG8gZmlsbCB0aGUgY29udHJvbGxlZCBzdHJlYW0ncyBpbnRlcm5hbCBxdWV1ZS4gSXQgY2FuIGJlIG5lZ2F0aXZlLCBpZiB0aGUgcXVldWUgaXNcbiAgICogb3Zlci1mdWxsLiBBbiB1bmRlcmx5aW5nIGJ5dGUgc291cmNlIG91Z2h0IHRvIHVzZSB0aGlzIGluZm9ybWF0aW9uIHRvIGRldGVybWluZSB3aGVuIGFuZCBob3cgdG8gYXBwbHkgYmFja3ByZXNzdXJlLlxuICAgKi9cbiAgZ2V0IGRlc2lyZWRTaXplKCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghSXNSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBieXRlU3RyZWFtQ29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Rlc2lyZWRTaXplJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGNvbnRyb2xsZWQgcmVhZGFibGUgc3RyZWFtLiBDb25zdW1lcnMgd2lsbCBzdGlsbCBiZSBhYmxlIHRvIHJlYWQgYW55IHByZXZpb3VzbHktZW5xdWV1ZWQgY2h1bmtzIGZyb21cbiAgICogdGhlIHN0cmVhbSwgYnV0IG9uY2UgdGhvc2UgYXJlIHJlYWQsIHRoZSBzdHJlYW0gd2lsbCBiZWNvbWUgY2xvc2VkLlxuICAgKi9cbiAgY2xvc2UoKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGJ5dGVTdHJlYW1Db250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignY2xvc2UnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY2xvc2VSZXF1ZXN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBzdHJlYW0gaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQ7IGRvIG5vdCBjbG9zZSBpdCBhZ2FpbiEnKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlO1xuICAgIGlmIChzdGF0ZSAhPT0gJ3JlYWRhYmxlJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIHN0cmVhbSAoaW4gJHtzdGF0ZX0gc3RhdGUpIGlzIG5vdCBpbiB0aGUgcmVhZGFibGUgc3RhdGUgYW5kIGNhbm5vdCBiZSBjbG9zZWRgKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xvc2UodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRW5xdWV1ZXMgdGhlIGdpdmVuIGNodW5rIGNodW5rIGluIHRoZSBjb250cm9sbGVkIHJlYWRhYmxlIHN0cmVhbS5cbiAgICogVGhlIGNodW5rIGhhcyB0byBiZSBhbiBgQXJyYXlCdWZmZXJWaWV3YCBpbnN0YW5jZSwgb3IgZWxzZSBhIGBUeXBlRXJyb3JgIHdpbGwgYmUgdGhyb3duLlxuICAgKi9cbiAgZW5xdWV1ZShjaHVuazogQXJyYXlCdWZmZXJWaWV3KTogdm9pZDtcbiAgZW5xdWV1ZShjaHVuazogQXJyYXlCdWZmZXJWaWV3IHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGJ5dGVTdHJlYW1Db250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignZW5xdWV1ZScpO1xuICAgIH1cblxuICAgIGFzc2VydFJlcXVpcmVkQXJndW1lbnQoY2h1bmssIDEsICdlbnF1ZXVlJyk7XG4gICAgaWYgKCFBcnJheUJ1ZmZlci5pc1ZpZXcoY2h1bmspKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjaHVuayBtdXN0IGJlIGFuIGFycmF5IGJ1ZmZlciB2aWV3Jyk7XG4gICAgfVxuICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjaHVuayBtdXN0IGhhdmUgbm9uLXplcm8gYnl0ZUxlbmd0aCcpO1xuICAgIH1cbiAgICBpZiAoY2h1bmsuYnVmZmVyLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGNodW5rJ3MgYnVmZmVyIG11c3QgaGF2ZSBub24temVybyBieXRlTGVuZ3RoYCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2Nsb3NlUmVxdWVzdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzdHJlYW0gaXMgY2xvc2VkIG9yIGRyYWluaW5nJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtcbiAgICBpZiAoc3RhdGUgIT09ICdyZWFkYWJsZScpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBzdHJlYW0gKGluICR7c3RhdGV9IHN0YXRlKSBpcyBub3QgaW4gdGhlIHJlYWRhYmxlIHN0YXRlIGFuZCBjYW5ub3QgYmUgZW5xdWV1ZWQgdG9gKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZSh0aGlzLCBjaHVuayk7XG4gIH1cblxuICAvKipcbiAgICogRXJyb3JzIHRoZSBjb250cm9sbGVkIHJlYWRhYmxlIHN0cmVhbSwgbWFraW5nIGFsbCBmdXR1cmUgaW50ZXJhY3Rpb25zIHdpdGggaXQgZmFpbCB3aXRoIHRoZSBnaXZlbiBlcnJvciBgZWAuXG4gICAqL1xuICBlcnJvcihlOiBhbnkgPSB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAoIUlzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgYnl0ZVN0cmVhbUNvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdlcnJvcicpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcih0aGlzLCBlKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgW0NhbmNlbFN0ZXBzXShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbGVhclBlbmRpbmdQdWxsSW50b3ModGhpcyk7XG5cbiAgICBSZXNldFF1ZXVlKHRoaXMpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fY2FuY2VsQWxnb3JpdGhtKHJlYXNvbik7XG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyh0aGlzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBbUHVsbFN0ZXBzXShyZWFkUmVxdWVzdDogUmVhZFJlcXVlc3Q8VWludDhBcnJheT4pOiB2b2lkIHtcbiAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuICAgIGFzc2VydChSZWFkYWJsZVN0cmVhbUhhc0RlZmF1bHRSZWFkZXIoc3RyZWFtKSk7XG5cbiAgICBpZiAodGhpcy5fcXVldWVUb3RhbFNpemUgPiAwKSB7XG4gICAgICBhc3NlcnQoUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkUmVxdWVzdHMoc3RyZWFtKSA9PT0gMCk7XG5cbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5fcXVldWUuc2hpZnQoKSE7XG4gICAgICB0aGlzLl9xdWV1ZVRvdGFsU2l6ZSAtPSBlbnRyeS5ieXRlTGVuZ3RoO1xuXG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVySGFuZGxlUXVldWVEcmFpbih0aGlzKTtcblxuICAgICAgY29uc3QgdmlldyA9IG5ldyBVaW50OEFycmF5KGVudHJ5LmJ1ZmZlciwgZW50cnkuYnl0ZU9mZnNldCwgZW50cnkuYnl0ZUxlbmd0aCk7XG5cbiAgICAgIHJlYWRSZXF1ZXN0Ll9jaHVua1N0ZXBzKHZpZXcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSA9IHRoaXMuX2F1dG9BbGxvY2F0ZUNodW5rU2l6ZTtcbiAgICBpZiAoYXV0b0FsbG9jYXRlQ2h1bmtTaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBidWZmZXI6IEFycmF5QnVmZmVyO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSk7XG4gICAgICB9IGNhdGNoIChidWZmZXJFKSB7XG4gICAgICAgIHJlYWRSZXF1ZXN0Ll9lcnJvclN0ZXBzKGJ1ZmZlckUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHB1bGxJbnRvRGVzY3JpcHRvcjogRGVmYXVsdFB1bGxJbnRvRGVzY3JpcHRvciA9IHtcbiAgICAgICAgYnVmZmVyLFxuICAgICAgICBidWZmZXJCeXRlTGVuZ3RoOiBhdXRvQWxsb2NhdGVDaHVua1NpemUsXG4gICAgICAgIGJ5dGVPZmZzZXQ6IDAsXG4gICAgICAgIGJ5dGVMZW5ndGg6IGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSxcbiAgICAgICAgYnl0ZXNGaWxsZWQ6IDAsXG4gICAgICAgIGVsZW1lbnRTaXplOiAxLFxuICAgICAgICB2aWV3Q29uc3RydWN0b3I6IFVpbnQ4QXJyYXksXG4gICAgICAgIHJlYWRlclR5cGU6ICdkZWZhdWx0J1xuICAgICAgfTtcblxuICAgICAgdGhpcy5fcGVuZGluZ1B1bGxJbnRvcy5wdXNoKHB1bGxJbnRvRGVzY3JpcHRvcik7XG4gICAgfVxuXG4gICAgUmVhZGFibGVTdHJlYW1BZGRSZWFkUmVxdWVzdChzdHJlYW0sIHJlYWRSZXF1ZXN0KTtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZCh0aGlzKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSwge1xuICBjbG9zZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGVucXVldWU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBlcnJvcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGJ5b2JSZXF1ZXN0OiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZGVzaXJlZFNpemU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcicsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlci5cblxuZXhwb3J0IGZ1bmN0aW9uIElzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcih4OiBhbnkpOiB4IGlzIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbScpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyO1xufVxuXG5mdW5jdGlvbiBJc1JlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QoeDogYW55KTogeCBpcyBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0IHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2Fzc29jaWF0ZWRSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3Q7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIpOiB2b2lkIHtcbiAgY29uc3Qgc2hvdWxkUHVsbCA9IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJTaG91bGRDYWxsUHVsbChjb250cm9sbGVyKTtcbiAgaWYgKCFzaG91bGRQdWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3B1bGxpbmcpIHtcbiAgICBjb250cm9sbGVyLl9wdWxsQWdhaW4gPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGFzc2VydCghY29udHJvbGxlci5fcHVsbEFnYWluKTtcblxuICBjb250cm9sbGVyLl9wdWxsaW5nID0gdHJ1ZTtcblxuICAvLyBUT0RPOiBUZXN0IGNvbnRyb2xsZXIgYXJndW1lbnRcbiAgY29uc3QgcHVsbFByb21pc2UgPSBjb250cm9sbGVyLl9wdWxsQWxnb3JpdGhtKCk7XG4gIHVwb25Qcm9taXNlKFxuICAgIHB1bGxQcm9taXNlLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuX3B1bGxpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKGNvbnRyb2xsZXIuX3B1bGxBZ2Fpbikge1xuICAgICAgICBjb250cm9sbGVyLl9wdWxsQWdhaW4gPSBmYWxzZTtcbiAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSxcbiAgICBlID0+IHtcbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyLCBlKTtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbGVhclBlbmRpbmdQdWxsSW50b3MoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcikge1xuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVySW52YWxpZGF0ZUJZT0JSZXF1ZXN0KGNvbnRyb2xsZXIpO1xuICBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDb21taXRQdWxsSW50b0Rlc2NyaXB0b3I8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4oXG4gIHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtLFxuICBwdWxsSW50b0Rlc2NyaXB0b3I6IFB1bGxJbnRvRGVzY3JpcHRvcjxUPlxuKSB7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlICE9PSAnZXJyb3JlZCcpO1xuXG4gIGxldCBkb25lID0gZmFsc2U7XG4gIGlmIChzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJykge1xuICAgIGFzc2VydChwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgPT09IDApO1xuICAgIGRvbmUgPSB0cnVlO1xuICB9XG5cbiAgY29uc3QgZmlsbGVkVmlldyA9IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDb252ZXJ0UHVsbEludG9EZXNjcmlwdG9yPFQ+KHB1bGxJbnRvRGVzY3JpcHRvcik7XG4gIGlmIChwdWxsSW50b0Rlc2NyaXB0b3IucmVhZGVyVHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZFJlcXVlc3Qoc3RyZWFtLCBmaWxsZWRWaWV3IGFzIHVua25vd24gYXMgVWludDhBcnJheSwgZG9uZSk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KHB1bGxJbnRvRGVzY3JpcHRvci5yZWFkZXJUeXBlID09PSAnYnlvYicpO1xuICAgIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRJbnRvUmVxdWVzdChzdHJlYW0sIGZpbGxlZFZpZXcsIGRvbmUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDb252ZXJ0UHVsbEludG9EZXNjcmlwdG9yPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+KFxuICBwdWxsSW50b0Rlc2NyaXB0b3I6IFB1bGxJbnRvRGVzY3JpcHRvcjxUPlxuKTogVCB7XG4gIGNvbnN0IGJ5dGVzRmlsbGVkID0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkO1xuICBjb25zdCBlbGVtZW50U2l6ZSA9IHB1bGxJbnRvRGVzY3JpcHRvci5lbGVtZW50U2l6ZTtcblxuICBhc3NlcnQoYnl0ZXNGaWxsZWQgPD0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVMZW5ndGgpO1xuICBhc3NlcnQoYnl0ZXNGaWxsZWQgJSBlbGVtZW50U2l6ZSA9PT0gMCk7XG5cbiAgcmV0dXJuIG5ldyBwdWxsSW50b0Rlc2NyaXB0b3Iudmlld0NvbnN0cnVjdG9yKFxuICAgIHB1bGxJbnRvRGVzY3JpcHRvci5idWZmZXIsIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlT2Zmc2V0LCBieXRlc0ZpbGxlZCAvIGVsZW1lbnRTaXplKSBhcyBUO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZUNodW5rVG9RdWV1ZShjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBBcnJheUJ1ZmZlckxpa2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlT2Zmc2V0OiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlTGVuZ3RoOiBudW1iZXIpIHtcbiAgY29udHJvbGxlci5fcXVldWUucHVzaCh7IGJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCB9KTtcbiAgY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgKz0gYnl0ZUxlbmd0aDtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZpbGxQdWxsSW50b0Rlc2NyaXB0b3JGcm9tUXVldWUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1bGxJbnRvRGVzY3JpcHRvcjogUHVsbEludG9EZXNjcmlwdG9yKSB7XG4gIGNvbnN0IGVsZW1lbnRTaXplID0gcHVsbEludG9EZXNjcmlwdG9yLmVsZW1lbnRTaXplO1xuXG4gIGNvbnN0IGN1cnJlbnRBbGlnbmVkQnl0ZXMgPSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgLSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgJSBlbGVtZW50U2l6ZTtcblxuICBjb25zdCBtYXhCeXRlc1RvQ29weSA9IE1hdGgubWluKGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlTGVuZ3RoIC0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkKTtcbiAgY29uc3QgbWF4Qnl0ZXNGaWxsZWQgPSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgKyBtYXhCeXRlc1RvQ29weTtcbiAgY29uc3QgbWF4QWxpZ25lZEJ5dGVzID0gbWF4Qnl0ZXNGaWxsZWQgLSBtYXhCeXRlc0ZpbGxlZCAlIGVsZW1lbnRTaXplO1xuXG4gIGxldCB0b3RhbEJ5dGVzVG9Db3B5UmVtYWluaW5nID0gbWF4Qnl0ZXNUb0NvcHk7XG4gIGxldCByZWFkeSA9IGZhbHNlO1xuICBpZiAobWF4QWxpZ25lZEJ5dGVzID4gY3VycmVudEFsaWduZWRCeXRlcykge1xuICAgIHRvdGFsQnl0ZXNUb0NvcHlSZW1haW5pbmcgPSBtYXhBbGlnbmVkQnl0ZXMgLSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQ7XG4gICAgcmVhZHkgPSB0cnVlO1xuICB9XG5cbiAgY29uc3QgcXVldWUgPSBjb250cm9sbGVyLl9xdWV1ZTtcblxuICB3aGlsZSAodG90YWxCeXRlc1RvQ29weVJlbWFpbmluZyA+IDApIHtcbiAgICBjb25zdCBoZWFkT2ZRdWV1ZSA9IHF1ZXVlLnBlZWsoKTtcblxuICAgIGNvbnN0IGJ5dGVzVG9Db3B5ID0gTWF0aC5taW4odG90YWxCeXRlc1RvQ29weVJlbWFpbmluZywgaGVhZE9mUXVldWUuYnl0ZUxlbmd0aCk7XG5cbiAgICBjb25zdCBkZXN0U3RhcnQgPSBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZU9mZnNldCArIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZDtcbiAgICBDb3B5RGF0YUJsb2NrQnl0ZXMocHVsbEludG9EZXNjcmlwdG9yLmJ1ZmZlciwgZGVzdFN0YXJ0LCBoZWFkT2ZRdWV1ZS5idWZmZXIsIGhlYWRPZlF1ZXVlLmJ5dGVPZmZzZXQsIGJ5dGVzVG9Db3B5KTtcblxuICAgIGlmIChoZWFkT2ZRdWV1ZS5ieXRlTGVuZ3RoID09PSBieXRlc1RvQ29weSkge1xuICAgICAgcXVldWUuc2hpZnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZE9mUXVldWUuYnl0ZU9mZnNldCArPSBieXRlc1RvQ29weTtcbiAgICAgIGhlYWRPZlF1ZXVlLmJ5dGVMZW5ndGggLT0gYnl0ZXNUb0NvcHk7XG4gICAgfVxuICAgIGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplIC09IGJ5dGVzVG9Db3B5O1xuXG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZpbGxIZWFkUHVsbEludG9EZXNjcmlwdG9yKGNvbnRyb2xsZXIsIGJ5dGVzVG9Db3B5LCBwdWxsSW50b0Rlc2NyaXB0b3IpO1xuXG4gICAgdG90YWxCeXRlc1RvQ29weVJlbWFpbmluZyAtPSBieXRlc1RvQ29weTtcbiAgfVxuXG4gIGlmICghcmVhZHkpIHtcbiAgICBhc3NlcnQoY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPT09IDApO1xuICAgIGFzc2VydChwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgPiAwKTtcbiAgICBhc3NlcnQocHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkIDwgcHVsbEludG9EZXNjcmlwdG9yLmVsZW1lbnRTaXplKTtcbiAgfVxuXG4gIHJldHVybiByZWFkeTtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZpbGxIZWFkUHVsbEludG9EZXNjcmlwdG9yKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1bGxJbnRvRGVzY3JpcHRvcjogUHVsbEludG9EZXNjcmlwdG9yKSB7XG4gIGFzc2VydChjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA9PT0gMCB8fCBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKSA9PT0gcHVsbEludG9EZXNjcmlwdG9yKTtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0ID09PSBudWxsKTtcbiAgcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkICs9IHNpemU7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJIYW5kbGVRdWV1ZURyYWluKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIpIHtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnKTtcblxuICBpZiAoY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPT09IDAgJiYgY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQpIHtcbiAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICAgIFJlYWRhYmxlU3RyZWFtQ2xvc2UoY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbSk7XG4gIH0gZWxzZSB7XG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckludmFsaWRhdGVCWU9CUmVxdWVzdChjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKSB7XG4gIGlmIChjb250cm9sbGVyLl9ieW9iUmVxdWVzdCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0Ll9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciA9IHVuZGVmaW5lZCE7XG4gIGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0Ll92aWV3ID0gbnVsbCE7XG4gIGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclByb2Nlc3NQdWxsSW50b0Rlc2NyaXB0b3JzVXNpbmdRdWV1ZShjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKSB7XG4gIGFzc2VydCghY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQpO1xuXG4gIHdoaWxlIChjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwdWxsSW50b0Rlc2NyaXB0b3IgPSBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKTtcblxuICAgIGlmIChSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRmlsbFB1bGxJbnRvRGVzY3JpcHRvckZyb21RdWV1ZShjb250cm9sbGVyLCBwdWxsSW50b0Rlc2NyaXB0b3IpKSB7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyU2hpZnRQZW5kaW5nUHVsbEludG8oY29udHJvbGxlcik7XG5cbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDb21taXRQdWxsSW50b0Rlc2NyaXB0b3IoXG4gICAgICAgIGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0sXG4gICAgICAgIHB1bGxJbnRvRGVzY3JpcHRvclxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJQdWxsSW50bzxUIGV4dGVuZHMgQXJyYXlCdWZmZXJWaWV3PihcbiAgY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgdmlldzogVCxcbiAgcmVhZEludG9SZXF1ZXN0OiBSZWFkSW50b1JlcXVlc3Q8VD5cbik6IHZvaWQge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuXG4gIGxldCBlbGVtZW50U2l6ZSA9IDE7XG4gIGlmICh2aWV3LmNvbnN0cnVjdG9yICE9PSBEYXRhVmlldykge1xuICAgIGVsZW1lbnRTaXplID0gKHZpZXcuY29uc3RydWN0b3IgYXMgQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3I8VD4pLkJZVEVTX1BFUl9FTEVNRU5UO1xuICB9XG5cbiAgY29uc3QgY3RvciA9IHZpZXcuY29uc3RydWN0b3IgYXMgQXJyYXlCdWZmZXJWaWV3Q29uc3RydWN0b3I8VD47XG5cbiAgLy8gdHJ5IHtcbiAgY29uc3QgYnVmZmVyID0gVHJhbnNmZXJBcnJheUJ1ZmZlcih2aWV3LmJ1ZmZlcik7XG4gIC8vIH0gY2F0Y2ggKGUpIHtcbiAgLy8gICByZWFkSW50b1JlcXVlc3QuX2Vycm9yU3RlcHMoZSk7XG4gIC8vICAgcmV0dXJuO1xuICAvLyB9XG5cbiAgY29uc3QgcHVsbEludG9EZXNjcmlwdG9yOiBCWU9CUHVsbEludG9EZXNjcmlwdG9yPFQ+ID0ge1xuICAgIGJ1ZmZlcixcbiAgICBidWZmZXJCeXRlTGVuZ3RoOiBidWZmZXIuYnl0ZUxlbmd0aCxcbiAgICBieXRlT2Zmc2V0OiB2aWV3LmJ5dGVPZmZzZXQsXG4gICAgYnl0ZUxlbmd0aDogdmlldy5ieXRlTGVuZ3RoLFxuICAgIGJ5dGVzRmlsbGVkOiAwLFxuICAgIGVsZW1lbnRTaXplLFxuICAgIHZpZXdDb25zdHJ1Y3RvcjogY3RvcixcbiAgICByZWFkZXJUeXBlOiAnYnlvYidcbiAgfTtcblxuICBpZiAoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPiAwKSB7XG4gICAgY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wdXNoKHB1bGxJbnRvRGVzY3JpcHRvcik7XG5cbiAgICAvLyBObyBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZCgpIGNhbGwgc2luY2U6XG4gICAgLy8gLSBObyBjaGFuZ2UgaGFwcGVucyBvbiBkZXNpcmVkU2l6ZVxuICAgIC8vIC0gVGhlIHNvdXJjZSBoYXMgYWxyZWFkeSBiZWVuIG5vdGlmaWVkIG9mIHRoYXQgdGhlcmUncyBhdCBsZWFzdCAxIHBlbmRpbmcgcmVhZCh2aWV3KVxuXG4gICAgUmVhZGFibGVTdHJlYW1BZGRSZWFkSW50b1JlcXVlc3Qoc3RyZWFtLCByZWFkSW50b1JlcXVlc3QpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJykge1xuICAgIGNvbnN0IGVtcHR5VmlldyA9IG5ldyBjdG9yKHB1bGxJbnRvRGVzY3JpcHRvci5idWZmZXIsIHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlT2Zmc2V0LCAwKTtcbiAgICByZWFkSW50b1JlcXVlc3QuX2Nsb3NlU3RlcHMoZW1wdHlWaWV3KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPiAwKSB7XG4gICAgaWYgKFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJGaWxsUHVsbEludG9EZXNjcmlwdG9yRnJvbVF1ZXVlKGNvbnRyb2xsZXIsIHB1bGxJbnRvRGVzY3JpcHRvcikpIHtcbiAgICAgIGNvbnN0IGZpbGxlZFZpZXcgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ29udmVydFB1bGxJbnRvRGVzY3JpcHRvcjxUPihwdWxsSW50b0Rlc2NyaXB0b3IpO1xuXG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVySGFuZGxlUXVldWVEcmFpbihjb250cm9sbGVyKTtcblxuICAgICAgcmVhZEludG9SZXF1ZXN0Ll9jaHVua1N0ZXBzKGZpbGxlZFZpZXcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjb250cm9sbGVyLl9jbG9zZVJlcXVlc3RlZCkge1xuICAgICAgY29uc3QgZSA9IG5ldyBUeXBlRXJyb3IoJ0luc3VmZmljaWVudCBieXRlcyB0byBmaWxsIGVsZW1lbnRzIGluIHRoZSBnaXZlbiBidWZmZXInKTtcbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyLCBlKTtcblxuICAgICAgcmVhZEludG9SZXF1ZXN0Ll9lcnJvclN0ZXBzKGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucHVzaChwdWxsSW50b0Rlc2NyaXB0b3IpO1xuXG4gIFJlYWRhYmxlU3RyZWFtQWRkUmVhZEludG9SZXF1ZXN0PFQ+KHN0cmVhbSwgcmVhZEludG9SZXF1ZXN0KTtcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kSW5DbG9zZWRTdGF0ZShjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0RGVzY3JpcHRvcjogUHVsbEludG9EZXNjcmlwdG9yKSB7XG4gIGFzc2VydChmaXJzdERlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgPT09IDApO1xuXG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW07XG4gIGlmIChSZWFkYWJsZVN0cmVhbUhhc0JZT0JSZWFkZXIoc3RyZWFtKSkge1xuICAgIHdoaWxlIChSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRJbnRvUmVxdWVzdHMoc3RyZWFtKSA+IDApIHtcbiAgICAgIGNvbnN0IHB1bGxJbnRvRGVzY3JpcHRvciA9IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJTaGlmdFBlbmRpbmdQdWxsSW50byhjb250cm9sbGVyKTtcbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDb21taXRQdWxsSW50b0Rlc2NyaXB0b3Ioc3RyZWFtLCBwdWxsSW50b0Rlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZEluUmVhZGFibGVTdGF0ZShjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZXNXcml0dGVuOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsSW50b0Rlc2NyaXB0b3I6IFB1bGxJbnRvRGVzY3JpcHRvcikge1xuICBhc3NlcnQocHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkICsgYnl0ZXNXcml0dGVuIDw9IHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlTGVuZ3RoKTtcblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRmlsbEhlYWRQdWxsSW50b0Rlc2NyaXB0b3IoY29udHJvbGxlciwgYnl0ZXNXcml0dGVuLCBwdWxsSW50b0Rlc2NyaXB0b3IpO1xuXG4gIGlmIChwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQgPCBwdWxsSW50b0Rlc2NyaXB0b3IuZWxlbWVudFNpemUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyU2hpZnRQZW5kaW5nUHVsbEludG8oY29udHJvbGxlcik7XG5cbiAgY29uc3QgcmVtYWluZGVyU2l6ZSA9IHB1bGxJbnRvRGVzY3JpcHRvci5ieXRlc0ZpbGxlZCAlIHB1bGxJbnRvRGVzY3JpcHRvci5lbGVtZW50U2l6ZTtcbiAgaWYgKHJlbWFpbmRlclNpemUgPiAwKSB7XG4gICAgY29uc3QgZW5kID0gcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVPZmZzZXQgKyBwdWxsSW50b0Rlc2NyaXB0b3IuYnl0ZXNGaWxsZWQ7XG4gICAgY29uc3QgcmVtYWluZGVyID0gQXJyYXlCdWZmZXJTbGljZShwdWxsSW50b0Rlc2NyaXB0b3IuYnVmZmVyLCBlbmQgLSByZW1haW5kZXJTaXplLCBlbmQpO1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFbnF1ZXVlQ2h1bmtUb1F1ZXVlKGNvbnRyb2xsZXIsIHJlbWFpbmRlciwgMCwgcmVtYWluZGVyLmJ5dGVMZW5ndGgpO1xuICB9XG5cbiAgcHVsbEludG9EZXNjcmlwdG9yLmJ5dGVzRmlsbGVkIC09IHJlbWFpbmRlclNpemU7XG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDb21taXRQdWxsSW50b0Rlc2NyaXB0b3IoY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbSwgcHVsbEludG9EZXNjcmlwdG9yKTtcblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUHJvY2Vzc1B1bGxJbnRvRGVzY3JpcHRvcnNVc2luZ1F1ZXVlKGNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZEludGVybmFsKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsIGJ5dGVzV3JpdHRlbjogbnVtYmVyKSB7XG4gIGNvbnN0IGZpcnN0RGVzY3JpcHRvciA9IGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO1xuICBhc3NlcnQoQ2FuVHJhbnNmZXJBcnJheUJ1ZmZlcihmaXJzdERlc2NyaXB0b3IuYnVmZmVyKSk7XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckludmFsaWRhdGVCWU9CUmVxdWVzdChjb250cm9sbGVyKTtcblxuICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlO1xuICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgYXNzZXJ0KGJ5dGVzV3JpdHRlbiA9PT0gMCk7XG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRJbkNsb3NlZFN0YXRlKGNvbnRyb2xsZXIsIGZpcnN0RGVzY3JpcHRvcik7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KHN0YXRlID09PSAncmVhZGFibGUnKTtcbiAgICBhc3NlcnQoYnl0ZXNXcml0dGVuID4gMCk7XG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRJblJlYWRhYmxlU3RhdGUoY29udHJvbGxlciwgYnl0ZXNXcml0dGVuLCBmaXJzdERlc2NyaXB0b3IpO1xuICB9XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJTaGlmdFBlbmRpbmdQdWxsSW50byhcbiAgY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclxuKTogUHVsbEludG9EZXNjcmlwdG9yIHtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0ID09PSBudWxsKTtcbiAgY29uc3QgZGVzY3JpcHRvciA9IGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3Muc2hpZnQoKSE7XG4gIHJldHVybiBkZXNjcmlwdG9yO1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyU2hvdWxkQ2FsbFB1bGwoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcik6IGJvb2xlYW4ge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuXG4gIGlmIChzdHJlYW0uX3N0YXRlICE9PSAncmVhZGFibGUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFjb250cm9sbGVyLl9zdGFydGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKFJlYWRhYmxlU3RyZWFtSGFzRGVmYXVsdFJlYWRlcihzdHJlYW0pICYmIFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZFJlcXVlc3RzKHN0cmVhbSkgPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoUmVhZGFibGVTdHJlYW1IYXNCWU9CUmVhZGVyKHN0cmVhbSkgJiYgUmVhZGFibGVTdHJlYW1HZXROdW1SZWFkSW50b1JlcXVlc3RzKHN0cmVhbSkgPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCBkZXNpcmVkU2l6ZSA9IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZShjb250cm9sbGVyKTtcbiAgYXNzZXJ0KGRlc2lyZWRTaXplICE9PSBudWxsKTtcbiAgaWYgKGRlc2lyZWRTaXplISA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKSB7XG4gIGNvbnRyb2xsZXIuX3B1bGxBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9jYW5jZWxBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xufVxuXG4vLyBBIGNsaWVudCBvZiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyIG1heSB1c2UgdGhlc2UgZnVuY3Rpb25zIGRpcmVjdGx5IHRvIGJ5cGFzcyBzdGF0ZSBjaGVjay5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbG9zZShjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW07XG5cbiAgaWYgKGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkIHx8IHN0cmVhbS5fc3RhdGUgIT09ICdyZWFkYWJsZScpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPiAwKSB7XG4gICAgY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQgPSB0cnVlO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpcnN0UGVuZGluZ1B1bGxJbnRvID0gY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7XG4gICAgaWYgKGZpcnN0UGVuZGluZ1B1bGxJbnRvLmJ5dGVzRmlsbGVkID4gMCkge1xuICAgICAgY29uc3QgZSA9IG5ldyBUeXBlRXJyb3IoJ0luc3VmZmljaWVudCBieXRlcyB0byBmaWxsIGVsZW1lbnRzIGluIHRoZSBnaXZlbiBidWZmZXInKTtcbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyLCBlKTtcblxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cblxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICBSZWFkYWJsZVN0cmVhbUNsb3NlKHN0cmVhbSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZShjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLCBjaHVuazogQXJyYXlCdWZmZXJWaWV3KSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW07XG5cbiAgaWYgKGNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkIHx8IHN0cmVhbS5fc3RhdGUgIT09ICdyZWFkYWJsZScpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBidWZmZXIgPSBjaHVuay5idWZmZXI7XG4gIGNvbnN0IGJ5dGVPZmZzZXQgPSBjaHVuay5ieXRlT2Zmc2V0O1xuICBjb25zdCBieXRlTGVuZ3RoID0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgaWYgKElzRGV0YWNoZWRCdWZmZXIoYnVmZmVyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NodW5rXFwncyBidWZmZXIgaXMgZGV0YWNoZWQgYW5kIHNvIGNhbm5vdCBiZSBlbnF1ZXVlZCcpO1xuICB9XG4gIGNvbnN0IHRyYW5zZmVycmVkQnVmZmVyID0gVHJhbnNmZXJBcnJheUJ1ZmZlcihidWZmZXIpO1xuXG4gIGlmIChjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaXJzdFBlbmRpbmdQdWxsSW50byA9IGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO1xuICAgIGlmIChJc0RldGFjaGVkQnVmZmVyKGZpcnN0UGVuZGluZ1B1bGxJbnRvLmJ1ZmZlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdUaGUgQllPQiByZXF1ZXN0XFwncyBidWZmZXIgaGFzIGJlZW4gZGV0YWNoZWQgYW5kIHNvIGNhbm5vdCBiZSBmaWxsZWQgd2l0aCBhbiBlbnF1ZXVlZCBjaHVuaydcbiAgICAgICk7XG4gICAgfVxuICAgIGZpcnN0UGVuZGluZ1B1bGxJbnRvLmJ1ZmZlciA9IFRyYW5zZmVyQXJyYXlCdWZmZXIoZmlyc3RQZW5kaW5nUHVsbEludG8uYnVmZmVyKTtcbiAgfVxuXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJJbnZhbGlkYXRlQllPQlJlcXVlc3QoY29udHJvbGxlcik7XG5cbiAgaWYgKFJlYWRhYmxlU3RyZWFtSGFzRGVmYXVsdFJlYWRlcihzdHJlYW0pKSB7XG4gICAgaWYgKFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZFJlcXVlc3RzKHN0cmVhbSkgPT09IDApIHtcbiAgICAgIGFzc2VydChjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLmxlbmd0aCA9PT0gMCk7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZUNodW5rVG9RdWV1ZShjb250cm9sbGVyLCB0cmFuc2ZlcnJlZEJ1ZmZlciwgYnl0ZU9mZnNldCwgYnl0ZUxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChjb250cm9sbGVyLl9xdWV1ZS5sZW5ndGggPT09IDApO1xuICAgICAgaWYgKGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgICAgICBhc3NlcnQoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCkucmVhZGVyVHlwZSA9PT0gJ2RlZmF1bHQnKTtcbiAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclNoaWZ0UGVuZGluZ1B1bGxJbnRvKGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJhbnNmZXJyZWRWaWV3ID0gbmV3IFVpbnQ4QXJyYXkodHJhbnNmZXJyZWRCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgICAgUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZFJlcXVlc3Qoc3RyZWFtLCB0cmFuc2ZlcnJlZFZpZXcsIGZhbHNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoUmVhZGFibGVTdHJlYW1IYXNCWU9CUmVhZGVyKHN0cmVhbSkpIHtcbiAgICAvLyBUT0RPOiBJZGVhbGx5IGluIHRoaXMgYnJhbmNoIGRldGFjaGluZyBzaG91bGQgaGFwcGVuIG9ubHkgaWYgdGhlIGJ1ZmZlciBpcyBub3QgY29uc3VtZWQgZnVsbHkuXG4gICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWVDaHVua1RvUXVldWUoY29udHJvbGxlciwgdHJhbnNmZXJyZWRCdWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpO1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJQcm9jZXNzUHVsbEludG9EZXNjcmlwdG9yc1VzaW5nUXVldWUoY29udHJvbGxlcik7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KCFJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbSkpO1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFbnF1ZXVlQ2h1bmtUb1F1ZXVlKGNvbnRyb2xsZXIsIHRyYW5zZmVycmVkQnVmZmVyLCBieXRlT2Zmc2V0LCBieXRlTGVuZ3RoKTtcbiAgfVxuXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVycm9yKGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsIGU6IGFueSkge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtO1xuXG4gIGlmIChzdHJlYW0uX3N0YXRlICE9PSAncmVhZGFibGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsZWFyUGVuZGluZ1B1bGxJbnRvcyhjb250cm9sbGVyKTtcblxuICBSZXNldFF1ZXVlKGNvbnRyb2xsZXIpO1xuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICBSZWFkYWJsZVN0cmVhbUVycm9yKHN0cmVhbSwgZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0QllPQlJlcXVlc3QoXG4gIGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJcbik6IFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QgfCBudWxsIHtcbiAgaWYgKGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0ID09PSBudWxsICYmIGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpcnN0RGVzY3JpcHRvciA9IGNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MucGVlaygpO1xuICAgIGNvbnN0IHZpZXcgPSBuZXcgVWludDhBcnJheShmaXJzdERlc2NyaXB0b3IuYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERlc2NyaXB0b3IuYnl0ZU9mZnNldCArIGZpcnN0RGVzY3JpcHRvci5ieXRlc0ZpbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REZXNjcmlwdG9yLmJ5dGVMZW5ndGggLSBmaXJzdERlc2NyaXB0b3IuYnl0ZXNGaWxsZWQpO1xuXG4gICAgY29uc3QgYnlvYlJlcXVlc3Q6IFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlKTtcbiAgICBTZXRVcFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QoYnlvYlJlcXVlc3QsIGNvbnRyb2xsZXIsIHZpZXcpO1xuICAgIGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0ID0gYnlvYlJlcXVlc3Q7XG4gIH1cbiAgcmV0dXJuIGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0O1xufVxuXG5mdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0RGVzaXJlZFNpemUoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcik6IG51bWJlciB8IG51bGwge1xuICBjb25zdCBzdGF0ZSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRSZWFkYWJsZUJ5dGVTdHJlYW0uX3N0YXRlO1xuXG4gIGlmIChzdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRyb2xsZXIuX3N0cmF0ZWd5SFdNIC0gY29udHJvbGxlci5fcXVldWVUb3RhbFNpemU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZChjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLCBieXRlc1dyaXR0ZW46IG51bWJlcikge1xuICBhc3NlcnQoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPiAwKTtcblxuICBjb25zdCBmaXJzdERlc2NyaXB0b3IgPSBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zLnBlZWsoKTtcbiAgY29uc3Qgc3RhdGUgPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVCeXRlU3RyZWFtLl9zdGF0ZTtcblxuICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgaWYgKGJ5dGVzV3JpdHRlbiAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYnl0ZXNXcml0dGVuIG11c3QgYmUgMCB3aGVuIGNhbGxpbmcgcmVzcG9uZCgpIG9uIGEgY2xvc2VkIHN0cmVhbScpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoc3RhdGUgPT09ICdyZWFkYWJsZScpO1xuICAgIGlmIChieXRlc1dyaXR0ZW4gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2J5dGVzV3JpdHRlbiBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIHdoZW4gY2FsbGluZyByZXNwb25kKCkgb24gYSByZWFkYWJsZSBzdHJlYW0nKTtcbiAgICB9XG4gICAgaWYgKGZpcnN0RGVzY3JpcHRvci5ieXRlc0ZpbGxlZCArIGJ5dGVzV3JpdHRlbiA+IGZpcnN0RGVzY3JpcHRvci5ieXRlTGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYnl0ZXNXcml0dGVuIG91dCBvZiByYW5nZScpO1xuICAgIH1cbiAgfVxuXG4gIGZpcnN0RGVzY3JpcHRvci5idWZmZXIgPSBUcmFuc2ZlckFycmF5QnVmZmVyKGZpcnN0RGVzY3JpcHRvci5idWZmZXIpO1xuXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kSW50ZXJuYWwoY29udHJvbGxlciwgYnl0ZXNXcml0dGVuKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kV2l0aE5ld1ZpZXcoY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IEFycmF5QnVmZmVyVmlldykge1xuICBhc3NlcnQoY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPiAwKTtcbiAgYXNzZXJ0KCFJc0RldGFjaGVkQnVmZmVyKHZpZXcuYnVmZmVyKSk7XG5cbiAgY29uc3QgZmlyc3REZXNjcmlwdG9yID0gY29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5wZWVrKCk7XG4gIGNvbnN0IHN0YXRlID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbS5fc3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykge1xuICAgIGlmICh2aWV3LmJ5dGVMZW5ndGggIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSB2aWV3XFwncyBsZW5ndGggbXVzdCBiZSAwIHdoZW4gY2FsbGluZyByZXNwb25kV2l0aE5ld1ZpZXcoKSBvbiBhIGNsb3NlZCBzdHJlYW0nKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KHN0YXRlID09PSAncmVhZGFibGUnKTtcbiAgICBpZiAodmlldy5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnVGhlIHZpZXdcXCdzIGxlbmd0aCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIHdoZW4gY2FsbGluZyByZXNwb25kV2l0aE5ld1ZpZXcoKSBvbiBhIHJlYWRhYmxlIHN0cmVhbSdcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGZpcnN0RGVzY3JpcHRvci5ieXRlT2Zmc2V0ICsgZmlyc3REZXNjcmlwdG9yLmJ5dGVzRmlsbGVkICE9PSB2aWV3LmJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHJlZ2lvbiBzcGVjaWZpZWQgYnkgdmlldyBkb2VzIG5vdCBtYXRjaCBieW9iUmVxdWVzdCcpO1xuICB9XG4gIGlmIChmaXJzdERlc2NyaXB0b3IuYnVmZmVyQnl0ZUxlbmd0aCAhPT0gdmlldy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgYnVmZmVyIG9mIHZpZXcgaGFzIGRpZmZlcmVudCBjYXBhY2l0eSB0aGFuIGJ5b2JSZXF1ZXN0Jyk7XG4gIH1cbiAgaWYgKGZpcnN0RGVzY3JpcHRvci5ieXRlc0ZpbGxlZCArIHZpZXcuYnl0ZUxlbmd0aCA+IGZpcnN0RGVzY3JpcHRvci5ieXRlTGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSByZWdpb24gc3BlY2lmaWVkIGJ5IHZpZXcgaXMgbGFyZ2VyIHRoYW4gYnlvYlJlcXVlc3QnKTtcbiAgfVxuXG4gIGNvbnN0IHZpZXdCeXRlTGVuZ3RoID0gdmlldy5ieXRlTGVuZ3RoO1xuICBmaXJzdERlc2NyaXB0b3IuYnVmZmVyID0gVHJhbnNmZXJBcnJheUJ1ZmZlcih2aWV3LmJ1ZmZlcik7XG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kSW50ZXJuYWwoY29udHJvbGxlciwgdmlld0J5dGVMZW5ndGgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2V0VXBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFsZ29yaXRobTogKCkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdWxsQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxBbGdvcml0aG06IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaFdhdGVyTWFyazogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQWxsb2NhdGVDaHVua1NpemU6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICBhc3NlcnQoc3RyZWFtLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPT09IHVuZGVmaW5lZCk7XG4gIGlmIChhdXRvQWxsb2NhdGVDaHVua1NpemUgIT09IHVuZGVmaW5lZCkge1xuICAgIGFzc2VydChOdW1iZXJJc0ludGVnZXIoYXV0b0FsbG9jYXRlQ2h1bmtTaXplKSk7XG4gICAgYXNzZXJ0KGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSA+IDApO1xuICB9XG5cbiAgY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbSA9IHN0cmVhbTtcblxuICBjb250cm9sbGVyLl9wdWxsQWdhaW4gPSBmYWxzZTtcbiAgY29udHJvbGxlci5fcHVsbGluZyA9IGZhbHNlO1xuXG4gIGNvbnRyb2xsZXIuX2J5b2JSZXF1ZXN0ID0gbnVsbDtcblxuICAvLyBOZWVkIHRvIHNldCB0aGUgc2xvdHMgc28gdGhhdCB0aGUgYXNzZXJ0IGRvZXNuJ3QgZmlyZS4gSW4gdGhlIHNwZWMgdGhlIHNsb3RzIGFscmVhZHkgZXhpc3QgaW1wbGljaXRseS5cbiAgY29udHJvbGxlci5fcXVldWUgPSBjb250cm9sbGVyLl9xdWV1ZVRvdGFsU2l6ZSA9IHVuZGVmaW5lZCE7XG4gIFJlc2V0UXVldWUoY29udHJvbGxlcik7XG5cbiAgY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgY29udHJvbGxlci5fc3RhcnRlZCA9IGZhbHNlO1xuXG4gIGNvbnRyb2xsZXIuX3N0cmF0ZWd5SFdNID0gaGlnaFdhdGVyTWFyaztcblxuICBjb250cm9sbGVyLl9wdWxsQWxnb3JpdGhtID0gcHVsbEFsZ29yaXRobTtcbiAgY29udHJvbGxlci5fY2FuY2VsQWxnb3JpdGhtID0gY2FuY2VsQWxnb3JpdGhtO1xuXG4gIGNvbnRyb2xsZXIuX2F1dG9BbGxvY2F0ZUNodW5rU2l6ZSA9IGF1dG9BbGxvY2F0ZUNodW5rU2l6ZTtcblxuICBjb250cm9sbGVyLl9wZW5kaW5nUHVsbEludG9zID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG5cbiAgc3RyZWFtLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuXG4gIGNvbnN0IHN0YXJ0UmVzdWx0ID0gc3RhcnRBbGdvcml0aG0oKTtcbiAgdXBvblByb21pc2UoXG4gICAgcHJvbWlzZVJlc29sdmVkV2l0aChzdGFydFJlc3VsdCksXG4gICAgKCkgPT4ge1xuICAgICAgY29udHJvbGxlci5fc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgIGFzc2VydCghY29udHJvbGxlci5fcHVsbGluZyk7XG4gICAgICBhc3NlcnQoIWNvbnRyb2xsZXIuX3B1bGxBZ2Fpbik7XG5cbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDYWxsUHVsbElmTmVlZGVkKGNvbnRyb2xsZXIpO1xuICAgIH0sXG4gICAgciA9PiB7XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgcik7XG4gICAgfVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2V0VXBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRnJvbVVuZGVybHlpbmdTb3VyY2UoXG4gIHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtLFxuICB1bmRlcmx5aW5nQnl0ZVNvdXJjZTogVmFsaWRhdGVkVW5kZXJseWluZ0J5dGVTb3VyY2UsXG4gIGhpZ2hXYXRlck1hcms6IG51bWJlclxuKSB7XG4gIGNvbnN0IGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlKTtcblxuICBsZXQgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPiA9ICgpID0+IHVuZGVmaW5lZDtcbiAgbGV0IHB1bGxBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIGxldCBjYW5jZWxBbGdvcml0aG06IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPiA9ICgpID0+IHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcblxuICBpZiAodW5kZXJseWluZ0J5dGVTb3VyY2Uuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0QWxnb3JpdGhtID0gKCkgPT4gdW5kZXJseWluZ0J5dGVTb3VyY2Uuc3RhcnQhKGNvbnRyb2xsZXIpO1xuICB9XG4gIGlmICh1bmRlcmx5aW5nQnl0ZVNvdXJjZS5wdWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBwdWxsQWxnb3JpdGhtID0gKCkgPT4gdW5kZXJseWluZ0J5dGVTb3VyY2UucHVsbCEoY29udHJvbGxlcik7XG4gIH1cbiAgaWYgKHVuZGVybHlpbmdCeXRlU291cmNlLmNhbmNlbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY2FuY2VsQWxnb3JpdGhtID0gcmVhc29uID0+IHVuZGVybHlpbmdCeXRlU291cmNlLmNhbmNlbCEocmVhc29uKTtcbiAgfVxuXG4gIGNvbnN0IGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSA9IHVuZGVybHlpbmdCeXRlU291cmNlLmF1dG9BbGxvY2F0ZUNodW5rU2l6ZTtcbiAgaWYgKGF1dG9BbGxvY2F0ZUNodW5rU2l6ZSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F1dG9BbGxvY2F0ZUNodW5rU2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7XG4gIH1cblxuICBTZXRVcFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIoXG4gICAgc3RyZWFtLCBjb250cm9sbGVyLCBzdGFydEFsZ29yaXRobSwgcHVsbEFsZ29yaXRobSwgY2FuY2VsQWxnb3JpdGhtLCBoaWdoV2F0ZXJNYXJrLCBhdXRvQWxsb2NhdGVDaHVua1NpemVcbiAgKTtcbn1cblxuZnVuY3Rpb24gU2V0VXBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0KHJlcXVlc3Q6IFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBBcnJheUJ1ZmZlclZpZXcpIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcihjb250cm9sbGVyKSk7XG4gIGFzc2VydCh0eXBlb2YgdmlldyA9PT0gJ29iamVjdCcpO1xuICBhc3NlcnQoQXJyYXlCdWZmZXIuaXNWaWV3KHZpZXcpKTtcbiAgYXNzZXJ0KCFJc0RldGFjaGVkQnVmZmVyKHZpZXcuYnVmZmVyKSk7XG4gIHJlcXVlc3QuX2Fzc29jaWF0ZWRSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgcmVxdWVzdC5fdmlldyA9IHZpZXc7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LlxuXG5mdW5jdGlvbiBieW9iUmVxdWVzdEJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3RgKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIuXG5cbmZ1bmN0aW9uIGJ5dGVTdHJlYW1Db250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcbiAgICBgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcmApO1xufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi8uLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQgeyBTaW1wbGVRdWV1ZSB9IGZyb20gJy4uL3NpbXBsZS1xdWV1ZSc7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNDYW5jZWwsXG4gIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0luaXRpYWxpemUsXG4gIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY1JlbGVhc2UsXG4gIHJlYWRlckxvY2tFeGNlcHRpb25cbn0gZnJvbSAnLi9nZW5lcmljLXJlYWRlcic7XG5pbXBvcnQgeyBJc1JlYWRhYmxlU3RyZWFtTG9ja2VkLCBSZWFkYWJsZUJ5dGVTdHJlYW0sIFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7XG4gIElzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclB1bGxJbnRvXG59IGZyb20gJy4vYnl0ZS1zdHJlYW0tY29udHJvbGxlcic7XG5pbXBvcnQgeyB0eXBlSXNPYmplY3QgfSBmcm9tICcuLi9oZWxwZXJzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHsgbmV3UHJvbWlzZSwgcHJvbWlzZVJlamVjdGVkV2l0aCB9IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7IGFzc2VydFJlcXVpcmVkQXJndW1lbnQgfSBmcm9tICcuLi92YWxpZGF0b3JzL2Jhc2ljJztcbmltcG9ydCB7IGFzc2VydFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnLi4vdmFsaWRhdG9ycy9yZWFkYWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgSXNEZXRhY2hlZEJ1ZmZlciB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9lY21hc2NyaXB0JztcblxuLyoqXG4gKiBBIHJlc3VsdCByZXR1cm5lZCBieSB7QGxpbmsgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLnJlYWR9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUmVhZGFibGVTdHJlYW1CWU9CUmVhZFJlc3VsdDxUIGV4dGVuZHMgQXJyYXlCdWZmZXJWaWV3PiA9IHtcbiAgZG9uZTogZmFsc2U7XG4gIHZhbHVlOiBUO1xufSB8IHtcbiAgZG9uZTogdHJ1ZTtcbiAgdmFsdWU6IFQgfCB1bmRlZmluZWQ7XG59O1xuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW0uXG5cbmV4cG9ydCBmdW5jdGlvbiBBY3F1aXJlUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtKTogUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyIHtcbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIoc3RyZWFtKTtcbn1cblxuLy8gUmVhZGFibGVTdHJlYW0gQVBJIGV4cG9zZWQgZm9yIGNvbnRyb2xsZXJzLlxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1BZGRSZWFkSW50b1JlcXVlc3Q8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4oc3RyZWFtOiBSZWFkYWJsZUJ5dGVTdHJlYW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZEludG9SZXF1ZXN0OiBSZWFkSW50b1JlcXVlc3Q8VD4pOiB2b2lkIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHN0cmVhbS5fcmVhZGVyKSk7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAncmVhZGFibGUnIHx8IHN0cmVhbS5fc3RhdGUgPT09ICdjbG9zZWQnKTtcblxuICAoc3RyZWFtLl9yZWFkZXIhIGFzIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcikuX3JlYWRJbnRvUmVxdWVzdHMucHVzaChyZWFkSW50b1JlcXVlc3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZEludG9SZXF1ZXN0KHN0cmVhbTogUmVhZGFibGVCeXRlU3RyZWFtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVuazogQXJyYXlCdWZmZXJWaWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBib29sZWFuKSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5fcmVhZGVyIGFzIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcjtcblxuICBhc3NlcnQocmVhZGVyLl9yZWFkSW50b1JlcXVlc3RzLmxlbmd0aCA+IDApO1xuXG4gIGNvbnN0IHJlYWRJbnRvUmVxdWVzdCA9IHJlYWRlci5fcmVhZEludG9SZXF1ZXN0cy5zaGlmdCgpITtcbiAgaWYgKGRvbmUpIHtcbiAgICByZWFkSW50b1JlcXVlc3QuX2Nsb3NlU3RlcHMoY2h1bmspO1xuICB9IGVsc2Uge1xuICAgIHJlYWRJbnRvUmVxdWVzdC5fY2h1bmtTdGVwcyhjaHVuayk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZEludG9SZXF1ZXN0cyhzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSk6IG51bWJlciB7XG4gIHJldHVybiAoc3RyZWFtLl9yZWFkZXIgYXMgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKS5fcmVhZEludG9SZXF1ZXN0cy5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUhhc0JZT0JSZWFkZXIoc3RyZWFtOiBSZWFkYWJsZUJ5dGVTdHJlYW0pOiBib29sZWFuIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLl9yZWFkZXI7XG5cbiAgaWYgKHJlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcihyZWFkZXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIFJlYWRlcnNcblxuZXhwb3J0IGludGVyZmFjZSBSZWFkSW50b1JlcXVlc3Q8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4ge1xuICBfY2h1bmtTdGVwcyhjaHVuazogVCk6IHZvaWQ7XG5cbiAgX2Nsb3NlU3RlcHMoY2h1bms6IFQgfCB1bmRlZmluZWQpOiB2b2lkO1xuXG4gIF9lcnJvclN0ZXBzKGU6IGFueSk6IHZvaWQ7XG59XG5cbi8qKlxuICogQSBCWU9CIHJlYWRlciB2ZW5kZWQgYnkgYSB7QGxpbmsgUmVhZGFibGVTdHJlYW19LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX293bmVyUmVhZGFibGVTdHJlYW0hOiBSZWFkYWJsZUJ5dGVTdHJlYW07XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2UhOiBQcm9taXNlPHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VfcmVzb2x2ZT86ICh2YWx1ZT86IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2xvc2VkUHJvbWlzZV9yZWplY3Q/OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlYWRJbnRvUmVxdWVzdHM6IFNpbXBsZVF1ZXVlPFJlYWRJbnRvUmVxdWVzdDxhbnk+PjtcblxuICBjb25zdHJ1Y3RvcihzdHJlYW06IFJlYWRhYmxlQnl0ZVN0cmVhbSkge1xuICAgIGFzc2VydFJlcXVpcmVkQXJndW1lbnQoc3RyZWFtLCAxLCAnUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyJyk7XG4gICAgYXNzZXJ0UmVhZGFibGVTdHJlYW0oc3RyZWFtLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG5cbiAgICBpZiAoSXNSZWFkYWJsZVN0cmVhbUxvY2tlZChzdHJlYW0pKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIHN0cmVhbSBoYXMgYWxyZWFkeSBiZWVuIGxvY2tlZCBmb3IgZXhjbHVzaXZlIHJlYWRpbmcgYnkgYW5vdGhlciByZWFkZXInKTtcbiAgICB9XG5cbiAgICBpZiAoIUlzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcihzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgYSBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIgZm9yIGEgc3RyZWFtIG5vdCBjb25zdHJ1Y3RlZCB3aXRoIGEgYnl0ZSAnICtcbiAgICAgICAgJ3NvdXJjZScpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY0luaXRpYWxpemUodGhpcywgc3RyZWFtKTtcblxuICAgIHRoaXMuX3JlYWRJbnRvUmVxdWVzdHMgPSBuZXcgU2ltcGxlUXVldWUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdoZW4gdGhlIHN0cmVhbSBiZWNvbWVzIGNsb3NlZCwgb3IgcmVqZWN0ZWQgaWYgdGhlIHN0cmVhbSBldmVyIGVycm9ycyBvclxuICAgKiB0aGUgcmVhZGVyJ3MgbG9jayBpcyByZWxlYXNlZCBiZWZvcmUgdGhlIHN0cmVhbSBmaW5pc2hlcyBjbG9zaW5nLlxuICAgKi9cbiAgZ2V0IGNsb3NlZCgpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGJ5b2JSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdjbG9zZWQnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlZFByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhlIHJlYWRlciBpcyBhY3RpdmUsIGJlaGF2ZXMgdGhlIHNhbWUgYXMge0BsaW5rIFJlYWRhYmxlU3RyZWFtLmNhbmNlbCB8IHN0cmVhbS5jYW5jZWwocmVhc29uKX0uXG4gICAqL1xuICBjYW5jZWwocmVhc29uOiBhbnkgPSB1bmRlZmluZWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIUlzUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChieW9iUmVhZGVyQnJhbmRDaGVja0V4Y2VwdGlvbignY2FuY2VsJykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lclJlYWRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHJlYWRlckxvY2tFeGNlcHRpb24oJ2NhbmNlbCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljQ2FuY2VsKHRoaXMsIHJlYXNvbik7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gcmVhZHMgYnl0ZXMgaW50byB2aWV3LCBhbmQgcmV0dXJucyBhIHByb21pc2UgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBJZiByZWFkaW5nIGEgY2h1bmsgY2F1c2VzIHRoZSBxdWV1ZSB0byBiZWNvbWUgZW1wdHksIG1vcmUgZGF0YSB3aWxsIGJlIHB1bGxlZCBmcm9tIHRoZSB1bmRlcmx5aW5nIHNvdXJjZS5cbiAgICovXG4gIHJlYWQ8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4odmlldzogVCk6IFByb21pc2U8UmVhZGFibGVTdHJlYW1CWU9CUmVhZFJlc3VsdDxUPj4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGJ5b2JSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdyZWFkJykpO1xuICAgIH1cblxuICAgIGlmICghQXJyYXlCdWZmZXIuaXNWaWV3KHZpZXcpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCd2aWV3IG11c3QgYmUgYW4gYXJyYXkgYnVmZmVyIHZpZXcnKSk7XG4gICAgfVxuICAgIGlmICh2aWV3LmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKG5ldyBUeXBlRXJyb3IoJ3ZpZXcgbXVzdCBoYXZlIG5vbi16ZXJvIGJ5dGVMZW5ndGgnKSk7XG4gICAgfVxuICAgIGlmICh2aWV3LmJ1ZmZlci5ieXRlTGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKGB2aWV3J3MgYnVmZmVyIG11c3QgaGF2ZSBub24temVybyBieXRlTGVuZ3RoYCkpO1xuICAgIH1cbiAgICBpZiAoSXNEZXRhY2hlZEJ1ZmZlcih2aWV3LmJ1ZmZlcikpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKG5ldyBUeXBlRXJyb3IoJ3ZpZXdcXCdzIGJ1ZmZlciBoYXMgYmVlbiBkZXRhY2hlZCcpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3duZXJSZWFkYWJsZVN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChyZWFkZXJMb2NrRXhjZXB0aW9uKCdyZWFkIGZyb20nKSk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlITogKHJlc3VsdDogUmVhZGFibGVTdHJlYW1CWU9CUmVhZFJlc3VsdDxUPikgPT4gdm9pZDtcbiAgICBsZXQgcmVqZWN0UHJvbWlzZSE6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3UHJvbWlzZTxSZWFkYWJsZVN0cmVhbUJZT0JSZWFkUmVzdWx0PFQ+PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICByZWplY3RQcm9taXNlID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIGNvbnN0IHJlYWRJbnRvUmVxdWVzdDogUmVhZEludG9SZXF1ZXN0PFQ+ID0ge1xuICAgICAgX2NodW5rU3RlcHM6IGNodW5rID0+IHJlc29sdmVQcm9taXNlKHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9KSxcbiAgICAgIF9jbG9zZVN0ZXBzOiBjaHVuayA9PiByZXNvbHZlUHJvbWlzZSh7IHZhbHVlOiBjaHVuaywgZG9uZTogdHJ1ZSB9KSxcbiAgICAgIF9lcnJvclN0ZXBzOiBlID0+IHJlamVjdFByb21pc2UoZSlcbiAgICB9O1xuICAgIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlclJlYWQodGhpcywgdmlldywgcmVhZEludG9SZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxlYXNlcyB0aGUgcmVhZGVyJ3MgbG9jayBvbiB0aGUgY29ycmVzcG9uZGluZyBzdHJlYW0uIEFmdGVyIHRoZSBsb2NrIGlzIHJlbGVhc2VkLCB0aGUgcmVhZGVyIGlzIG5vIGxvbmdlciBhY3RpdmUuXG4gICAqIElmIHRoZSBhc3NvY2lhdGVkIHN0cmVhbSBpcyBlcnJvcmVkIHdoZW4gdGhlIGxvY2sgaXMgcmVsZWFzZWQsIHRoZSByZWFkZXIgd2lsbCBhcHBlYXIgZXJyb3JlZCBpbiB0aGUgc2FtZSB3YXlcbiAgICogZnJvbSBub3cgb247IG90aGVyd2lzZSwgdGhlIHJlYWRlciB3aWxsIGFwcGVhciBjbG9zZWQuXG4gICAqXG4gICAqIEEgcmVhZGVyJ3MgbG9jayBjYW5ub3QgYmUgcmVsZWFzZWQgd2hpbGUgaXQgc3RpbGwgaGFzIGEgcGVuZGluZyByZWFkIHJlcXVlc3QsIGkuZS4sIGlmIGEgcHJvbWlzZSByZXR1cm5lZCBieVxuICAgKiB0aGUgcmVhZGVyJ3Mge0BsaW5rIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlci5yZWFkIHwgcmVhZCgpfSBtZXRob2QgaGFzIG5vdCB5ZXQgYmVlbiBzZXR0bGVkLiBBdHRlbXB0aW5nIHRvXG4gICAqIGRvIHNvIHdpbGwgdGhyb3cgYSBgVHlwZUVycm9yYCBhbmQgbGVhdmUgdGhlIHJlYWRlciBsb2NrZWQgdG8gdGhlIHN0cmVhbS5cbiAgICovXG4gIHJlbGVhc2VMb2NrKCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIodGhpcykpIHtcbiAgICAgIHRocm93IGJ5b2JSZWFkZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdyZWxlYXNlTG9jaycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lclJlYWRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVhZEludG9SZXF1ZXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUcmllZCB0byByZWxlYXNlIGEgcmVhZGVyIGxvY2sgd2hlbiB0aGF0IHJlYWRlciBoYXMgcGVuZGluZyByZWFkKCkgY2FsbHMgdW4tc2V0dGxlZCcpO1xuICAgIH1cblxuICAgIFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY1JlbGVhc2UodGhpcyk7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLnByb3RvdHlwZSwge1xuICBjYW5jZWw6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICByZWFkOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgcmVsZWFzZUxvY2s6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBjbG9zZWQ6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXInLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIHJlYWRlcnMuXG5cbmV4cG9ydCBmdW5jdGlvbiBJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcih4OiBhbnkpOiB4IGlzIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19yZWFkSW50b1JlcXVlc3RzJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlclJlYWQ8VCBleHRlbmRzIEFycmF5QnVmZmVyVmlldz4oXG4gIHJlYWRlcjogUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLFxuICB2aWV3OiBULFxuICByZWFkSW50b1JlcXVlc3Q6IFJlYWRJbnRvUmVxdWVzdDxUPlxuKTogdm9pZCB7XG4gIGNvbnN0IHN0cmVhbSA9IHJlYWRlci5fb3duZXJSZWFkYWJsZVN0cmVhbTtcblxuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuXG4gIHN0cmVhbS5fZGlzdHVyYmVkID0gdHJ1ZTtcblxuICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmVhZEludG9SZXF1ZXN0Ll9lcnJvclN0ZXBzKHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJQdWxsSW50byhcbiAgICAgIHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gICAgICB2aWV3LFxuICAgICAgcmVhZEludG9SZXF1ZXN0XG4gICAgKTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLlxuXG5mdW5jdGlvbiBieW9iUmVhZGVyQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcbiAgICBgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJgKTtcbn1cbiIsImltcG9ydCB7IFF1ZXVpbmdTdHJhdGVneSwgUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrIH0gZnJvbSAnLi4vcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgTnVtYmVySXNOYU4gZnJvbSAnLi4vLi4vc3R1Yi9udW1iZXItaXNuYW4nO1xuXG5leHBvcnQgZnVuY3Rpb24gRXh0cmFjdEhpZ2hXYXRlck1hcmsoc3RyYXRlZ3k6IFF1ZXVpbmdTdHJhdGVneSwgZGVmYXVsdEhXTTogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgeyBoaWdoV2F0ZXJNYXJrIH0gPSBzdHJhdGVneTtcblxuICBpZiAoaGlnaFdhdGVyTWFyayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRIV007XG4gIH1cblxuICBpZiAoTnVtYmVySXNOYU4oaGlnaFdhdGVyTWFyaykgfHwgaGlnaFdhdGVyTWFyayA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBoaWdoV2F0ZXJNYXJrJyk7XG4gIH1cblxuICByZXR1cm4gaGlnaFdhdGVyTWFyaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4dHJhY3RTaXplQWxnb3JpdGhtPFQ+KHN0cmF0ZWd5OiBRdWV1aW5nU3RyYXRlZ3k8VD4pOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8VD4ge1xuICBjb25zdCB7IHNpemUgfSA9IHN0cmF0ZWd5O1xuXG4gIGlmICghc2l6ZSkge1xuICAgIHJldHVybiAoKSA9PiAxO1xuICB9XG5cbiAgcmV0dXJuIHNpemU7XG59XG4iLCJpbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3ksIFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjayB9IGZyb20gJy4uL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgYXNzZXJ0RGljdGlvbmFyeSwgYXNzZXJ0RnVuY3Rpb24sIGNvbnZlcnRVbnJlc3RyaWN0ZWREb3VibGUgfSBmcm9tICcuL2Jhc2ljJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3k8VD4oaW5pdDogUXVldWluZ1N0cmF0ZWd5PFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFF1ZXVpbmdTdHJhdGVneTxUPiB7XG4gIGFzc2VydERpY3Rpb25hcnkoaW5pdCwgY29udGV4dCk7XG4gIGNvbnN0IGhpZ2hXYXRlck1hcmsgPSBpbml0Py5oaWdoV2F0ZXJNYXJrO1xuICBjb25zdCBzaXplID0gaW5pdD8uc2l6ZTtcbiAgcmV0dXJuIHtcbiAgICBoaWdoV2F0ZXJNYXJrOiBoaWdoV2F0ZXJNYXJrID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjb252ZXJ0VW5yZXN0cmljdGVkRG91YmxlKGhpZ2hXYXRlck1hcmspLFxuICAgIHNpemU6IHNpemUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3lTaXplKHNpemUsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3NpemUnIHRoYXRgKVxuICB9O1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5U2l6ZTxUPihmbjogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFQ+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gY2h1bmsgPT4gY29udmVydFVucmVzdHJpY3RlZERvdWJsZShmbihjaHVuaykpO1xufVxuIiwiaW1wb3J0IHsgYXNzZXJ0RGljdGlvbmFyeSwgYXNzZXJ0RnVuY3Rpb24gfSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCB7IHByb21pc2VDYWxsLCByZWZsZWN0Q2FsbCB9IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7XG4gIFVuZGVybHlpbmdTaW5rLFxuICBVbmRlcmx5aW5nU2lua0Fib3J0Q2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTaW5rQ2xvc2VDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU2lua1dyaXRlQ2FsbGJhY2ssXG4gIFZhbGlkYXRlZFVuZGVybHlpbmdTaW5rXG59IGZyb20gJy4uL3dyaXRhYmxlLXN0cmVhbS91bmRlcmx5aW5nLXNpbmsnO1xuaW1wb3J0IHsgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciB9IGZyb20gJy4uL3dyaXRhYmxlLXN0cmVhbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VW5kZXJseWluZ1Npbms8Vz4ob3JpZ2luYWw6IFVuZGVybHlpbmdTaW5rPFc+IHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogVmFsaWRhdGVkVW5kZXJseWluZ1Npbms8Vz4ge1xuICBhc3NlcnREaWN0aW9uYXJ5KG9yaWdpbmFsLCBjb250ZXh0KTtcbiAgY29uc3QgYWJvcnQgPSBvcmlnaW5hbD8uYWJvcnQ7XG4gIGNvbnN0IGNsb3NlID0gb3JpZ2luYWw/LmNsb3NlO1xuICBjb25zdCBzdGFydCA9IG9yaWdpbmFsPy5zdGFydDtcbiAgY29uc3QgdHlwZSA9IG9yaWdpbmFsPy50eXBlO1xuICBjb25zdCB3cml0ZSA9IG9yaWdpbmFsPy53cml0ZTtcbiAgcmV0dXJuIHtcbiAgICBhYm9ydDogYWJvcnQgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuZGVybHlpbmdTaW5rQWJvcnRDYWxsYmFjayhhYm9ydCwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdhYm9ydCcgdGhhdGApLFxuICAgIGNsb3NlOiBjbG9zZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHVuZGVmaW5lZCA6XG4gICAgICBjb252ZXJ0VW5kZXJseWluZ1NpbmtDbG9zZUNhbGxiYWNrKGNsb3NlLCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ2Nsb3NlJyB0aGF0YCksXG4gICAgc3RhcnQ6IHN0YXJ0ID09PSB1bmRlZmluZWQgP1xuICAgICAgdW5kZWZpbmVkIDpcbiAgICAgIGNvbnZlcnRVbmRlcmx5aW5nU2lua1N0YXJ0Q2FsbGJhY2soc3RhcnQsIG9yaWdpbmFsISwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAnc3RhcnQnIHRoYXRgKSxcbiAgICB3cml0ZTogd3JpdGUgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuZGVybHlpbmdTaW5rV3JpdGVDYWxsYmFjayh3cml0ZSwgb3JpZ2luYWwhLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICd3cml0ZScgdGhhdGApLFxuICAgIHR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFVuZGVybHlpbmdTaW5rQWJvcnRDYWxsYmFjayhcbiAgZm46IFVuZGVybHlpbmdTaW5rQWJvcnRDYWxsYmFjayxcbiAgb3JpZ2luYWw6IFVuZGVybHlpbmdTaW5rLFxuICBjb250ZXh0OiBzdHJpbmdcbik6IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIChyZWFzb246IGFueSkgPT4gcHJvbWlzZUNhbGwoZm4sIG9yaWdpbmFsLCBbcmVhc29uXSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRVbmRlcmx5aW5nU2lua0Nsb3NlQ2FsbGJhY2soXG4gIGZuOiBVbmRlcmx5aW5nU2lua0Nsb3NlQ2FsbGJhY2ssXG4gIG9yaWdpbmFsOiBVbmRlcmx5aW5nU2luayxcbiAgY29udGV4dDogc3RyaW5nXG4pOiAoKSA9PiBQcm9taXNlPHZvaWQ+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKCkgPT4gcHJvbWlzZUNhbGwoZm4sIG9yaWdpbmFsLCBbXSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRVbmRlcmx5aW5nU2lua1N0YXJ0Q2FsbGJhY2soXG4gIGZuOiBVbmRlcmx5aW5nU2lua1N0YXJ0Q2FsbGJhY2ssXG4gIG9yaWdpbmFsOiBVbmRlcmx5aW5nU2luayxcbiAgY29udGV4dDogc3RyaW5nXG4pOiBVbmRlcmx5aW5nU2lua1N0YXJ0Q2FsbGJhY2sge1xuICBhc3NlcnRGdW5jdGlvbihmbiwgY29udGV4dCk7XG4gIHJldHVybiAoY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcikgPT4gcmVmbGVjdENhbGwoZm4sIG9yaWdpbmFsLCBbY29udHJvbGxlcl0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5kZXJseWluZ1NpbmtXcml0ZUNhbGxiYWNrPFc+KFxuICBmbjogVW5kZXJseWluZ1NpbmtXcml0ZUNhbGxiYWNrPFc+LFxuICBvcmlnaW5hbDogVW5kZXJseWluZ1Npbms8Vz4sXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogKGNodW5rOiBXLCBjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKSA9PiBQcm9taXNlPHZvaWQ+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKGNodW5rOiBXLCBjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKSA9PiBwcm9taXNlQ2FsbChmbiwgb3JpZ2luYWwsIFtjaHVuaywgY29udHJvbGxlcl0pO1xufVxuIiwiaW1wb3J0IHsgSXNXcml0YWJsZVN0cmVhbSwgV3JpdGFibGVTdHJlYW0gfSBmcm9tICcuLi93cml0YWJsZS1zdHJlYW0nO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0V3JpdGFibGVTdHJlYW0oeDogdW5rbm93biwgY29udGV4dDogc3RyaW5nKTogYXNzZXJ0cyB4IGlzIFdyaXRhYmxlU3RyZWFtIHtcbiAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtKHgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtjb250ZXh0fSBpcyBub3QgYSBXcml0YWJsZVN0cmVhbS5gKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBBIHNpZ25hbCBvYmplY3QgdGhhdCBhbGxvd3MgeW91IHRvIGNvbW11bmljYXRlIHdpdGggYSByZXF1ZXN0IGFuZCBhYm9ydCBpdCBpZiByZXF1aXJlZFxuICogdmlhIGl0cyBhc3NvY2lhdGVkIGBBYm9ydENvbnRyb2xsZXJgIG9iamVjdC5cbiAqXG4gKiBAcmVtYXJrc1xuICogICBUaGlzIGludGVyZmFjZSBpcyBjb21wYXRpYmxlIHdpdGggdGhlIGBBYm9ydFNpZ25hbGAgaW50ZXJmYWNlIGRlZmluZWQgaW4gVHlwZVNjcmlwdCdzIERPTSB0eXBlcy5cbiAqICAgSXQgaXMgcmVkZWZpbmVkIGhlcmUsIHNvIGl0IGNhbiBiZSBwb2x5ZmlsbGVkIHdpdGhvdXQgYSBET00sIGZvciBleGFtcGxlIHdpdGhcbiAqICAge0BsaW5rIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2Fib3J0Y29udHJvbGxlci1wb2x5ZmlsbCB8IGFib3J0Y29udHJvbGxlci1wb2x5ZmlsbH0gaW4gYSBOb2RlIGVudmlyb25tZW50LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBYm9ydFNpZ25hbCB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSByZXF1ZXN0IGlzIGFib3J0ZWQuXG4gICAqL1xuICByZWFkb25seSBhYm9ydGVkOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgdHJpZ2dlcmVkIHdoZW4gdGhpcyBzaWduYWwgYmVjb21lcyBhYm9ydGVkLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlOiAnYWJvcnQnLCBsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lciB0aGF0IHdhcyBwcmV2aW91c2x5IGFkZGVkIHdpdGgge0BsaW5rIEFib3J0U2lnbmFsLmFkZEV2ZW50TGlzdGVuZXJ9LlxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlOiAnYWJvcnQnLCBsaXN0ZW5lcjogKCkgPT4gdm9pZCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Fib3J0U2lnbmFsKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgQWJvcnRTaWduYWwge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiB0eXBlb2YgKHZhbHVlIGFzIEFib3J0U2lnbmFsKS5hYm9ydGVkID09PSAnYm9vbGVhbic7XG4gIH0gY2F0Y2gge1xuICAgIC8vIEFib3J0U2lnbmFsLnByb3RvdHlwZS5hYm9ydGVkIHRocm93cyBpZiBpdHMgYnJhbmQgY2hlY2sgZmFpbHNcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBBIGNvbnRyb2xsZXIgb2JqZWN0IHRoYXQgYWxsb3dzIHlvdSB0byBhYm9ydCBhbiBgQWJvcnRTaWduYWxgIHdoZW4gZGVzaXJlZC5cbiAqXG4gKiBAcmVtYXJrc1xuICogICBUaGlzIGludGVyZmFjZSBpcyBjb21wYXRpYmxlIHdpdGggdGhlIGBBYm9ydENvbnRyb2xsZXJgIGludGVyZmFjZSBkZWZpbmVkIGluIFR5cGVTY3JpcHQncyBET00gdHlwZXMuXG4gKiAgIEl0IGlzIHJlZGVmaW5lZCBoZXJlLCBzbyBpdCBjYW4gYmUgcG9seWZpbGxlZCB3aXRob3V0IGEgRE9NLCBmb3IgZXhhbXBsZSB3aXRoXG4gKiAgIHtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9hYm9ydGNvbnRyb2xsZXItcG9seWZpbGwgfCBhYm9ydGNvbnRyb2xsZXItcG9seWZpbGx9IGluIGEgTm9kZSBlbnZpcm9ubWVudC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBYm9ydENvbnRyb2xsZXIge1xuICByZWFkb25seSBzaWduYWw6IEFib3J0U2lnbmFsO1xuXG4gIGFib3J0KCk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBBYm9ydENvbnRyb2xsZXJDb25zdHJ1Y3RvciB7XG4gIG5ldygpOiBBYm9ydENvbnRyb2xsZXI7XG59XG5cbmNvbnN0IHN1cHBvcnRzQWJvcnRDb250cm9sbGVyID0gdHlwZW9mIChBYm9ydENvbnRyb2xsZXIgYXMgYW55KSA9PT0gJ2Z1bmN0aW9uJztcblxuLyoqXG4gKiBDb25zdHJ1Y3QgYSBuZXcgQWJvcnRDb250cm9sbGVyLCBpZiBzdXBwb3J0ZWQgYnkgdGhlIHBsYXRmb3JtLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWJvcnRDb250cm9sbGVyKCk6IEFib3J0Q29udHJvbGxlciB8IHVuZGVmaW5lZCB7XG4gIGlmIChzdXBwb3J0c0Fib3J0Q29udHJvbGxlcikge1xuICAgIHJldHVybiBuZXcgKEFib3J0Q29udHJvbGxlciBhcyBBYm9ydENvbnRyb2xsZXJDb25zdHJ1Y3RvcikoKTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICcuLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQge1xuICBuZXdQcm9taXNlLFxuICBwcm9taXNlUmVqZWN0ZWRXaXRoLFxuICBwcm9taXNlUmVzb2x2ZWRXaXRoLFxuICBzZXRQcm9taXNlSXNIYW5kbGVkVG9UcnVlLFxuICB1cG9uUHJvbWlzZVxufSBmcm9tICcuL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7XG4gIERlcXVldWVWYWx1ZSxcbiAgRW5xdWV1ZVZhbHVlV2l0aFNpemUsXG4gIFBlZWtRdWV1ZVZhbHVlLFxuICBRdWV1ZVBhaXIsXG4gIFJlc2V0UXVldWVcbn0gZnJvbSAnLi9hYnN0cmFjdC1vcHMvcXVldWUtd2l0aC1zaXplcyc7XG5pbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3ksIFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjayB9IGZyb20gJy4vcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgeyBTaW1wbGVRdWV1ZSB9IGZyb20gJy4vc2ltcGxlLXF1ZXVlJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IEFib3J0U3RlcHMsIEVycm9yU3RlcHMgfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9pbnRlcm5hbC1tZXRob2RzJztcbmltcG9ydCB7IElzTm9uTmVnYXRpdmVOdW1iZXIgfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IEV4dHJhY3RIaWdoV2F0ZXJNYXJrLCBFeHRyYWN0U2l6ZUFsZ29yaXRobSB9IGZyb20gJy4vYWJzdHJhY3Qtb3BzL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgY29udmVydFF1ZXVpbmdTdHJhdGVneSB9IGZyb20gJy4vdmFsaWRhdG9ycy9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7XG4gIFVuZGVybHlpbmdTaW5rLFxuICBVbmRlcmx5aW5nU2lua0Fib3J0Q2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTaW5rQ2xvc2VDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NpbmtTdGFydENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU2lua1dyaXRlQ2FsbGJhY2ssXG4gIFZhbGlkYXRlZFVuZGVybHlpbmdTaW5rXG59IGZyb20gJy4vd3JpdGFibGUtc3RyZWFtL3VuZGVybHlpbmctc2luayc7XG5pbXBvcnQgeyBhc3NlcnRPYmplY3QsIGFzc2VydFJlcXVpcmVkQXJndW1lbnQgfSBmcm9tICcuL3ZhbGlkYXRvcnMvYmFzaWMnO1xuaW1wb3J0IHsgY29udmVydFVuZGVybHlpbmdTaW5rIH0gZnJvbSAnLi92YWxpZGF0b3JzL3VuZGVybHlpbmctc2luayc7XG5pbXBvcnQgeyBhc3NlcnRXcml0YWJsZVN0cmVhbSB9IGZyb20gJy4vdmFsaWRhdG9ycy93cml0YWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgQWJvcnRDb250cm9sbGVyLCBBYm9ydFNpZ25hbCwgY3JlYXRlQWJvcnRDb250cm9sbGVyIH0gZnJvbSAnLi9hYm9ydC1zaWduYWwnO1xuXG50eXBlIFdyaXRhYmxlU3RyZWFtU3RhdGUgPSAnd3JpdGFibGUnIHwgJ2Nsb3NlZCcgfCAnZXJyb3JpbmcnIHwgJ2Vycm9yZWQnO1xuXG5pbnRlcmZhY2UgV3JpdGVPckNsb3NlUmVxdWVzdCB7XG4gIF9yZXNvbHZlOiAodmFsdWU/OiB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIF9yZWplY3Q6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbn1cblxudHlwZSBXcml0ZVJlcXVlc3QgPSBXcml0ZU9yQ2xvc2VSZXF1ZXN0O1xudHlwZSBDbG9zZVJlcXVlc3QgPSBXcml0ZU9yQ2xvc2VSZXF1ZXN0O1xuXG5pbnRlcmZhY2UgUGVuZGluZ0Fib3J0UmVxdWVzdCB7XG4gIF9wcm9taXNlOiBQcm9taXNlPHVuZGVmaW5lZD47XG4gIF9yZXNvbHZlOiAodmFsdWU/OiB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIF9yZWplY3Q6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgX3JlYXNvbjogYW55O1xuICBfd2FzQWxyZWFkeUVycm9yaW5nOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEEgd3JpdGFibGUgc3RyZWFtIHJlcHJlc2VudHMgYSBkZXN0aW5hdGlvbiBmb3IgZGF0YSwgaW50byB3aGljaCB5b3UgY2FuIHdyaXRlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY2xhc3MgV3JpdGFibGVTdHJlYW08VyA9IGFueT4ge1xuICAvKiogQGludGVybmFsICovXG4gIF9zdGF0ZSE6IFdyaXRhYmxlU3RyZWFtU3RhdGU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0b3JlZEVycm9yOiBhbnk7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3dyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFc+IHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIhOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFc+O1xuICAvKiogQGludGVybmFsICovXG4gIF93cml0ZVJlcXVlc3RzITogU2ltcGxlUXVldWU8V3JpdGVSZXF1ZXN0PjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfaW5GbGlnaHRXcml0ZVJlcXVlc3Q6IFdyaXRlUmVxdWVzdCB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2xvc2VSZXF1ZXN0OiBDbG9zZVJlcXVlc3QgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0OiBDbG9zZVJlcXVlc3QgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3BlbmRpbmdBYm9ydFJlcXVlc3Q6IFBlbmRpbmdBYm9ydFJlcXVlc3QgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2JhY2twcmVzc3VyZSE6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IodW5kZXJseWluZ1Npbms/OiBVbmRlcmx5aW5nU2luazxXPiwgc3RyYXRlZ3k/OiBRdWV1aW5nU3RyYXRlZ3k8Vz4pO1xuICBjb25zdHJ1Y3RvcihyYXdVbmRlcmx5aW5nU2luazogVW5kZXJseWluZ1Npbms8Vz4gfCBudWxsIHwgdW5kZWZpbmVkID0ge30sXG4gICAgICAgICAgICAgIHJhd1N0cmF0ZWd5OiBRdWV1aW5nU3RyYXRlZ3k8Vz4gfCBudWxsIHwgdW5kZWZpbmVkID0ge30pIHtcbiAgICBpZiAocmF3VW5kZXJseWluZ1NpbmsgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmF3VW5kZXJseWluZ1NpbmsgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnRPYmplY3QocmF3VW5kZXJseWluZ1NpbmssICdGaXJzdCBwYXJhbWV0ZXInKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJhdGVneSA9IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3kocmF3U3RyYXRlZ3ksICdTZWNvbmQgcGFyYW1ldGVyJyk7XG4gICAgY29uc3QgdW5kZXJseWluZ1NpbmsgPSBjb252ZXJ0VW5kZXJseWluZ1NpbmsocmF3VW5kZXJseWluZ1NpbmssICdGaXJzdCBwYXJhbWV0ZXInKTtcblxuICAgIEluaXRpYWxpemVXcml0YWJsZVN0cmVhbSh0aGlzKTtcblxuICAgIGNvbnN0IHR5cGUgPSB1bmRlcmx5aW5nU2luay50eXBlO1xuICAgIGlmICh0eXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGUgaXMgc3BlY2lmaWVkJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2l6ZUFsZ29yaXRobSA9IEV4dHJhY3RTaXplQWxnb3JpdGhtKHN0cmF0ZWd5KTtcbiAgICBjb25zdCBoaWdoV2F0ZXJNYXJrID0gRXh0cmFjdEhpZ2hXYXRlck1hcmsoc3RyYXRlZ3ksIDEpO1xuXG4gICAgU2V0VXBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRnJvbVVuZGVybHlpbmdTaW5rKHRoaXMsIHVuZGVybHlpbmdTaW5rLCBoaWdoV2F0ZXJNYXJrLCBzaXplQWxnb3JpdGhtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB3cml0YWJsZSBzdHJlYW0gaXMgbG9ja2VkIHRvIGEgd3JpdGVyLlxuICAgKi9cbiAgZ2V0IGxvY2tlZCgpOiBib29sZWFuIHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW0odGhpcykpIHtcbiAgICAgIHRocm93IHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ2xvY2tlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiBJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFib3J0cyB0aGUgc3RyZWFtLCBzaWduYWxpbmcgdGhhdCB0aGUgcHJvZHVjZXIgY2FuIG5vIGxvbmdlciBzdWNjZXNzZnVsbHkgd3JpdGUgdG8gdGhlIHN0cmVhbSBhbmQgaXQgaXMgdG8gYmVcbiAgICogaW1tZWRpYXRlbHkgbW92ZWQgdG8gYW4gZXJyb3JlZCBzdGF0ZSwgd2l0aCBhbnkgcXVldWVkLXVwIHdyaXRlcyBkaXNjYXJkZWQuIFRoaXMgd2lsbCBhbHNvIGV4ZWN1dGUgYW55IGFib3J0XG4gICAqIG1lY2hhbmlzbSBvZiB0aGUgdW5kZXJseWluZyBzaW5rLlxuICAgKlxuICAgKiBUaGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGZ1bGZpbGwgaWYgdGhlIHN0cmVhbSBzaHV0cyBkb3duIHN1Y2Nlc3NmdWxseSwgb3IgcmVqZWN0IGlmIHRoZSB1bmRlcmx5aW5nIHNpbmsgc2lnbmFsZWRcbiAgICogdGhhdCB0aGVyZSB3YXMgYW4gZXJyb3IgZG9pbmcgc28uIEFkZGl0aW9uYWxseSwgaXQgd2lsbCByZWplY3Qgd2l0aCBhIGBUeXBlRXJyb3JgICh3aXRob3V0IGF0dGVtcHRpbmcgdG8gY2FuY2VsXG4gICAqIHRoZSBzdHJlYW0pIGlmIHRoZSBzdHJlYW0gaXMgY3VycmVudGx5IGxvY2tlZC5cbiAgICovXG4gIGFib3J0KHJlYXNvbjogYW55ID0gdW5kZWZpbmVkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdhYm9ydCcpKTtcbiAgICB9XG5cbiAgICBpZiAoSXNXcml0YWJsZVN0cmVhbUxvY2tlZCh0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgobmV3IFR5cGVFcnJvcignQ2Fubm90IGFib3J0IGEgc3RyZWFtIHRoYXQgYWxyZWFkeSBoYXMgYSB3cml0ZXInKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtQWJvcnQodGhpcywgcmVhc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHN0cmVhbS4gVGhlIHVuZGVybHlpbmcgc2luayB3aWxsIGZpbmlzaCBwcm9jZXNzaW5nIGFueSBwcmV2aW91c2x5LXdyaXR0ZW4gY2h1bmtzLCBiZWZvcmUgaW52b2tpbmcgaXRzXG4gICAqIGNsb3NlIGJlaGF2aW9yLiBEdXJpbmcgdGhpcyB0aW1lIGFueSBmdXJ0aGVyIGF0dGVtcHRzIHRvIHdyaXRlIHdpbGwgZmFpbCAod2l0aG91dCBlcnJvcmluZyB0aGUgc3RyZWFtKS5cbiAgICpcbiAgICogVGhlIG1ldGhvZCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgZnVsZmlsbCBpZiBhbGwgcmVtYWluaW5nIGNodW5rcyBhcmUgc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4gYW5kIHRoZSBzdHJlYW1cbiAgICogc3VjY2Vzc2Z1bGx5IGNsb3Nlcywgb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBpcyBlbmNvdW50ZXJlZCBkdXJpbmcgdGhpcyBwcm9jZXNzLiBBZGRpdGlvbmFsbHksIGl0IHdpbGwgcmVqZWN0IHdpdGhcbiAgICogYSBgVHlwZUVycm9yYCAod2l0aG91dCBhdHRlbXB0aW5nIHRvIGNhbmNlbCB0aGUgc3RyZWFtKSBpZiB0aGUgc3RyZWFtIGlzIGN1cnJlbnRseSBsb2NrZWQuXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW0odGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Nsb3NlJykpO1xuICAgIH1cblxuICAgIGlmIChJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2xvc2UgYSBzdHJlYW0gdGhhdCBhbHJlYWR5IGhhcyBhIHdyaXRlcicpKTtcbiAgICB9XG5cbiAgICBpZiAoV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjbG9zZSBhbiBhbHJlYWR5LWNsb3Npbmcgc3RyZWFtJykpO1xuICAgIH1cblxuICAgIHJldHVybiBXcml0YWJsZVN0cmVhbUNsb3NlKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyIHwgd3JpdGVyfSBhbmQgbG9ja3MgdGhlIHN0cmVhbSB0byB0aGUgbmV3IHdyaXRlci4gV2hpbGUgdGhlIHN0cmVhbVxuICAgKiBpcyBsb2NrZWQsIG5vIG90aGVyIHdyaXRlciBjYW4gYmUgYWNxdWlyZWQgdW50aWwgdGhpcyBvbmUgaXMgcmVsZWFzZWQuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb25hbGl0eSBpcyBlc3BlY2lhbGx5IHVzZWZ1bCBmb3IgY3JlYXRpbmcgYWJzdHJhY3Rpb25zIHRoYXQgZGVzaXJlIHRoZSBhYmlsaXR5IHRvIHdyaXRlIHRvIGEgc3RyZWFtXG4gICAqIHdpdGhvdXQgaW50ZXJydXB0aW9uIG9yIGludGVybGVhdmluZy4gQnkgZ2V0dGluZyBhIHdyaXRlciBmb3IgdGhlIHN0cmVhbSwgeW91IGNhbiBlbnN1cmUgbm9ib2R5IGVsc2UgY2FuIHdyaXRlIGF0XG4gICAqIHRoZSBzYW1lIHRpbWUsIHdoaWNoIHdvdWxkIGNhdXNlIHRoZSByZXN1bHRpbmcgd3JpdHRlbiBkYXRhIHRvIGJlIHVucHJlZGljdGFibGUgYW5kIHByb2JhYmx5IHVzZWxlc3MuXG4gICAqL1xuICBnZXRXcml0ZXIoKTogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFc+IHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW0odGhpcykpIHtcbiAgICAgIHRocm93IHN0cmVhbUJyYW5kQ2hlY2tFeGNlcHRpb24oJ2dldFdyaXRlcicpO1xuICAgIH1cblxuICAgIHJldHVybiBBY3F1aXJlV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKHRoaXMpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZSwge1xuICBhYm9ydDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGNsb3NlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZ2V0V3JpdGVyOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgbG9ja2VkOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RyZWFtLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdXcml0YWJsZVN0cmVhbScsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5leHBvcnQge1xuICBBY3F1aXJlV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLFxuICBDcmVhdGVXcml0YWJsZVN0cmVhbSxcbiAgSXNXcml0YWJsZVN0cmVhbSxcbiAgSXNXcml0YWJsZVN0cmVhbUxvY2tlZCxcbiAgV3JpdGFibGVTdHJlYW0sXG4gIFdyaXRhYmxlU3RyZWFtQWJvcnQsXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcklmTmVlZGVkLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJDbG9zZVdpdGhFcnJvclByb3BhZ2F0aW9uLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJSZWxlYXNlLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJXcml0ZSxcbiAgV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQsXG4gIFVuZGVybHlpbmdTaW5rLFxuICBVbmRlcmx5aW5nU2lua1N0YXJ0Q2FsbGJhY2ssXG4gIFVuZGVybHlpbmdTaW5rV3JpdGVDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NpbmtDbG9zZUNhbGxiYWNrLFxuICBVbmRlcmx5aW5nU2lua0Fib3J0Q2FsbGJhY2tcbn07XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgZm9yIHRoZSBXcml0YWJsZVN0cmVhbS5cblxuZnVuY3Rpb24gQWNxdWlyZVdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcjxXPihzdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+KTogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFc+IHtcbiAgcmV0dXJuIG5ldyBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIoc3RyZWFtKTtcbn1cblxuLy8gVGhyb3dzIGlmIGFuZCBvbmx5IGlmIHN0YXJ0QWxnb3JpdGhtIHRocm93cy5cbmZ1bmN0aW9uIENyZWF0ZVdyaXRhYmxlU3RyZWFtPFc+KHN0YXJ0QWxnb3JpdGhtOiAoKSA9PiB2b2lkIHwgUHJvbWlzZUxpa2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUFsZ29yaXRobTogKGNodW5rOiBXKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydEFsZ29yaXRobTogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaFdhdGVyTWFyayA9IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplQWxnb3JpdGhtOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8Vz4gPSAoKSA9PiAxKSB7XG4gIGFzc2VydChJc05vbk5lZ2F0aXZlTnVtYmVyKGhpZ2hXYXRlck1hcmspKTtcblxuICBjb25zdCBzdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+ID0gT2JqZWN0LmNyZWF0ZShXcml0YWJsZVN0cmVhbS5wcm90b3R5cGUpO1xuICBJbml0aWFsaXplV3JpdGFibGVTdHJlYW0oc3RyZWFtKTtcblxuICBjb25zdCBjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFc+ID0gT2JqZWN0LmNyZWF0ZShXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSk7XG5cbiAgU2V0VXBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHN0cmVhbSwgY29udHJvbGxlciwgc3RhcnRBbGdvcml0aG0sIHdyaXRlQWxnb3JpdGhtLCBjbG9zZUFsZ29yaXRobSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0QWxnb3JpdGhtLCBoaWdoV2F0ZXJNYXJrLCBzaXplQWxnb3JpdGhtKTtcbiAgcmV0dXJuIHN0cmVhbTtcbn1cblxuZnVuY3Rpb24gSW5pdGlhbGl6ZVdyaXRhYmxlU3RyZWFtPFc+KHN0cmVhbTogV3JpdGFibGVTdHJlYW08Vz4pIHtcbiAgc3RyZWFtLl9zdGF0ZSA9ICd3cml0YWJsZSc7XG5cbiAgLy8gVGhlIGVycm9yIHRoYXQgd2lsbCBiZSByZXBvcnRlZCBieSBuZXcgbWV0aG9kIGNhbGxzIG9uY2UgdGhlIHN0YXRlIGJlY29tZXMgZXJyb3JlZC4gT25seSBzZXQgd2hlbiBbW3N0YXRlXV0gaXNcbiAgLy8gJ2Vycm9yaW5nJyBvciAnZXJyb3JlZCcuIE1heSBiZSBzZXQgdG8gYW4gdW5kZWZpbmVkIHZhbHVlLlxuICBzdHJlYW0uX3N0b3JlZEVycm9yID0gdW5kZWZpbmVkO1xuXG4gIHN0cmVhbS5fd3JpdGVyID0gdW5kZWZpbmVkO1xuXG4gIC8vIEluaXRpYWxpemUgdG8gdW5kZWZpbmVkIGZpcnN0IGJlY2F1c2UgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBjb250cm9sbGVyIGNoZWNrcyB0aGlzXG4gIC8vIHZhcmlhYmxlIHRvIHZhbGlkYXRlIHRoZSBjYWxsZXIuXG4gIHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyID0gdW5kZWZpbmVkITtcblxuICAvLyBUaGlzIHF1ZXVlIGlzIHBsYWNlZCBoZXJlIGluc3RlYWQgb2YgdGhlIHdyaXRlciBjbGFzcyBpbiBvcmRlciB0byBhbGxvdyBmb3IgcGFzc2luZyBhIHdyaXRlciB0byB0aGUgbmV4dCBkYXRhXG4gIC8vIHByb2R1Y2VyIHdpdGhvdXQgd2FpdGluZyBmb3IgdGhlIHF1ZXVlZCB3cml0ZXMgdG8gZmluaXNoLlxuICBzdHJlYW0uX3dyaXRlUmVxdWVzdHMgPSBuZXcgU2ltcGxlUXVldWUoKTtcblxuICAvLyBXcml0ZSByZXF1ZXN0cyBhcmUgcmVtb3ZlZCBmcm9tIF93cml0ZVJlcXVlc3RzIHdoZW4gd3JpdGUoKSBpcyBjYWxsZWQgb24gdGhlIHVuZGVybHlpbmcgc2luay4gVGhpcyBwcmV2ZW50c1xuICAvLyB0aGVtIGZyb20gYmVpbmcgZXJyb25lb3VzbHkgcmVqZWN0ZWQgb24gZXJyb3IuIElmIGEgd3JpdGUoKSBjYWxsIGlzIGluLWZsaWdodCwgdGhlIHJlcXVlc3QgaXMgc3RvcmVkIGhlcmUuXG4gIHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIHByb21pc2UgdGhhdCB3YXMgcmV0dXJuZWQgZnJvbSB3cml0ZXIuY2xvc2UoKS4gU3RvcmVkIGhlcmUgYmVjYXVzZSBpdCBtYXkgYmUgZnVsZmlsbGVkIGFmdGVyIHRoZSB3cml0ZXJcbiAgLy8gaGFzIGJlZW4gZGV0YWNoZWQuXG4gIHN0cmVhbS5fY2xvc2VSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuXG4gIC8vIENsb3NlIHJlcXVlc3QgaXMgcmVtb3ZlZCBmcm9tIF9jbG9zZVJlcXVlc3Qgd2hlbiBjbG9zZSgpIGlzIGNhbGxlZCBvbiB0aGUgdW5kZXJseWluZyBzaW5rLiBUaGlzIHByZXZlbnRzIGl0XG4gIC8vIGZyb20gYmVpbmcgZXJyb25lb3VzbHkgcmVqZWN0ZWQgb24gZXJyb3IuIElmIGEgY2xvc2UoKSBjYWxsIGlzIGluLWZsaWdodCwgdGhlIHJlcXVlc3QgaXMgc3RvcmVkIGhlcmUuXG4gIHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIHByb21pc2UgdGhhdCB3YXMgcmV0dXJuZWQgZnJvbSB3cml0ZXIuYWJvcnQoKS4gVGhpcyBtYXkgYWxzbyBiZSBmdWxmaWxsZWQgYWZ0ZXIgdGhlIHdyaXRlciBoYXMgZGV0YWNoZWQuXG4gIHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCA9IHVuZGVmaW5lZDtcblxuICAvLyBUaGUgYmFja3ByZXNzdXJlIHNpZ25hbCBzZXQgYnkgdGhlIGNvbnRyb2xsZXIuXG4gIHN0cmVhbS5fYmFja3ByZXNzdXJlID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIElzV3JpdGFibGVTdHJlYW0oeDogdW5rbm93bik6IHggaXMgV3JpdGFibGVTdHJlYW0ge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfd3JpdGFibGVTdHJlYW1Db250cm9sbGVyJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIFdyaXRhYmxlU3RyZWFtO1xufVxuXG5mdW5jdGlvbiBJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbTogV3JpdGFibGVTdHJlYW0pOiBib29sZWFuIHtcbiAgYXNzZXJ0KElzV3JpdGFibGVTdHJlYW0oc3RyZWFtKSk7XG5cbiAgaWYgKHN0cmVhbS5fd3JpdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1BYm9ydChzdHJlYW06IFdyaXRhYmxlU3RyZWFtLCByZWFzb246IGFueSk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gIGlmIChzdHJlYW0uX3N0YXRlID09PSAnY2xvc2VkJyB8fCBzdHJlYW0uX3N0YXRlID09PSAnZXJyb3JlZCcpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICB9XG4gIHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyLl9hYm9ydFJlYXNvbiA9IHJlYXNvbjtcbiAgc3RyZWFtLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIuX2Fib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtcblxuICAvLyBUeXBlU2NyaXB0IG5hcnJvd3MgdGhlIHR5cGUgb2YgYHN0cmVhbS5fc3RhdGVgIGRvd24gdG8gJ3dyaXRhYmxlJyB8ICdlcnJvcmluZycsXG4gIC8vIGJ1dCBpdCBkb2Vzbid0IGtub3cgdGhhdCBzaWduYWxpbmcgYWJvcnQgcnVucyBhdXRob3IgY29kZSB0aGF0IG1pZ2h0IGhhdmUgY2hhbmdlZCB0aGUgc3RhdGUuXG4gIC8vIFdpZGVuIHRoZSB0eXBlIGFnYWluIGJ5IGNhc3RpbmcgdG8gV3JpdGFibGVTdHJlYW1TdGF0ZS5cbiAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlIGFzIFdyaXRhYmxlU3RyZWFtU3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSAnY2xvc2VkJyB8fCBzdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgfVxuICBpZiAoc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0Ll9wcm9taXNlO1xuICB9XG5cbiAgYXNzZXJ0KHN0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0YXRlID09PSAnZXJyb3JpbmcnKTtcblxuICBsZXQgd2FzQWxyZWFkeUVycm9yaW5nID0gZmFsc2U7XG4gIGlmIChzdGF0ZSA9PT0gJ2Vycm9yaW5nJykge1xuICAgIHdhc0FscmVhZHlFcnJvcmluZyA9IHRydWU7XG4gICAgLy8gcmVhc29uIHdpbGwgbm90IGJlIHVzZWQsIHNvIGRvbid0IGtlZXAgYSByZWZlcmVuY2UgdG8gaXQuXG4gICAgcmVhc29uID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ld1Byb21pc2U8dW5kZWZpbmVkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0ID0ge1xuICAgICAgX3Byb21pc2U6IHVuZGVmaW5lZCEsXG4gICAgICBfcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgIF9yZWplY3Q6IHJlamVjdCxcbiAgICAgIF9yZWFzb246IHJlYXNvbixcbiAgICAgIF93YXNBbHJlYWR5RXJyb3Jpbmc6IHdhc0FscmVhZHlFcnJvcmluZ1xuICAgIH07XG4gIH0pO1xuICBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QhLl9wcm9taXNlID0gcHJvbWlzZTtcblxuICBpZiAoIXdhc0FscmVhZHlFcnJvcmluZykge1xuICAgIFdyaXRhYmxlU3RyZWFtU3RhcnRFcnJvcmluZyhzdHJlYW0sIHJlYXNvbik7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1DbG9zZShzdHJlYW06IFdyaXRhYmxlU3RyZWFtPGFueT4pOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICBjb25zdCBzdGF0ZSA9IHN0cmVhbS5fc3RhdGU7XG4gIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKG5ldyBUeXBlRXJyb3IoXG4gICAgICBgVGhlIHN0cmVhbSAoaW4gJHtzdGF0ZX0gc3RhdGUpIGlzIG5vdCBpbiB0aGUgd3JpdGFibGUgc3RhdGUgYW5kIGNhbm5vdCBiZSBjbG9zZWRgKSk7XG4gIH1cblxuICBhc3NlcnQoc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RhdGUgPT09ICdlcnJvcmluZycpO1xuICBhc3NlcnQoIVdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkpO1xuXG4gIGNvbnN0IHByb21pc2UgPSBuZXdQcm9taXNlPHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGNsb3NlUmVxdWVzdDogQ2xvc2VSZXF1ZXN0ID0ge1xuICAgICAgX3Jlc29sdmU6IHJlc29sdmUsXG4gICAgICBfcmVqZWN0OiByZWplY3RcbiAgICB9O1xuXG4gICAgc3RyZWFtLl9jbG9zZVJlcXVlc3QgPSBjbG9zZVJlcXVlc3Q7XG4gIH0pO1xuXG4gIGNvbnN0IHdyaXRlciA9IHN0cmVhbS5fd3JpdGVyO1xuICBpZiAod3JpdGVyICE9PSB1bmRlZmluZWQgJiYgc3RyZWFtLl9iYWNrcHJlc3N1cmUgJiYgc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVzb2x2ZSh3cml0ZXIpO1xuICB9XG5cbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlKHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyKTtcblxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gV3JpdGFibGVTdHJlYW0gQVBJIGV4cG9zZWQgZm9yIGNvbnRyb2xsZXJzLlxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUFkZFdyaXRlUmVxdWVzdChzdHJlYW06IFdyaXRhYmxlU3RyZWFtKTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgYXNzZXJ0KElzV3JpdGFibGVTdHJlYW1Mb2NrZWQoc3RyZWFtKSk7XG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAnd3JpdGFibGUnKTtcblxuICBjb25zdCBwcm9taXNlID0gbmV3UHJvbWlzZTx1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB3cml0ZVJlcXVlc3Q6IFdyaXRlUmVxdWVzdCA9IHtcbiAgICAgIF9yZXNvbHZlOiByZXNvbHZlLFxuICAgICAgX3JlamVjdDogcmVqZWN0XG4gICAgfTtcblxuICAgIHN0cmVhbS5fd3JpdGVSZXF1ZXN0cy5wdXNoKHdyaXRlUmVxdWVzdCk7XG4gIH0pO1xuXG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlYWxXaXRoUmVqZWN0aW9uKHN0cmVhbTogV3JpdGFibGVTdHJlYW0sIGVycm9yOiBhbnkpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuXG4gIGlmIChzdGF0ZSA9PT0gJ3dyaXRhYmxlJykge1xuICAgIFdyaXRhYmxlU3RyZWFtU3RhcnRFcnJvcmluZyhzdHJlYW0sIGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3NlcnQoc3RhdGUgPT09ICdlcnJvcmluZycpO1xuICBXcml0YWJsZVN0cmVhbUZpbmlzaEVycm9yaW5nKHN0cmVhbSk7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtU3RhcnRFcnJvcmluZyhzdHJlYW06IFdyaXRhYmxlU3RyZWFtLCByZWFzb246IGFueSkge1xuICBhc3NlcnQoc3RyZWFtLl9zdG9yZWRFcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScpO1xuXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlcjtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIgIT09IHVuZGVmaW5lZCk7XG5cbiAgc3RyZWFtLl9zdGF0ZSA9ICdlcnJvcmluZyc7XG4gIHN0cmVhbS5fc3RvcmVkRXJyb3IgPSByZWFzb247XG4gIGNvbnN0IHdyaXRlciA9IHN0cmVhbS5fd3JpdGVyO1xuICBpZiAod3JpdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJFbnN1cmVSZWFkeVByb21pc2VSZWplY3RlZCh3cml0ZXIsIHJlYXNvbik7XG4gIH1cblxuICBpZiAoIVdyaXRhYmxlU3RyZWFtSGFzT3BlcmF0aW9uTWFya2VkSW5GbGlnaHQoc3RyZWFtKSAmJiBjb250cm9sbGVyLl9zdGFydGVkKSB7XG4gICAgV3JpdGFibGVTdHJlYW1GaW5pc2hFcnJvcmluZyhzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRmluaXNoRXJyb3Jpbmcoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSkge1xuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG4gIGFzc2VydCghV3JpdGFibGVTdHJlYW1IYXNPcGVyYXRpb25NYXJrZWRJbkZsaWdodChzdHJlYW0pKTtcbiAgc3RyZWFtLl9zdGF0ZSA9ICdlcnJvcmVkJztcbiAgc3RyZWFtLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXJbRXJyb3JTdGVwc10oKTtcblxuICBjb25zdCBzdG9yZWRFcnJvciA9IHN0cmVhbS5fc3RvcmVkRXJyb3I7XG4gIHN0cmVhbS5fd3JpdGVSZXF1ZXN0cy5mb3JFYWNoKHdyaXRlUmVxdWVzdCA9PiB7XG4gICAgd3JpdGVSZXF1ZXN0Ll9yZWplY3Qoc3RvcmVkRXJyb3IpO1xuICB9KTtcbiAgc3RyZWFtLl93cml0ZVJlcXVlc3RzID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG5cbiAgaWYgKHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgV3JpdGFibGVTdHJlYW1SZWplY3RDbG9zZUFuZENsb3NlZFByb21pc2VJZk5lZWRlZChzdHJlYW0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGFib3J0UmVxdWVzdCA9IHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdDtcbiAgc3RyZWFtLl9wZW5kaW5nQWJvcnRSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuXG4gIGlmIChhYm9ydFJlcXVlc3QuX3dhc0FscmVhZHlFcnJvcmluZykge1xuICAgIGFib3J0UmVxdWVzdC5fcmVqZWN0KHN0b3JlZEVycm9yKTtcbiAgICBXcml0YWJsZVN0cmVhbVJlamVjdENsb3NlQW5kQ2xvc2VkUHJvbWlzZUlmTmVlZGVkKHN0cmVhbSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcHJvbWlzZSA9IHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyW0Fib3J0U3RlcHNdKGFib3J0UmVxdWVzdC5fcmVhc29uKTtcbiAgdXBvblByb21pc2UoXG4gICAgcHJvbWlzZSxcbiAgICAoKSA9PiB7XG4gICAgICBhYm9ydFJlcXVlc3QuX3Jlc29sdmUoKTtcbiAgICAgIFdyaXRhYmxlU3RyZWFtUmVqZWN0Q2xvc2VBbmRDbG9zZWRQcm9taXNlSWZOZWVkZWQoc3RyZWFtKTtcbiAgICB9LFxuICAgIChyZWFzb246IGFueSkgPT4ge1xuICAgICAgYWJvcnRSZXF1ZXN0Ll9yZWplY3QocmVhc29uKTtcbiAgICAgIFdyaXRhYmxlU3RyZWFtUmVqZWN0Q2xvc2VBbmRDbG9zZWRQcm9taXNlSWZOZWVkZWQoc3RyZWFtKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1GaW5pc2hJbkZsaWdodFdyaXRlKHN0cmVhbTogV3JpdGFibGVTdHJlYW0pIHtcbiAgYXNzZXJ0KHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgIT09IHVuZGVmaW5lZCk7XG4gIHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QhLl9yZXNvbHZlKHVuZGVmaW5lZCk7XG4gIHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgPSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRXcml0ZVdpdGhFcnJvcihzdHJlYW06IFdyaXRhYmxlU3RyZWFtLCBlcnJvcjogYW55KSB7XG4gIGFzc2VydChzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ICE9PSB1bmRlZmluZWQpO1xuICBzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0IS5fcmVqZWN0KGVycm9yKTtcbiAgc3RyZWFtLl9pbkZsaWdodFdyaXRlUmVxdWVzdCA9IHVuZGVmaW5lZDtcblxuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyB8fCBzdHJlYW0uX3N0YXRlID09PSAnZXJyb3JpbmcnKTtcblxuICBXcml0YWJsZVN0cmVhbURlYWxXaXRoUmVqZWN0aW9uKHN0cmVhbSwgZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUZpbmlzaEluRmxpZ2h0Q2xvc2Uoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSkge1xuICBhc3NlcnQoc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCAhPT0gdW5kZWZpbmVkKTtcbiAgc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCEuX3Jlc29sdmUodW5kZWZpbmVkKTtcbiAgc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCA9IHVuZGVmaW5lZDtcblxuICBjb25zdCBzdGF0ZSA9IHN0cmVhbS5fc3RhdGU7XG5cbiAgYXNzZXJ0KHN0YXRlID09PSAnd3JpdGFibGUnIHx8IHN0YXRlID09PSAnZXJyb3JpbmcnKTtcblxuICBpZiAoc3RhdGUgPT09ICdlcnJvcmluZycpIHtcbiAgICAvLyBUaGUgZXJyb3Igd2FzIHRvbyBsYXRlIHRvIGRvIGFueXRoaW5nLCBzbyBpdCBpcyBpZ25vcmVkLlxuICAgIHN0cmVhbS5fc3RvcmVkRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QuX3Jlc29sdmUoKTtcbiAgICAgIHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBzdHJlYW0uX3N0YXRlID0gJ2Nsb3NlZCc7XG5cbiAgY29uc3Qgd3JpdGVyID0gc3RyZWFtLl93cml0ZXI7XG4gIGlmICh3cml0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlUmVzb2x2ZSh3cml0ZXIpO1xuICB9XG5cbiAgYXNzZXJ0KHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdCA9PT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RvcmVkRXJyb3IgPT09IHVuZGVmaW5lZCk7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRDbG9zZVdpdGhFcnJvcihzdHJlYW06IFdyaXRhYmxlU3RyZWFtLCBlcnJvcjogYW55KSB7XG4gIGFzc2VydChzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0ICE9PSB1bmRlZmluZWQpO1xuICBzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0IS5fcmVqZWN0KGVycm9yKTtcbiAgc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCA9IHVuZGVmaW5lZDtcblxuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyB8fCBzdHJlYW0uX3N0YXRlID09PSAnZXJyb3JpbmcnKTtcblxuICAvLyBOZXZlciBleGVjdXRlIHNpbmsgYWJvcnQoKSBhZnRlciBzaW5rIGNsb3NlKCkuXG4gIGlmIChzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIHN0cmVhbS5fcGVuZGluZ0Fib3J0UmVxdWVzdC5fcmVqZWN0KGVycm9yKTtcbiAgICBzdHJlYW0uX3BlbmRpbmdBYm9ydFJlcXVlc3QgPSB1bmRlZmluZWQ7XG4gIH1cbiAgV3JpdGFibGVTdHJlYW1EZWFsV2l0aFJlamVjdGlvbihzdHJlYW0sIGVycm9yKTtcbn1cblxuLy8gVE9ETyhyaWNlYSk6IEZpeCBhbHBoYWJldGljYWwgb3JkZXIuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChzdHJlYW06IFdyaXRhYmxlU3RyZWFtKTogYm9vbGVhbiB7XG4gIGlmIChzdHJlYW0uX2Nsb3NlUmVxdWVzdCA9PT0gdW5kZWZpbmVkICYmIHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbUhhc09wZXJhdGlvbk1hcmtlZEluRmxpZ2h0KHN0cmVhbTogV3JpdGFibGVTdHJlYW0pOiBib29sZWFuIHtcbiAgaWYgKHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgPT09IHVuZGVmaW5lZCAmJiBzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1NYXJrQ2xvc2VSZXF1ZXN0SW5GbGlnaHQoc3RyZWFtOiBXcml0YWJsZVN0cmVhbSkge1xuICBhc3NlcnQoc3RyZWFtLl9pbkZsaWdodENsb3NlUmVxdWVzdCA9PT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHN0cmVhbS5fY2xvc2VSZXF1ZXN0ICE9PSB1bmRlZmluZWQpO1xuICBzdHJlYW0uX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0ID0gc3RyZWFtLl9jbG9zZVJlcXVlc3Q7XG4gIHN0cmVhbS5fY2xvc2VSZXF1ZXN0ID0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbU1hcmtGaXJzdFdyaXRlUmVxdWVzdEluRmxpZ2h0KHN0cmVhbTogV3JpdGFibGVTdHJlYW0pIHtcbiAgYXNzZXJ0KHN0cmVhbS5faW5GbGlnaHRXcml0ZVJlcXVlc3QgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydChzdHJlYW0uX3dyaXRlUmVxdWVzdHMubGVuZ3RoICE9PSAwKTtcbiAgc3RyZWFtLl9pbkZsaWdodFdyaXRlUmVxdWVzdCA9IHN0cmVhbS5fd3JpdGVSZXF1ZXN0cy5zaGlmdCgpO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbVJlamVjdENsb3NlQW5kQ2xvc2VkUHJvbWlzZUlmTmVlZGVkKHN0cmVhbTogV3JpdGFibGVTdHJlYW0pIHtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdlcnJvcmVkJyk7XG4gIGlmIChzdHJlYW0uX2Nsb3NlUmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0KHN0cmVhbS5faW5GbGlnaHRDbG9zZVJlcXVlc3QgPT09IHVuZGVmaW5lZCk7XG5cbiAgICBzdHJlYW0uX2Nsb3NlUmVxdWVzdC5fcmVqZWN0KHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICAgIHN0cmVhbS5fY2xvc2VSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHdyaXRlciA9IHN0cmVhbS5fd3JpdGVyO1xuICBpZiAod3JpdGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZVJlamVjdCh3cml0ZXIsIHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtVXBkYXRlQmFja3ByZXNzdXJlKHN0cmVhbTogV3JpdGFibGVTdHJlYW0sIGJhY2twcmVzc3VyZTogYm9vbGVhbikge1xuICBhc3NlcnQoc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyk7XG4gIGFzc2VydCghV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoc3RyZWFtKSk7XG5cbiAgY29uc3Qgd3JpdGVyID0gc3RyZWFtLl93cml0ZXI7XG4gIGlmICh3cml0ZXIgIT09IHVuZGVmaW5lZCAmJiBiYWNrcHJlc3N1cmUgIT09IHN0cmVhbS5fYmFja3ByZXNzdXJlKSB7XG4gICAgaWYgKGJhY2twcmVzc3VyZSkge1xuICAgICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc2V0KHdyaXRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydCghYmFja3ByZXNzdXJlKTtcblxuICAgICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlc29sdmUod3JpdGVyKTtcbiAgICB9XG4gIH1cblxuICBzdHJlYW0uX2JhY2twcmVzc3VyZSA9IGJhY2twcmVzc3VyZTtcbn1cblxuLyoqXG4gKiBBIGRlZmF1bHQgd3JpdGVyIHZlbmRlZCBieSBhIHtAbGluayBXcml0YWJsZVN0cmVhbX0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyPFcgPSBhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfb3duZXJXcml0YWJsZVN0cmVhbTogV3JpdGFibGVTdHJlYW08Vz47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2UhOiBQcm9taXNlPHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VfcmVzb2x2ZT86ICh2YWx1ZT86IHVuZGVmaW5lZCkgPT4gdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2xvc2VkUHJvbWlzZV9yZWplY3Q/OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlZFByb21pc2VTdGF0ZSE6ICdwZW5kaW5nJyB8ICdyZXNvbHZlZCcgfCAncmVqZWN0ZWQnO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkeVByb21pc2UhOiBQcm9taXNlPHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlYWR5UHJvbWlzZV9yZXNvbHZlPzogKHZhbHVlPzogdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkeVByb21pc2VfcmVqZWN0PzogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkeVByb21pc2VTdGF0ZSE6ICdwZW5kaW5nJyB8ICdmdWxmaWxsZWQnIHwgJ3JlamVjdGVkJztcblxuICBjb25zdHJ1Y3RvcihzdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+KSB7XG4gICAgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudChzdHJlYW0sIDEsICdXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXInKTtcbiAgICBhc3NlcnRXcml0YWJsZVN0cmVhbShzdHJlYW0sICdGaXJzdCBwYXJhbWV0ZXInKTtcblxuICAgIGlmIChJc1dyaXRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXMgc3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gbG9ja2VkIGZvciBleGNsdXNpdmUgd3JpdGluZyBieSBhbm90aGVyIHdyaXRlcicpO1xuICAgIH1cblxuICAgIHRoaXMuX293bmVyV3JpdGFibGVTdHJlYW0gPSBzdHJlYW07XG4gICAgc3RyZWFtLl93cml0ZXIgPSB0aGlzO1xuXG4gICAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuXG4gICAgaWYgKHN0YXRlID09PSAnd3JpdGFibGUnKSB7XG4gICAgICBpZiAoIVdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkgJiYgc3RyZWFtLl9iYWNrcHJlc3N1cmUpIHtcbiAgICAgICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemUodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZSh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAnZXJyb3JpbmcnKSB7XG4gICAgICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQodGhpcywgc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gICAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemUodGhpcyk7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VJbml0aWFsaXplQXNSZXNvbHZlZCh0aGlzKTtcbiAgICAgIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVzb2x2ZWQodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChzdGF0ZSA9PT0gJ2Vycm9yZWQnKTtcblxuICAgICAgY29uc3Qgc3RvcmVkRXJyb3IgPSBzdHJlYW0uX3N0b3JlZEVycm9yO1xuICAgICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHRoaXMsIHN0b3JlZEVycm9yKTtcbiAgICAgIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQodGhpcywgc3RvcmVkRXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdoZW4gdGhlIHN0cmVhbSBiZWNvbWVzIGNsb3NlZCwgb3IgcmVqZWN0ZWQgaWYgdGhlIHN0cmVhbSBldmVyIGVycm9ycyBvclxuICAgKiB0aGUgd3JpdGVy4oCZcyBsb2NrIGlzIHJlbGVhc2VkIGJlZm9yZSB0aGUgc3RyZWFtIGZpbmlzaGVzIGNsb3NpbmcuXG4gICAqL1xuICBnZXQgY2xvc2VkKCk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Nsb3NlZCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2xvc2VkUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZXNpcmVkIHNpemUgdG8gZmlsbCB0aGUgc3RyZWFt4oCZcyBpbnRlcm5hbCBxdWV1ZS4gSXQgY2FuIGJlIG5lZ2F0aXZlLCBpZiB0aGUgcXVldWUgaXMgb3Zlci1mdWxsLlxuICAgKiBBIHByb2R1Y2VyIGNhbiB1c2UgdGhpcyBpbmZvcm1hdGlvbiB0byBkZXRlcm1pbmUgdGhlIHJpZ2h0IGFtb3VudCBvZiBkYXRhIHRvIHdyaXRlLlxuICAgKlxuICAgKiBJdCB3aWxsIGJlIGBudWxsYCBpZiB0aGUgc3RyZWFtIGNhbm5vdCBiZSBzdWNjZXNzZnVsbHkgd3JpdHRlbiB0byAoZHVlIHRvIGVpdGhlciBiZWluZyBlcnJvcmVkLCBvciBoYXZpbmcgYW4gYWJvcnRcbiAgICogcXVldWVkIHVwKS4gSXQgd2lsbCByZXR1cm4gemVybyBpZiB0aGUgc3RyZWFtIGlzIGNsb3NlZC4gQW5kIHRoZSBnZXR0ZXIgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgaW52b2tlZCB3aGVuXG4gICAqIHRoZSB3cml0ZXLigJlzIGxvY2sgaXMgcmVsZWFzZWQuXG4gICAqL1xuICBnZXQgZGVzaXJlZFNpemUoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Rlc2lyZWRTaXplJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyV3JpdGFibGVTdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgZGVmYXVsdFdyaXRlckxvY2tFeGNlcHRpb24oJ2Rlc2lyZWRTaXplJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckdldERlc2lyZWRTaXplKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2hlbiB0aGUgZGVzaXJlZCBzaXplIHRvIGZpbGwgdGhlIHN0cmVhbeKAmXMgaW50ZXJuYWwgcXVldWUgdHJhbnNpdGlvbnNcbiAgICogZnJvbSBub24tcG9zaXRpdmUgdG8gcG9zaXRpdmUsIHNpZ25hbGluZyB0aGF0IGl0IGlzIG5vIGxvbmdlciBhcHBseWluZyBiYWNrcHJlc3N1cmUuIE9uY2UgdGhlIGRlc2lyZWQgc2l6ZSBkaXBzXG4gICAqIGJhY2sgdG8gemVybyBvciBiZWxvdywgdGhlIGdldHRlciB3aWxsIHJldHVybiBhIG5ldyBwcm9taXNlIHRoYXQgc3RheXMgcGVuZGluZyB1bnRpbCB0aGUgbmV4dCB0cmFuc2l0aW9uLlxuICAgKlxuICAgKiBJZiB0aGUgc3RyZWFtIGJlY29tZXMgZXJyb3JlZCBvciBhYm9ydGVkLCBvciB0aGUgd3JpdGVy4oCZcyBsb2NrIGlzIHJlbGVhc2VkLCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlY29tZVxuICAgKiByZWplY3RlZC5cbiAgICovXG4gIGdldCByZWFkeSgpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICAgIGlmICghSXNXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdyZWFkeScpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVhZHlQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSByZWFkZXIgaXMgYWN0aXZlLCBiZWhhdmVzIHRoZSBzYW1lIGFzIHtAbGluayBXcml0YWJsZVN0cmVhbS5hYm9ydCB8IHN0cmVhbS5hYm9ydChyZWFzb24pfS5cbiAgICovXG4gIGFib3J0KHJlYXNvbjogYW55ID0gdW5kZWZpbmVkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcih0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFdyaXRlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Fib3J0JykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJMb2NrRXhjZXB0aW9uKCdhYm9ydCcpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQWJvcnQodGhpcywgcmVhc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgcmVhZGVyIGlzIGFjdGl2ZSwgYmVoYXZlcyB0aGUgc2FtZSBhcyB7QGxpbmsgV3JpdGFibGVTdHJlYW0uY2xvc2UgfCBzdHJlYW0uY2xvc2UoKX0uXG4gICAqL1xuICBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChkZWZhdWx0V3JpdGVyQnJhbmRDaGVja0V4Y2VwdGlvbignY2xvc2UnKSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fb3duZXJXcml0YWJsZVN0cmVhbTtcblxuICAgIGlmIChzdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFdyaXRlckxvY2tFeGNlcHRpb24oJ2Nsb3NlJykpO1xuICAgIH1cblxuICAgIGlmIChXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChzdHJlYW0pKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2xvc2UgYW4gYWxyZWFkeS1jbG9zaW5nIHN0cmVhbScpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQ2xvc2UodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogUmVsZWFzZXMgdGhlIHdyaXRlcuKAmXMgbG9jayBvbiB0aGUgY29ycmVzcG9uZGluZyBzdHJlYW0uIEFmdGVyIHRoZSBsb2NrIGlzIHJlbGVhc2VkLCB0aGUgd3JpdGVyIGlzIG5vIGxvbmdlciBhY3RpdmUuXG4gICAqIElmIHRoZSBhc3NvY2lhdGVkIHN0cmVhbSBpcyBlcnJvcmVkIHdoZW4gdGhlIGxvY2sgaXMgcmVsZWFzZWQsIHRoZSB3cml0ZXIgd2lsbCBhcHBlYXIgZXJyb3JlZCBpbiB0aGUgc2FtZSB3YXkgZnJvbVxuICAgKiBub3cgb247IG90aGVyd2lzZSwgdGhlIHdyaXRlciB3aWxsIGFwcGVhciBjbG9zZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGUgbG9jayBjYW4gc3RpbGwgYmUgcmVsZWFzZWQgZXZlbiBpZiBzb21lIG9uZ29pbmcgd3JpdGVzIGhhdmUgbm90IHlldCBmaW5pc2hlZCAoaS5lLiBldmVuIGlmIHRoZVxuICAgKiBwcm9taXNlcyByZXR1cm5lZCBmcm9tIHByZXZpb3VzIGNhbGxzIHRvIHtAbGluayBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIud3JpdGUgfCB3cml0ZSgpfSBoYXZlIG5vdCB5ZXQgc2V0dGxlZCkuXG4gICAqIEl04oCZcyBub3QgbmVjZXNzYXJ5IHRvIGhvbGQgdGhlIGxvY2sgb24gdGhlIHdyaXRlciBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSB3cml0ZTsgdGhlIGxvY2sgaW5zdGVhZCBzaW1wbHkgcHJldmVudHNcbiAgICogb3RoZXIgcHJvZHVjZXJzIGZyb20gd3JpdGluZyBpbiBhbiBpbnRlcmxlYXZlZCBtYW5uZXIuXG4gICAqL1xuICByZWxlYXNlTG9jaygpOiB2b2lkIHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0V3JpdGVyQnJhbmRDaGVja0V4Y2VwdGlvbigncmVsZWFzZUxvY2snKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9vd25lcldyaXRhYmxlU3RyZWFtO1xuXG4gICAgaWYgKHN0cmVhbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXNzZXJ0KHN0cmVhbS5fd3JpdGVyICE9PSB1bmRlZmluZWQpO1xuXG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyUmVsZWFzZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZXMgdGhlIGdpdmVuIGNodW5rIHRvIHRoZSB3cml0YWJsZSBzdHJlYW0sIGJ5IHdhaXRpbmcgdW50aWwgYW55IHByZXZpb3VzIHdyaXRlcyBoYXZlIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseSxcbiAgICogYW5kIHRoZW4gc2VuZGluZyB0aGUgY2h1bmsgdG8gdGhlIHVuZGVybHlpbmcgc2luaydzIHtAbGluayBVbmRlcmx5aW5nU2luay53cml0ZSB8IHdyaXRlKCl9IG1ldGhvZC4gSXQgd2lsbCByZXR1cm5cbiAgICogYSBwcm9taXNlIHRoYXQgZnVsZmlsbHMgd2l0aCB1bmRlZmluZWQgdXBvbiBhIHN1Y2Nlc3NmdWwgd3JpdGUsIG9yIHJlamVjdHMgaWYgdGhlIHdyaXRlIGZhaWxzIG9yIHN0cmVhbSBiZWNvbWVzXG4gICAqIGVycm9yZWQgYmVmb3JlIHRoZSB3cml0aW5nIHByb2Nlc3MgaXMgaW5pdGlhdGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgd2hhdCBcInN1Y2Nlc3NcIiBtZWFucyBpcyB1cCB0byB0aGUgdW5kZXJseWluZyBzaW5rOyBpdCBtaWdodCBpbmRpY2F0ZSBzaW1wbHkgdGhhdCB0aGUgY2h1bmsgaGFzIGJlZW5cbiAgICogYWNjZXB0ZWQsIGFuZCBub3QgbmVjZXNzYXJpbHkgdGhhdCBpdCBpcyBzYWZlbHkgc2F2ZWQgdG8gaXRzIHVsdGltYXRlIGRlc3RpbmF0aW9uLlxuICAgKi9cbiAgd3JpdGUoY2h1bms6IFcpOiBQcm9taXNlPHZvaWQ+O1xuICB3cml0ZShjaHVuazogVyA9IHVuZGVmaW5lZCEpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChkZWZhdWx0V3JpdGVyQnJhbmRDaGVja0V4Y2VwdGlvbignd3JpdGUnKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyV3JpdGFibGVTdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoZGVmYXVsdFdyaXRlckxvY2tFeGNlcHRpb24oJ3dyaXRlIHRvJykpO1xuICAgIH1cblxuICAgIHJldHVybiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJXcml0ZSh0aGlzLCBjaHVuayk7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLnByb3RvdHlwZSwge1xuICBhYm9ydDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGNsb3NlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgcmVsZWFzZUxvY2s6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICB3cml0ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGNsb3NlZDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGRlc2lyZWRTaXplOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgcmVhZHk6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXInLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8gQWJzdHJhY3Qgb3BlcmF0aW9ucyBmb3IgdGhlIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlci5cblxuZnVuY3Rpb24gSXNXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI8VyA9IGFueT4oeDogYW55KTogeCBpcyBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI8Vz4ge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfb3duZXJXcml0YWJsZVN0cmVhbScpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI7XG59XG5cbi8vIEEgY2xpZW50IG9mIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciBtYXkgdXNlIHRoZXNlIGZ1bmN0aW9ucyBkaXJlY3RseSB0byBieXBhc3Mgc3RhdGUgY2hlY2suXG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckFib3J0KHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCByZWFzb246IGFueSkge1xuICBjb25zdCBzdHJlYW0gPSB3cml0ZXIuX293bmVyV3JpdGFibGVTdHJlYW07XG5cbiAgYXNzZXJ0KHN0cmVhbSAhPT0gdW5kZWZpbmVkKTtcblxuICByZXR1cm4gV3JpdGFibGVTdHJlYW1BYm9ydChzdHJlYW0sIHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckNsb3NlKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgY29uc3Qgc3RyZWFtID0gd3JpdGVyLl9vd25lcldyaXRhYmxlU3RyZWFtO1xuXG4gIGFzc2VydChzdHJlYW0gIT09IHVuZGVmaW5lZCk7XG5cbiAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtQ2xvc2Uoc3RyZWFtKTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQ2xvc2VXaXRoRXJyb3JQcm9wYWdhdGlvbih3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcik6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gIGNvbnN0IHN0cmVhbSA9IHdyaXRlci5fb3duZXJXcml0YWJsZVN0cmVhbTtcblxuICBhc3NlcnQoc3RyZWFtICE9PSB1bmRlZmluZWQpO1xuXG4gIGNvbnN0IHN0YXRlID0gc3RyZWFtLl9zdGF0ZTtcbiAgaWYgKFdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkgfHwgc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgfVxuXG4gIGlmIChzdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gIH1cblxuICBhc3NlcnQoc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RhdGUgPT09ICdlcnJvcmluZycpO1xuXG4gIHJldHVybiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJDbG9zZSh3cml0ZXIpO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJFbnN1cmVDbG9zZWRQcm9taXNlUmVqZWN0ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsIGVycm9yOiBhbnkpIHtcbiAgaWYgKHdyaXRlci5fY2xvc2VkUHJvbWlzZVN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZVJlamVjdCh3cml0ZXIsIGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZVJlc2V0VG9SZWplY3RlZCh3cml0ZXIsIGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJFbnN1cmVSZWFkeVByb21pc2VSZWplY3RlZCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgZXJyb3I6IGFueSkge1xuICBpZiAod3JpdGVyLl9yZWFkeVByb21pc2VTdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlamVjdCh3cml0ZXIsIGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVzZXRUb1JlamVjdGVkKHdyaXRlciwgZXJyb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlckdldERlc2lyZWRTaXplKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKTogbnVtYmVyIHwgbnVsbCB7XG4gIGNvbnN0IHN0cmVhbSA9IHdyaXRlci5fb3duZXJXcml0YWJsZVN0cmVhbTtcbiAgY29uc3Qgc3RhdGUgPSBzdHJlYW0uX3N0YXRlO1xuXG4gIGlmIChzdGF0ZSA9PT0gJ2Vycm9yZWQnIHx8IHN0YXRlID09PSAnZXJyb3JpbmcnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldERlc2lyZWRTaXplKHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyKTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyUmVsZWFzZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICBjb25zdCBzdHJlYW0gPSB3cml0ZXIuX293bmVyV3JpdGFibGVTdHJlYW07XG4gIGFzc2VydChzdHJlYW0gIT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydChzdHJlYW0uX3dyaXRlciA9PT0gd3JpdGVyKTtcblxuICBjb25zdCByZWxlYXNlZEVycm9yID0gbmV3IFR5cGVFcnJvcihcbiAgICBgV3JpdGVyIHdhcyByZWxlYXNlZCBhbmQgY2FuIG5vIGxvbmdlciBiZSB1c2VkIHRvIG1vbml0b3IgdGhlIHN0cmVhbSdzIGNsb3NlZG5lc3NgKTtcblxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJFbnN1cmVSZWFkeVByb21pc2VSZWplY3RlZCh3cml0ZXIsIHJlbGVhc2VkRXJyb3IpO1xuXG4gIC8vIFRoZSBzdGF0ZSB0cmFuc2l0aW9ucyB0byBcImVycm9yZWRcIiBiZWZvcmUgdGhlIHNpbmsgYWJvcnQoKSBtZXRob2QgcnVucywgYnV0IHRoZSB3cml0ZXIuY2xvc2VkIHByb21pc2UgaXMgbm90XG4gIC8vIHJlamVjdGVkIHVudGlsIGFmdGVyd2FyZHMuIFRoaXMgbWVhbnMgdGhhdCBzaW1wbHkgdGVzdGluZyBzdGF0ZSB3aWxsIG5vdCB3b3JrLlxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJFbnN1cmVDbG9zZWRQcm9taXNlUmVqZWN0ZWQod3JpdGVyLCByZWxlYXNlZEVycm9yKTtcblxuICBzdHJlYW0uX3dyaXRlciA9IHVuZGVmaW5lZDtcbiAgd3JpdGVyLl9vd25lcldyaXRhYmxlU3RyZWFtID0gdW5kZWZpbmVkITtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyV3JpdGU8Vz4od3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI8Vz4sIGNodW5rOiBXKTogUHJvbWlzZTx1bmRlZmluZWQ+IHtcbiAgY29uc3Qgc3RyZWFtID0gd3JpdGVyLl9vd25lcldyaXRhYmxlU3RyZWFtO1xuXG4gIGFzc2VydChzdHJlYW0gIT09IHVuZGVmaW5lZCk7XG5cbiAgY29uc3QgY29udHJvbGxlciA9IHN0cmVhbS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyO1xuXG4gIGNvbnN0IGNodW5rU2l6ZSA9IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXRDaHVua1NpemUoY29udHJvbGxlciwgY2h1bmspO1xuXG4gIGlmIChzdHJlYW0gIT09IHdyaXRlci5fb3duZXJXcml0YWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGRlZmF1bHRXcml0ZXJMb2NrRXhjZXB0aW9uKCd3cml0ZSB0bycpKTtcbiAgfVxuXG4gIGNvbnN0IHN0YXRlID0gc3RyZWFtLl9zdGF0ZTtcbiAgaWYgKHN0YXRlID09PSAnZXJyb3JlZCcpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgfVxuICBpZiAoV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoc3RyZWFtKSB8fCBzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChuZXcgVHlwZUVycm9yKCdUaGUgc3RyZWFtIGlzIGNsb3Npbmcgb3IgY2xvc2VkIGFuZCBjYW5ub3QgYmUgd3JpdHRlbiB0bycpKTtcbiAgfVxuICBpZiAoc3RhdGUgPT09ICdlcnJvcmluZycpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW0uX3N0b3JlZEVycm9yKTtcbiAgfVxuXG4gIGFzc2VydChzdGF0ZSA9PT0gJ3dyaXRhYmxlJyk7XG5cbiAgY29uc3QgcHJvbWlzZSA9IFdyaXRhYmxlU3RyZWFtQWRkV3JpdGVSZXF1ZXN0KHN0cmVhbSk7XG5cbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcldyaXRlKGNvbnRyb2xsZXIsIGNodW5rLCBjaHVua1NpemUpO1xuXG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5jb25zdCBjbG9zZVNlbnRpbmVsOiB1bmlxdWUgc3ltYm9sID0ge30gYXMgYW55O1xuXG50eXBlIFF1ZXVlUmVjb3JkPFc+ID0gVyB8IHR5cGVvZiBjbG9zZVNlbnRpbmVsO1xuXG4vKipcbiAqIEFsbG93cyBjb250cm9sIG9mIGEge0BsaW5rIFdyaXRhYmxlU3RyZWFtIHwgd3JpdGFibGUgc3RyZWFtfSdzIHN0YXRlIGFuZCBpbnRlcm5hbCBxdWV1ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFcgPSBhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtITogV3JpdGFibGVTdHJlYW08Vz47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3F1ZXVlITogU2ltcGxlUXVldWU8UXVldWVQYWlyPFF1ZXVlUmVjb3JkPFc+Pj47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3F1ZXVlVG90YWxTaXplITogbnVtYmVyO1xuICAvKiogQGludGVybmFsICovXG4gIF9hYm9ydFJlYXNvbjogYW55O1xuICAvKiogQGludGVybmFsICovXG4gIF9hYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlciB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RhcnRlZCE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0cmF0ZWd5U2l6ZUFsZ29yaXRobSE6IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxXPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RyYXRlZ3lIV00hOiBudW1iZXI7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3dyaXRlQWxnb3JpdGhtITogKGNodW5rOiBXKSA9PiBQcm9taXNlPHZvaWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF9jbG9zZUFsZ29yaXRobSE6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Fib3J0QWxnb3JpdGhtITogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBjb25zdHJ1Y3RvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByZWFzb24gd2hpY2ggd2FzIHBhc3NlZCB0byBgV3JpdGFibGVTdHJlYW0uYWJvcnQocmVhc29uKWAgd2hlbiB0aGUgc3RyZWFtIHdhcyBhYm9ydGVkLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiAgVGhpcyBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIHNwZWNpZmljYXRpb24sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL3N0cmVhbXMvcHVsbC8xMTc3LlxuICAgKiAgVXNlIHtAbGluayBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnNpZ25hbH0ncyBgcmVhc29uYCBpbnN0ZWFkLlxuICAgKi9cbiAgZ2V0IGFib3J0UmVhc29uKCk6IGFueSB7XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignYWJvcnRSZWFzb24nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2Fib3J0UmVhc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIGBBYm9ydFNpZ25hbGAgdGhhdCBjYW4gYmUgdXNlZCB0byBhYm9ydCB0aGUgcGVuZGluZyB3cml0ZSBvciBjbG9zZSBvcGVyYXRpb24gd2hlbiB0aGUgc3RyZWFtIGlzIGFib3J0ZWQuXG4gICAqL1xuICBnZXQgc2lnbmFsKCk6IEFib3J0U2lnbmFsIHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdzaWduYWwnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2Fib3J0Q29udHJvbGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBPbGRlciBicm93c2VycyBvciBvbGRlciBOb2RlIHZlcnNpb25zIG1heSBub3Qgc3VwcG9ydCBgQWJvcnRDb250cm9sbGVyYCBvciBgQWJvcnRTaWduYWxgLlxuICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBidW5kbGUgYW5kIHNoaXAgYW4gYEFib3J0Q29udHJvbGxlcmAgcG9seWZpbGwgdG9nZXRoZXIgd2l0aCBvdXIgcG9seWZpbGwsXG4gICAgICAvLyBzbyBpbnN0ZWFkIHdlIG9ubHkgaW1wbGVtZW50IHN1cHBvcnQgZm9yIGBzaWduYWxgIGlmIHdlIGZpbmQgYSBnbG9iYWwgYEFib3J0Q29udHJvbGxlcmAgY29uc3RydWN0b3IuXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZS5zaWduYWwgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWJvcnRDb250cm9sbGVyLnNpZ25hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGNvbnRyb2xsZWQgd3JpdGFibGUgc3RyZWFtLCBtYWtpbmcgYWxsIGZ1dHVyZSBpbnRlcmFjdGlvbnMgd2l0aCBpdCBmYWlsIHdpdGggdGhlIGdpdmVuIGVycm9yIGBlYC5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcmFyZWx5IHVzZWQsIHNpbmNlIHVzdWFsbHkgaXQgc3VmZmljZXMgdG8gcmV0dXJuIGEgcmVqZWN0ZWQgcHJvbWlzZSBmcm9tIG9uZSBvZiB0aGUgdW5kZXJseWluZ1xuICAgKiBzaW5rJ3MgbWV0aG9kcy4gSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCBmb3Igc3VkZGVubHkgc2h1dHRpbmcgZG93biBhIHN0cmVhbSBpbiByZXNwb25zZSB0byBhbiBldmVudCBvdXRzaWRlIHRoZVxuICAgKiBub3JtYWwgbGlmZWN5Y2xlIG9mIGludGVyYWN0aW9ucyB3aXRoIHRoZSB1bmRlcmx5aW5nIHNpbmsuXG4gICAqL1xuICBlcnJvcihlOiBhbnkgPSB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAoIUlzV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdlcnJvcicpO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbS5fc3RhdGU7XG4gICAgaWYgKHN0YXRlICE9PSAnd3JpdGFibGUnKSB7XG4gICAgICAvLyBUaGUgc3RyZWFtIGlzIGNsb3NlZCwgZXJyb3JlZCBvciB3aWxsIGJlIHNvb24uIFRoZSBzaW5rIGNhbid0IGRvIGFueXRoaW5nIHVzZWZ1bCBpZiBpdCBnZXRzIGFuIGVycm9yIGhlcmUsIHNvXG4gICAgICAvLyBqdXN0IHRyZWF0IGl0IGFzIGEgbm8tb3AuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKHRoaXMsIGUpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBbQWJvcnRTdGVwc10ocmVhc29uOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9hYm9ydEFsZ29yaXRobShyZWFzb24pO1xuICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbGVhckFsZ29yaXRobXModGhpcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgW0Vycm9yU3RlcHNdKCkge1xuICAgIFJlc2V0UXVldWUodGhpcyk7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUsIHtcbiAgYWJvcnRSZWFzb246IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBzaWduYWw6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBlcnJvcjogeyBlbnVtZXJhYmxlOiB0cnVlIH1cbn0pO1xuaWYgKHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgaW1wbGVtZW50aW5nIGludGVyZmFjZSByZXF1aXJlZCBieSB0aGUgV3JpdGFibGVTdHJlYW0uXG5cbmZ1bmN0aW9uIElzV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcih4OiBhbnkpOiB4IGlzIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55PiB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19jb250cm9sbGVkV3JpdGFibGVTdHJlYW0nKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjtcbn1cblxuZnVuY3Rpb24gU2V0VXBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFc+KHN0cmVhbTogV3JpdGFibGVTdHJlYW08Vz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFsZ29yaXRobTogKCkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQWxnb3JpdGhtOiAoY2h1bms6IFcpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnRBbGdvcml0aG06IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFc+KSB7XG4gIGFzc2VydChJc1dyaXRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICBhc3NlcnQoc3RyZWFtLl93cml0YWJsZVN0cmVhbUNvbnRyb2xsZXIgPT09IHVuZGVmaW5lZCk7XG5cbiAgY29udHJvbGxlci5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtID0gc3RyZWFtO1xuICBzdHJlYW0uX3dyaXRhYmxlU3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgLy8gTmVlZCB0byBzZXQgdGhlIHNsb3RzIHNvIHRoYXQgdGhlIGFzc2VydCBkb2Vzbid0IGZpcmUuIEluIHRoZSBzcGVjIHRoZSBzbG90cyBhbHJlYWR5IGV4aXN0IGltcGxpY2l0bHkuXG4gIGNvbnRyb2xsZXIuX3F1ZXVlID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fcXVldWVUb3RhbFNpemUgPSB1bmRlZmluZWQhO1xuICBSZXNldFF1ZXVlKGNvbnRyb2xsZXIpO1xuXG4gIGNvbnRyb2xsZXIuX2Fib3J0UmVhc29uID0gdW5kZWZpbmVkO1xuICBjb250cm9sbGVyLl9hYm9ydENvbnRyb2xsZXIgPSBjcmVhdGVBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29udHJvbGxlci5fc3RhcnRlZCA9IGZhbHNlO1xuXG4gIGNvbnRyb2xsZXIuX3N0cmF0ZWd5U2l6ZUFsZ29yaXRobSA9IHNpemVBbGdvcml0aG07XG4gIGNvbnRyb2xsZXIuX3N0cmF0ZWd5SFdNID0gaGlnaFdhdGVyTWFyaztcblxuICBjb250cm9sbGVyLl93cml0ZUFsZ29yaXRobSA9IHdyaXRlQWxnb3JpdGhtO1xuICBjb250cm9sbGVyLl9jbG9zZUFsZ29yaXRobSA9IGNsb3NlQWxnb3JpdGhtO1xuICBjb250cm9sbGVyLl9hYm9ydEFsZ29yaXRobSA9IGFib3J0QWxnb3JpdGhtO1xuXG4gIGNvbnN0IGJhY2twcmVzc3VyZSA9IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXRCYWNrcHJlc3N1cmUoY29udHJvbGxlcik7XG4gIFdyaXRhYmxlU3RyZWFtVXBkYXRlQmFja3ByZXNzdXJlKHN0cmVhbSwgYmFja3ByZXNzdXJlKTtcblxuICBjb25zdCBzdGFydFJlc3VsdCA9IHN0YXJ0QWxnb3JpdGhtKCk7XG4gIGNvbnN0IHN0YXJ0UHJvbWlzZSA9IHByb21pc2VSZXNvbHZlZFdpdGgoc3RhcnRSZXN1bHQpO1xuICB1cG9uUHJvbWlzZShcbiAgICBzdGFydFByb21pc2UsXG4gICAgKCkgPT4ge1xuICAgICAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG4gICAgICBjb250cm9sbGVyLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJBZHZhbmNlUXVldWVJZk5lZWRlZChjb250cm9sbGVyKTtcbiAgICB9LFxuICAgIHIgPT4ge1xuICAgICAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yaW5nJyk7XG4gICAgICBjb250cm9sbGVyLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgIFdyaXRhYmxlU3RyZWFtRGVhbFdpdGhSZWplY3Rpb24oc3RyZWFtLCByKTtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIFNldFVwV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckZyb21VbmRlcmx5aW5nU2luazxXPihzdHJlYW06IFdyaXRhYmxlU3RyZWFtPFc+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybHlpbmdTaW5rOiBWYWxpZGF0ZWRVbmRlcmx5aW5nU2luazxXPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFc+KSB7XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBPYmplY3QuY3JlYXRlKFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlKTtcblxuICBsZXQgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPiA9ICgpID0+IHVuZGVmaW5lZDtcbiAgbGV0IHdyaXRlQWxnb3JpdGhtOiAoY2h1bms6IFcpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIGxldCBjbG9zZUFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPiA9ICgpID0+IHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgbGV0IGFib3J0QWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG5cbiAgaWYgKHVuZGVybHlpbmdTaW5rLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydEFsZ29yaXRobSA9ICgpID0+IHVuZGVybHlpbmdTaW5rLnN0YXJ0IShjb250cm9sbGVyKTtcbiAgfVxuICBpZiAodW5kZXJseWluZ1Npbmsud3JpdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHdyaXRlQWxnb3JpdGhtID0gY2h1bmsgPT4gdW5kZXJseWluZ1Npbmsud3JpdGUhKGNodW5rLCBjb250cm9sbGVyKTtcbiAgfVxuICBpZiAodW5kZXJseWluZ1NpbmsuY2xvc2UgIT09IHVuZGVmaW5lZCkge1xuICAgIGNsb3NlQWxnb3JpdGhtID0gKCkgPT4gdW5kZXJseWluZ1NpbmsuY2xvc2UhKCk7XG4gIH1cbiAgaWYgKHVuZGVybHlpbmdTaW5rLmFib3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBhYm9ydEFsZ29yaXRobSA9IHJlYXNvbiA9PiB1bmRlcmx5aW5nU2luay5hYm9ydCEocmVhc29uKTtcbiAgfVxuXG4gIFNldFVwV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcihcbiAgICBzdHJlYW0sIGNvbnRyb2xsZXIsIHN0YXJ0QWxnb3JpdGhtLCB3cml0ZUFsZ29yaXRobSwgY2xvc2VBbGdvcml0aG0sIGFib3J0QWxnb3JpdGhtLCBoaWdoV2F0ZXJNYXJrLCBzaXplQWxnb3JpdGhtXG4gICk7XG59XG5cbi8vIENsZWFyQWxnb3JpdGhtcyBtYXkgYmUgY2FsbGVkIHR3aWNlLiBFcnJvcmluZyB0aGUgc2FtZSBzdHJlYW0gaW4gbXVsdGlwbGUgd2F5cyB3aWxsIG9mdGVuIHJlc3VsdCBpbiByZWR1bmRhbnQgY2FsbHMuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55Pikge1xuICBjb250cm9sbGVyLl93cml0ZUFsZ29yaXRobSA9IHVuZGVmaW5lZCE7XG4gIGNvbnRyb2xsZXIuX2Nsb3NlQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbiAgY29udHJvbGxlci5fYWJvcnRBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9zdHJhdGVneVNpemVBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2U8Vz4oY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXPikge1xuICBFbnF1ZXVlVmFsdWVXaXRoU2l6ZShjb250cm9sbGVyLCBjbG9zZVNlbnRpbmVsLCAwKTtcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckFkdmFuY2VRdWV1ZUlmTmVlZGVkKGNvbnRyb2xsZXIpO1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0Q2h1bmtTaXplPFc+KGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Vz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiBXKTogbnVtYmVyIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gY29udHJvbGxlci5fc3RyYXRlZ3lTaXplQWxnb3JpdGhtKGNodW5rKTtcbiAgfSBjYXRjaCAoY2h1bmtTaXplRSkge1xuICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcklmTmVlZGVkKGNvbnRyb2xsZXIsIGNodW5rU2l6ZUUpO1xuICAgIHJldHVybiAxO1xuICB9XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZShjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4pOiBudW1iZXIge1xuICByZXR1cm4gY29udHJvbGxlci5fc3RyYXRlZ3lIV00gLSBjb250cm9sbGVyLl9xdWV1ZVRvdGFsU2l6ZTtcbn1cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcldyaXRlPFc+KGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Vz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IFcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtTaXplOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICBFbnF1ZXVlVmFsdWVXaXRoU2l6ZShjb250cm9sbGVyLCBjaHVuaywgY2h1bmtTaXplKTtcbiAgfSBjYXRjaCAoZW5xdWV1ZUUpIHtcbiAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3JJZk5lZWRlZChjb250cm9sbGVyLCBlbnF1ZXVlRSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtO1xuICBpZiAoIVdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KHN0cmVhbSkgJiYgc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJykge1xuICAgIGNvbnN0IGJhY2twcmVzc3VyZSA9IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXRCYWNrcHJlc3N1cmUoY29udHJvbGxlcik7XG4gICAgV3JpdGFibGVTdHJlYW1VcGRhdGVCYWNrcHJlc3N1cmUoc3RyZWFtLCBiYWNrcHJlc3N1cmUpO1xuICB9XG5cbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckFkdmFuY2VRdWV1ZUlmTmVlZGVkKGNvbnRyb2xsZXIpO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5cblxuZnVuY3Rpb24gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckFkdmFuY2VRdWV1ZUlmTmVlZGVkPFc+KGNvbnRyb2xsZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Vz4pIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtO1xuXG4gIGlmICghY29udHJvbGxlci5fc3RhcnRlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChzdHJlYW0uX2luRmxpZ2h0V3JpdGVSZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdGF0ZSA9IHN0cmVhbS5fc3RhdGU7XG4gIGFzc2VydChzdGF0ZSAhPT0gJ2Nsb3NlZCcgJiYgc3RhdGUgIT09ICdlcnJvcmVkJyk7XG4gIGlmIChzdGF0ZSA9PT0gJ2Vycm9yaW5nJykge1xuICAgIFdyaXRhYmxlU3RyZWFtRmluaXNoRXJyb3Jpbmcoc3RyZWFtKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY29udHJvbGxlci5fcXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdmFsdWUgPSBQZWVrUXVldWVWYWx1ZShjb250cm9sbGVyKTtcbiAgaWYgKHZhbHVlID09PSBjbG9zZVNlbnRpbmVsKSB7XG4gICAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlclByb2Nlc3NDbG9zZShjb250cm9sbGVyKTtcbiAgfSBlbHNlIHtcbiAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyUHJvY2Vzc1dyaXRlKGNvbnRyb2xsZXIsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3JJZk5lZWRlZChjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4sIGVycm9yOiBhbnkpIHtcbiAgaWYgKGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbS5fc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgZXJyb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJQcm9jZXNzQ2xvc2UoY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KSB7XG4gIGNvbnN0IHN0cmVhbSA9IGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRXcml0YWJsZVN0cmVhbTtcblxuICBXcml0YWJsZVN0cmVhbU1hcmtDbG9zZVJlcXVlc3RJbkZsaWdodChzdHJlYW0pO1xuXG4gIERlcXVldWVWYWx1ZShjb250cm9sbGVyKTtcbiAgYXNzZXJ0KGNvbnRyb2xsZXIuX3F1ZXVlLmxlbmd0aCA9PT0gMCk7XG5cbiAgY29uc3Qgc2lua0Nsb3NlUHJvbWlzZSA9IGNvbnRyb2xsZXIuX2Nsb3NlQWxnb3JpdGhtKCk7XG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbGVhckFsZ29yaXRobXMoY29udHJvbGxlcik7XG4gIHVwb25Qcm9taXNlKFxuICAgIHNpbmtDbG9zZVByb21pc2UsXG4gICAgKCkgPT4ge1xuICAgICAgV3JpdGFibGVTdHJlYW1GaW5pc2hJbkZsaWdodENsb3NlKHN0cmVhbSk7XG4gICAgfSxcbiAgICByZWFzb24gPT4ge1xuICAgICAgV3JpdGFibGVTdHJlYW1GaW5pc2hJbkZsaWdodENsb3NlV2l0aEVycm9yKHN0cmVhbSwgcmVhc29uKTtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJQcm9jZXNzV3JpdGU8Vz4oY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxXPiwgY2h1bms6IFcpIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtO1xuXG4gIFdyaXRhYmxlU3RyZWFtTWFya0ZpcnN0V3JpdGVSZXF1ZXN0SW5GbGlnaHQoc3RyZWFtKTtcblxuICBjb25zdCBzaW5rV3JpdGVQcm9taXNlID0gY29udHJvbGxlci5fd3JpdGVBbGdvcml0aG0oY2h1bmspO1xuICB1cG9uUHJvbWlzZShcbiAgICBzaW5rV3JpdGVQcm9taXNlLFxuICAgICgpID0+IHtcbiAgICAgIFdyaXRhYmxlU3RyZWFtRmluaXNoSW5GbGlnaHRXcml0ZShzdHJlYW0pO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHN0cmVhbS5fc3RhdGU7XG4gICAgICBhc3NlcnQoc3RhdGUgPT09ICd3cml0YWJsZScgfHwgc3RhdGUgPT09ICdlcnJvcmluZycpO1xuXG4gICAgICBEZXF1ZXVlVmFsdWUoY29udHJvbGxlcik7XG5cbiAgICAgIGlmICghV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoc3RyZWFtKSAmJiBzdGF0ZSA9PT0gJ3dyaXRhYmxlJykge1xuICAgICAgICBjb25zdCBiYWNrcHJlc3N1cmUgPSBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0QmFja3ByZXNzdXJlKGNvbnRyb2xsZXIpO1xuICAgICAgICBXcml0YWJsZVN0cmVhbVVwZGF0ZUJhY2twcmVzc3VyZShzdHJlYW0sIGJhY2twcmVzc3VyZSk7XG4gICAgICB9XG5cbiAgICAgIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJBZHZhbmNlUXVldWVJZk5lZWRlZChjb250cm9sbGVyKTtcbiAgICB9LFxuICAgIHJlYXNvbiA9PiB7XG4gICAgICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ3dyaXRhYmxlJykge1xuICAgICAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgICAgV3JpdGFibGVTdHJlYW1GaW5pc2hJbkZsaWdodFdyaXRlV2l0aEVycm9yKHN0cmVhbSwgcmVhc29uKTtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXRCYWNrcHJlc3N1cmUoY29udHJvbGxlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KTogYm9vbGVhbiB7XG4gIGNvbnN0IGRlc2lyZWRTaXplID0gV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldERlc2lyZWRTaXplKGNvbnRyb2xsZXIpO1xuICByZXR1cm4gZGVzaXJlZFNpemUgPD0gMDtcbn1cblxuLy8gQSBjbGllbnQgb2YgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciBtYXkgdXNlIHRoZXNlIGZ1bmN0aW9ucyBkaXJlY3RseSB0byBieXBhc3Mgc3RhdGUgY2hlY2suXG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4sIGVycm9yOiBhbnkpIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFdyaXRhYmxlU3RyZWFtO1xuXG4gIGFzc2VydChzdHJlYW0uX3N0YXRlID09PSAnd3JpdGFibGUnKTtcblxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICBXcml0YWJsZVN0cmVhbVN0YXJ0RXJyb3Jpbmcoc3RyZWFtLCBlcnJvcik7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBXcml0YWJsZVN0cmVhbS5cblxuZnVuY3Rpb24gc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihgV3JpdGFibGVTdHJlYW0ucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFdyaXRhYmxlU3RyZWFtYCk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLlxuXG5mdW5jdGlvbiBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJgKTtcbn1cblxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLlxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcbiAgICBgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJgKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckxvY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCAnICsgbmFtZSArICcgYSBzdHJlYW0gdXNpbmcgYSByZWxlYXNlZCB3cml0ZXInKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKSB7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZSA9IG5ld1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVqZWN0ID0gcmVqZWN0O1xuICAgIHdyaXRlci5fY2xvc2VkUHJvbWlzZVN0YXRlID0gJ3BlbmRpbmcnO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplQXNSZWplY3RlZCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgcmVhc29uOiBhbnkpIHtcbiAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplKHdyaXRlcik7XG4gIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlUmVqZWN0KHdyaXRlciwgcmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VJbml0aWFsaXplQXNSZXNvbHZlZCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemUod3JpdGVyKTtcbiAgZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VSZXNvbHZlKHdyaXRlcik7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJDbG9zZWRQcm9taXNlUmVqZWN0KHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCByZWFzb246IGFueSkge1xuICBpZiAod3JpdGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydCh3cml0ZXIuX2Nsb3NlZFByb21pc2VTdGF0ZSA9PT0gJ3BlbmRpbmcnKTtcblxuICBzZXRQcm9taXNlSXNIYW5kbGVkVG9UcnVlKHdyaXRlci5fY2xvc2VkUHJvbWlzZSk7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZWplY3QocmVhc29uKTtcbiAgd3JpdGVyLl9jbG9zZWRQcm9taXNlX3Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZWplY3QgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fY2xvc2VkUHJvbWlzZVN0YXRlID0gJ3JlamVjdGVkJztcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VSZXNldFRvUmVqZWN0ZWQod3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsIHJlYXNvbjogYW55KSB7XG4gIGFzc2VydCh3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9PT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHdyaXRlci5fY2xvc2VkUHJvbWlzZV9yZWplY3QgPT09IHVuZGVmaW5lZCk7XG4gIGFzc2VydCh3cml0ZXIuX2Nsb3NlZFByb21pc2VTdGF0ZSAhPT0gJ3BlbmRpbmcnKTtcblxuICBkZWZhdWx0V3JpdGVyQ2xvc2VkUHJvbWlzZUluaXRpYWxpemVBc1JlamVjdGVkKHdyaXRlciwgcmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFdyaXRlckNsb3NlZFByb21pc2VSZXNvbHZlKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyKSB7XG4gIGlmICh3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydCh3cml0ZXIuX2Nsb3NlZFByb21pc2VTdGF0ZSA9PT0gJ3BlbmRpbmcnKTtcblxuICB3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSh1bmRlZmluZWQpO1xuICB3cml0ZXIuX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSA9IHVuZGVmaW5lZDtcbiAgd3JpdGVyLl9jbG9zZWRQcm9taXNlX3JlamVjdCA9IHVuZGVmaW5lZDtcbiAgd3JpdGVyLl9jbG9zZWRQcm9taXNlU3RhdGUgPSAncmVzb2x2ZWQnO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZSA9IG5ld1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHdyaXRlci5fcmVhZHlQcm9taXNlX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgIHdyaXRlci5fcmVhZHlQcm9taXNlX3JlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHdyaXRlci5fcmVhZHlQcm9taXNlU3RhdGUgPSAncGVuZGluZyc7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VJbml0aWFsaXplQXNSZWplY3RlZCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgcmVhc29uOiBhbnkpIHtcbiAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZUluaXRpYWxpemUod3JpdGVyKTtcbiAgZGVmYXVsdFdyaXRlclJlYWR5UHJvbWlzZVJlamVjdCh3cml0ZXIsIHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VJbml0aWFsaXplQXNSZXNvbHZlZCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZSh3cml0ZXIpO1xuICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVzb2x2ZSh3cml0ZXIpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVqZWN0KHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCByZWFzb246IGFueSkge1xuICBpZiAod3JpdGVyLl9yZWFkeVByb21pc2VfcmVqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzZXRQcm9taXNlSXNIYW5kbGVkVG9UcnVlKHdyaXRlci5fcmVhZHlQcm9taXNlKTtcbiAgd3JpdGVyLl9yZWFkeVByb21pc2VfcmVqZWN0KHJlYXNvbik7XG4gIHdyaXRlci5fcmVhZHlQcm9taXNlX3Jlc29sdmUgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fcmVhZHlQcm9taXNlX3JlamVjdCA9IHVuZGVmaW5lZDtcbiAgd3JpdGVyLl9yZWFkeVByb21pc2VTdGF0ZSA9ICdyZWplY3RlZCc7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZXJSZWFkeVByb21pc2VSZXNldCh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICBhc3NlcnQod3JpdGVyLl9yZWFkeVByb21pc2VfcmVzb2x2ZSA9PT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHdyaXRlci5fcmVhZHlQcm9taXNlX3JlamVjdCA9PT0gdW5kZWZpbmVkKTtcblxuICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZSh3cml0ZXIpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVzZXRUb1JlamVjdGVkKHdyaXRlcjogV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCByZWFzb246IGFueSkge1xuICBhc3NlcnQod3JpdGVyLl9yZWFkeVByb21pc2VfcmVzb2x2ZSA9PT0gdW5kZWZpbmVkKTtcbiAgYXNzZXJ0KHdyaXRlci5fcmVhZHlQcm9taXNlX3JlamVjdCA9PT0gdW5kZWZpbmVkKTtcblxuICBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlSW5pdGlhbGl6ZUFzUmVqZWN0ZWQod3JpdGVyLCByZWFzb24pO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0V3JpdGVyUmVhZHlQcm9taXNlUmVzb2x2ZSh3cml0ZXI6IFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcikge1xuICBpZiAod3JpdGVyLl9yZWFkeVByb21pc2VfcmVzb2x2ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd3JpdGVyLl9yZWFkeVByb21pc2VfcmVzb2x2ZSh1bmRlZmluZWQpO1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICB3cml0ZXIuX3JlYWR5UHJvbWlzZV9yZWplY3QgPSB1bmRlZmluZWQ7XG4gIHdyaXRlci5fcmVhZHlQcm9taXNlU3RhdGUgPSAnZnVsZmlsbGVkJztcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIGxpYj1cImRvbVwiIC8+XG5leHBvcnQgY29uc3QgTmF0aXZlRE9NRXhjZXB0aW9uOiB0eXBlb2YgRE9NRXhjZXB0aW9uIHwgdW5kZWZpbmVkID1cbiAgdHlwZW9mIERPTUV4Y2VwdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBET01FeGNlcHRpb24gOiB1bmRlZmluZWQ7XG4iLCIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm5vZGVcIiAvPlxuaW1wb3J0IHsgTmF0aXZlRE9NRXhjZXB0aW9uIH0gZnJvbSAnLi9uYXRpdmUnO1xuXG5kZWNsYXJlIGNsYXNzIERPTUV4Y2VwdGlvbkNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlPzogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTtcblxuICBuYW1lOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxudHlwZSBET01FeGNlcHRpb24gPSBET01FeGNlcHRpb25DbGFzcztcbnR5cGUgRE9NRXhjZXB0aW9uQ29uc3RydWN0b3IgPSB0eXBlb2YgRE9NRXhjZXB0aW9uQ2xhc3M7XG5cbmZ1bmN0aW9uIGlzRE9NRXhjZXB0aW9uQ29uc3RydWN0b3IoY3RvcjogdW5rbm93bik6IGN0b3IgaXMgRE9NRXhjZXB0aW9uQ29uc3RydWN0b3Ige1xuICBpZiAoISh0eXBlb2YgY3RvciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgY3RvciA9PT0gJ29iamVjdCcpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgbmV3IChjdG9yIGFzIERPTUV4Y2VwdGlvbkNvbnN0cnVjdG9yKSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRE9NRXhjZXB0aW9uUG9seWZpbGwoKTogRE9NRXhjZXB0aW9uQ29uc3RydWN0b3Ige1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2hhZG93XG4gIGNvbnN0IGN0b3IgPSBmdW5jdGlvbiBET01FeGNlcHRpb24odGhpczogRE9NRXhjZXB0aW9uLCBtZXNzYWdlPzogc3RyaW5nLCBuYW1lPzogc3RyaW5nKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCAnJztcbiAgICB0aGlzLm5hbWUgPSBuYW1lIHx8ICdFcnJvcic7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICB9XG4gIH0gYXMgYW55O1xuICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0b3IucHJvdG90eXBlLCAnY29uc3RydWN0b3InLCB7IHZhbHVlOiBjdG9yLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuICByZXR1cm4gY3Rvcjtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuY29uc3QgRE9NRXhjZXB0aW9uOiBET01FeGNlcHRpb25Db25zdHJ1Y3RvciA9XG4gIGlzRE9NRXhjZXB0aW9uQ29uc3RydWN0b3IoTmF0aXZlRE9NRXhjZXB0aW9uKSA/IE5hdGl2ZURPTUV4Y2VwdGlvbiA6IGNyZWF0ZURPTUV4Y2VwdGlvblBvbHlmaWxsKCk7XG5cbmV4cG9ydCB7IERPTUV4Y2VwdGlvbiB9O1xuIiwiaW1wb3J0IHsgSXNSZWFkYWJsZVN0cmVhbSwgSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCwgUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlU3RyZWFtQ2FuY2VsIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7IEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQgfSBmcm9tICcuL2RlZmF1bHQtcmVhZGVyJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtUmVhZGVyR2VuZXJpY1JlbGVhc2UgfSBmcm9tICcuL2dlbmVyaWMtcmVhZGVyJztcbmltcG9ydCB7XG4gIEFjcXVpcmVXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsXG4gIElzV3JpdGFibGVTdHJlYW0sXG4gIElzV3JpdGFibGVTdHJlYW1Mb2NrZWQsXG4gIFdyaXRhYmxlU3RyZWFtLFxuICBXcml0YWJsZVN0cmVhbUFib3J0LFxuICBXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodCxcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyQ2xvc2VXaXRoRXJyb3JQcm9wYWdhdGlvbixcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyUmVsZWFzZSxcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyV3JpdGVcbn0gZnJvbSAnLi4vd3JpdGFibGUtc3RyZWFtJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHtcbiAgbmV3UHJvbWlzZSxcbiAgUGVyZm9ybVByb21pc2VUaGVuLFxuICBwcm9taXNlUmVzb2x2ZWRXaXRoLFxuICBzZXRQcm9taXNlSXNIYW5kbGVkVG9UcnVlLFxuICB1cG9uRnVsZmlsbG1lbnQsXG4gIHVwb25Qcm9taXNlLFxuICB1cG9uUmVqZWN0aW9uXG59IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBBYm9ydFNpZ25hbCwgaXNBYm9ydFNpZ25hbCB9IGZyb20gJy4uL2Fib3J0LXNpZ25hbCc7XG5pbXBvcnQgeyBET01FeGNlcHRpb24gfSBmcm9tICcuLi8uLi9zdHViL2RvbS1leGNlcHRpb24nO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1QaXBlVG88VD4oc291cmNlOiBSZWFkYWJsZVN0cmVhbTxUPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0OiBXcml0YWJsZVN0cmVhbTxUPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50Q2xvc2U6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudEFib3J0OiBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnRDYW5jZWw6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsOiBBYm9ydFNpZ25hbCB8IHVuZGVmaW5lZCk6IFByb21pc2U8dW5kZWZpbmVkPiB7XG4gIGFzc2VydChJc1JlYWRhYmxlU3RyZWFtKHNvdXJjZSkpO1xuICBhc3NlcnQoSXNXcml0YWJsZVN0cmVhbShkZXN0KSk7XG4gIGFzc2VydCh0eXBlb2YgcHJldmVudENsb3NlID09PSAnYm9vbGVhbicpO1xuICBhc3NlcnQodHlwZW9mIHByZXZlbnRBYm9ydCA9PT0gJ2Jvb2xlYW4nKTtcbiAgYXNzZXJ0KHR5cGVvZiBwcmV2ZW50Q2FuY2VsID09PSAnYm9vbGVhbicpO1xuICBhc3NlcnQoc2lnbmFsID09PSB1bmRlZmluZWQgfHwgaXNBYm9ydFNpZ25hbChzaWduYWwpKTtcbiAgYXNzZXJ0KCFJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHNvdXJjZSkpO1xuICBhc3NlcnQoIUlzV3JpdGFibGVTdHJlYW1Mb2NrZWQoZGVzdCkpO1xuXG4gIGNvbnN0IHJlYWRlciA9IEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8VD4oc291cmNlKTtcbiAgY29uc3Qgd3JpdGVyID0gQWNxdWlyZVdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcjxUPihkZXN0KTtcblxuICBzb3VyY2UuX2Rpc3R1cmJlZCA9IHRydWU7XG5cbiAgbGV0IHNodXR0aW5nRG93biA9IGZhbHNlO1xuXG4gIC8vIFRoaXMgaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBzcGVjJ3MgcmVxdWlyZW1lbnQgdGhhdCB3ZSB3YWl0IGZvciBvbmdvaW5nIHdyaXRlcyBkdXJpbmcgc2h1dGRvd24uXG4gIGxldCBjdXJyZW50V3JpdGUgPSBwcm9taXNlUmVzb2x2ZWRXaXRoPHZvaWQ+KHVuZGVmaW5lZCk7XG5cbiAgcmV0dXJuIG5ld1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBhYm9ydEFsZ29yaXRobTogKCkgPT4gdm9pZDtcbiAgICBpZiAoc2lnbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFib3J0QWxnb3JpdGhtID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpO1xuICAgICAgICBjb25zdCBhY3Rpb25zOiBBcnJheTwoKSA9PiBQcm9taXNlPHZvaWQ+PiA9IFtdO1xuICAgICAgICBpZiAoIXByZXZlbnRBYm9ydCkge1xuICAgICAgICAgIGFjdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVzdC5fc3RhdGUgPT09ICd3cml0YWJsZScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFdyaXRhYmxlU3RyZWFtQWJvcnQoZGVzdCwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByZXZlbnRDYW5jZWwpIHtcbiAgICAgICAgICBhY3Rpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNvdXJjZS5fc3RhdGUgPT09ICdyZWFkYWJsZScpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHNvdXJjZSwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzaHV0ZG93bldpdGhBY3Rpb24oKCkgPT4gUHJvbWlzZS5hbGwoYWN0aW9ucy5tYXAoYWN0aW9uID0+IGFjdGlvbigpKSksIHRydWUsIGVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBhYm9ydEFsZ29yaXRobSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0QWxnb3JpdGhtKTtcbiAgICB9XG5cbiAgICAvLyBVc2luZyByZWFkZXIgYW5kIHdyaXRlciwgcmVhZCBhbGwgY2h1bmtzIGZyb20gdGhpcyBhbmQgd3JpdGUgdGhlbSB0byBkZXN0XG4gICAgLy8gLSBCYWNrcHJlc3N1cmUgbXVzdCBiZSBlbmZvcmNlZFxuICAgIC8vIC0gU2h1dGRvd24gbXVzdCBzdG9wIGFsbCBhY3Rpdml0eVxuICAgIGZ1bmN0aW9uIHBpcGVMb29wKCkge1xuICAgICAgcmV0dXJuIG5ld1Byb21pc2U8dm9pZD4oKHJlc29sdmVMb29wLCByZWplY3RMb29wKSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoZG9uZTogYm9vbGVhbikge1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICByZXNvbHZlTG9vcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgYFBlcmZvcm1Qcm9taXNlVGhlbmAgaW5zdGVhZCBvZiBgdXBvblByb21pc2VgIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBhZGRpbmcgdW5uZWNlc3NhcnkgYC5jYXRjaChyZXRocm93QXNzZXJ0aW9uRXJyb3JSZWplY3Rpb24pYCBoYW5kbGVyc1xuICAgICAgICAgICAgUGVyZm9ybVByb21pc2VUaGVuKHBpcGVTdGVwKCksIG5leHQsIHJlamVjdExvb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQoZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGlwZVN0ZXAoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICBpZiAoc2h1dHRpbmdEb3duKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHRydWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUGVyZm9ybVByb21pc2VUaGVuKHdyaXRlci5fcmVhZHlQcm9taXNlLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXdQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlUmVhZCwgcmVqZWN0UmVhZCkgPT4ge1xuICAgICAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQoXG4gICAgICAgICAgICByZWFkZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIF9jaHVua1N0ZXBzOiBjaHVuayA9PiB7XG4gICAgICAgICAgICAgICAgY3VycmVudFdyaXRlID0gUGVyZm9ybVByb21pc2VUaGVuKFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlcldyaXRlKHdyaXRlciwgY2h1bmspLCB1bmRlZmluZWQsIG5vb3ApO1xuICAgICAgICAgICAgICAgIHJlc29sdmVSZWFkKGZhbHNlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgX2Nsb3NlU3RlcHM6ICgpID0+IHJlc29sdmVSZWFkKHRydWUpLFxuICAgICAgICAgICAgICBfZXJyb3JTdGVwczogcmVqZWN0UmVhZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRXJyb3JzIG11c3QgYmUgcHJvcGFnYXRlZCBmb3J3YXJkXG4gICAgaXNPckJlY29tZXNFcnJvcmVkKHNvdXJjZSwgcmVhZGVyLl9jbG9zZWRQcm9taXNlLCBzdG9yZWRFcnJvciA9PiB7XG4gICAgICBpZiAoIXByZXZlbnRBYm9ydCkge1xuICAgICAgICBzaHV0ZG93bldpdGhBY3Rpb24oKCkgPT4gV3JpdGFibGVTdHJlYW1BYm9ydChkZXN0LCBzdG9yZWRFcnJvciksIHRydWUsIHN0b3JlZEVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNodXRkb3duKHRydWUsIHN0b3JlZEVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEVycm9ycyBtdXN0IGJlIHByb3BhZ2F0ZWQgYmFja3dhcmRcbiAgICBpc09yQmVjb21lc0Vycm9yZWQoZGVzdCwgd3JpdGVyLl9jbG9zZWRQcm9taXNlLCBzdG9yZWRFcnJvciA9PiB7XG4gICAgICBpZiAoIXByZXZlbnRDYW5jZWwpIHtcbiAgICAgICAgc2h1dGRvd25XaXRoQWN0aW9uKCgpID0+IFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHNvdXJjZSwgc3RvcmVkRXJyb3IpLCB0cnVlLCBzdG9yZWRFcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaHV0ZG93bih0cnVlLCBzdG9yZWRFcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbG9zaW5nIG11c3QgYmUgcHJvcGFnYXRlZCBmb3J3YXJkXG4gICAgaXNPckJlY29tZXNDbG9zZWQoc291cmNlLCByZWFkZXIuX2Nsb3NlZFByb21pc2UsICgpID0+IHtcbiAgICAgIGlmICghcHJldmVudENsb3NlKSB7XG4gICAgICAgIHNodXRkb3duV2l0aEFjdGlvbigoKSA9PiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJDbG9zZVdpdGhFcnJvclByb3BhZ2F0aW9uKHdyaXRlcikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2h1dGRvd24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENsb3NpbmcgbXVzdCBiZSBwcm9wYWdhdGVkIGJhY2t3YXJkXG4gICAgaWYgKFdyaXRhYmxlU3RyZWFtQ2xvc2VRdWV1ZWRPckluRmxpZ2h0KGRlc3QpIHx8IGRlc3QuX3N0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgY29uc3QgZGVzdENsb3NlZCA9IG5ldyBUeXBlRXJyb3IoJ3RoZSBkZXN0aW5hdGlvbiB3cml0YWJsZSBzdHJlYW0gY2xvc2VkIGJlZm9yZSBhbGwgZGF0YSBjb3VsZCBiZSBwaXBlZCB0byBpdCcpO1xuXG4gICAgICBpZiAoIXByZXZlbnRDYW5jZWwpIHtcbiAgICAgICAgc2h1dGRvd25XaXRoQWN0aW9uKCgpID0+IFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHNvdXJjZSwgZGVzdENsb3NlZCksIHRydWUsIGRlc3RDbG9zZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2h1dGRvd24odHJ1ZSwgZGVzdENsb3NlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZShwaXBlTG9vcCgpKTtcblxuICAgIGZ1bmN0aW9uIHdhaXRGb3JXcml0ZXNUb0ZpbmlzaCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgIC8vIEFub3RoZXIgd3JpdGUgbWF5IGhhdmUgc3RhcnRlZCB3aGlsZSB3ZSB3ZXJlIHdhaXRpbmcgb24gdGhpcyBjdXJyZW50V3JpdGUsIHNvIHdlIGhhdmUgdG8gYmUgc3VyZSB0byB3YWl0XG4gICAgICAvLyBmb3IgdGhhdCB0b28uXG4gICAgICBjb25zdCBvbGRDdXJyZW50V3JpdGUgPSBjdXJyZW50V3JpdGU7XG4gICAgICByZXR1cm4gUGVyZm9ybVByb21pc2VUaGVuKFxuICAgICAgICBjdXJyZW50V3JpdGUsXG4gICAgICAgICgpID0+IG9sZEN1cnJlbnRXcml0ZSAhPT0gY3VycmVudFdyaXRlID8gd2FpdEZvcldyaXRlc1RvRmluaXNoKCkgOiB1bmRlZmluZWRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPckJlY29tZXNFcnJvcmVkKHN0cmVhbTogUmVhZGFibGVTdHJlYW0gfCBXcml0YWJsZVN0cmVhbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZTogUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAocmVhc29uOiBhbnkpID0+IHZvaWQpIHtcbiAgICAgIGlmIChzdHJlYW0uX3N0YXRlID09PSAnZXJyb3JlZCcpIHtcbiAgICAgICAgYWN0aW9uKHN0cmVhbS5fc3RvcmVkRXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBvblJlamVjdGlvbihwcm9taXNlLCBhY3Rpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT3JCZWNvbWVzQ2xvc2VkKHN0cmVhbTogUmVhZGFibGVTdHJlYW0gfCBXcml0YWJsZVN0cmVhbSwgcHJvbWlzZTogUHJvbWlzZTx2b2lkPiwgYWN0aW9uOiAoKSA9PiB2b2lkKSB7XG4gICAgICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgYWN0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cG9uRnVsZmlsbG1lbnQocHJvbWlzZSwgYWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaHV0ZG93bldpdGhBY3Rpb24oYWN0aW9uOiAoKSA9PiBQcm9taXNlPHVua25vd24+LCBvcmlnaW5hbElzRXJyb3I/OiBib29sZWFuLCBvcmlnaW5hbEVycm9yPzogYW55KSB7XG4gICAgICBpZiAoc2h1dHRpbmdEb3duKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNodXR0aW5nRG93biA9IHRydWU7XG5cbiAgICAgIGlmIChkZXN0Ll9zdGF0ZSA9PT0gJ3dyaXRhYmxlJyAmJiAhV3JpdGFibGVTdHJlYW1DbG9zZVF1ZXVlZE9ySW5GbGlnaHQoZGVzdCkpIHtcbiAgICAgICAgdXBvbkZ1bGZpbGxtZW50KHdhaXRGb3JXcml0ZXNUb0ZpbmlzaCgpLCBkb1RoZVJlc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9UaGVSZXN0KCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRvVGhlUmVzdCgpIHtcbiAgICAgICAgdXBvblByb21pc2UoXG4gICAgICAgICAgYWN0aW9uKCksXG4gICAgICAgICAgKCkgPT4gZmluYWxpemUob3JpZ2luYWxJc0Vycm9yLCBvcmlnaW5hbEVycm9yKSxcbiAgICAgICAgICBuZXdFcnJvciA9PiBmaW5hbGl6ZSh0cnVlLCBuZXdFcnJvcilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaHV0ZG93bihpc0Vycm9yPzogYm9vbGVhbiwgZXJyb3I/OiBhbnkpIHtcbiAgICAgIGlmIChzaHV0dGluZ0Rvd24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2h1dHRpbmdEb3duID0gdHJ1ZTtcblxuICAgICAgaWYgKGRlc3QuX3N0YXRlID09PSAnd3JpdGFibGUnICYmICFXcml0YWJsZVN0cmVhbUNsb3NlUXVldWVkT3JJbkZsaWdodChkZXN0KSkge1xuICAgICAgICB1cG9uRnVsZmlsbG1lbnQod2FpdEZvcldyaXRlc1RvRmluaXNoKCksICgpID0+IGZpbmFsaXplKGlzRXJyb3IsIGVycm9yKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbGl6ZShpc0Vycm9yLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluYWxpemUoaXNFcnJvcj86IGJvb2xlYW4sIGVycm9yPzogYW55KSB7XG4gICAgICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXJSZWxlYXNlKHdyaXRlcik7XG4gICAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcik7XG5cbiAgICAgIGlmIChzaWduYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydEFsZ29yaXRobSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNFcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2sgfSBmcm9tICcuLi9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vLi4vc3R1Yi9hc3NlcnQnO1xuaW1wb3J0IHsgRGVxdWV1ZVZhbHVlLCBFbnF1ZXVlVmFsdWVXaXRoU2l6ZSwgUXVldWVQYWlyLCBSZXNldFF1ZXVlIH0gZnJvbSAnLi4vYWJzdHJhY3Qtb3BzL3F1ZXVlLXdpdGgtc2l6ZXMnO1xuaW1wb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1BZGRSZWFkUmVxdWVzdCxcbiAgUmVhZGFibGVTdHJlYW1GdWxmaWxsUmVhZFJlcXVlc3QsXG4gIFJlYWRhYmxlU3RyZWFtR2V0TnVtUmVhZFJlcXVlc3RzLFxuICBSZWFkUmVxdWVzdFxufSBmcm9tICcuL2RlZmF1bHQtcmVhZGVyJztcbmltcG9ydCB7IFNpbXBsZVF1ZXVlIH0gZnJvbSAnLi4vc2ltcGxlLXF1ZXVlJztcbmltcG9ydCB7IElzUmVhZGFibGVTdHJlYW1Mb2NrZWQsIFJlYWRhYmxlU3RyZWFtLCBSZWFkYWJsZVN0cmVhbUNsb3NlLCBSZWFkYWJsZVN0cmVhbUVycm9yIH0gZnJvbSAnLi4vcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7IFZhbGlkYXRlZFVuZGVybHlpbmdTb3VyY2UgfSBmcm9tICcuL3VuZGVybHlpbmctc291cmNlJztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4uL2hlbHBlcnMvbWlzY2VsbGFuZW91cyc7XG5pbXBvcnQgeyBDYW5jZWxTdGVwcywgUHVsbFN0ZXBzIH0gZnJvbSAnLi4vYWJzdHJhY3Qtb3BzL2ludGVybmFsLW1ldGhvZHMnO1xuaW1wb3J0IHsgcHJvbWlzZVJlc29sdmVkV2l0aCwgdXBvblByb21pc2UgfSBmcm9tICcuLi9oZWxwZXJzL3dlYmlkbCc7XG5cbi8qKlxuICogQWxsb3dzIGNvbnRyb2wgb2YgYSB7QGxpbmsgUmVhZGFibGVTdHJlYW0gfCByZWFkYWJsZSBzdHJlYW19J3Mgc3RhdGUgYW5kIGludGVybmFsIHF1ZXVlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4ge1xuICAvKiogQGludGVybmFsICovXG4gIF9jb250cm9sbGVkUmVhZGFibGVTdHJlYW0hOiBSZWFkYWJsZVN0cmVhbTxSPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcXVldWUhOiBTaW1wbGVRdWV1ZTxRdWV1ZVBhaXI8Uj4+O1xuICAvKiogQGludGVybmFsICovXG4gIF9xdWV1ZVRvdGFsU2l6ZSE6IG51bWJlcjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfc3RhcnRlZCE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Nsb3NlUmVxdWVzdGVkITogYm9vbGVhbjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcHVsbEFnYWluITogYm9vbGVhbjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfcHVsbGluZyAhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9zdHJhdGVneVNpemVBbGdvcml0aG0hOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8Uj47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0cmF0ZWd5SFdNITogbnVtYmVyO1xuICAvKiogQGludGVybmFsICovXG4gIF9wdWxsQWxnb3JpdGhtITogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY2FuY2VsQWxnb3JpdGhtITogKHJlYXNvbjogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBjb25zdHJ1Y3RvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRlc2lyZWQgc2l6ZSB0byBmaWxsIHRoZSBjb250cm9sbGVkIHN0cmVhbSdzIGludGVybmFsIHF1ZXVlLiBJdCBjYW4gYmUgbmVnYXRpdmUsIGlmIHRoZSBxdWV1ZSBpc1xuICAgKiBvdmVyLWZ1bGwuIEFuIHVuZGVybHlpbmcgc291cmNlIG91Z2h0IHRvIHVzZSB0aGlzIGluZm9ybWF0aW9uIHRvIGRldGVybWluZSB3aGVuIGFuZCBob3cgdG8gYXBwbHkgYmFja3ByZXNzdXJlLlxuICAgKi9cbiAgZ2V0IGRlc2lyZWRTaXplKCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Rlc2lyZWRTaXplJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZSh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGNvbnRyb2xsZWQgcmVhZGFibGUgc3RyZWFtLiBDb25zdW1lcnMgd2lsbCBzdGlsbCBiZSBhYmxlIHRvIHJlYWQgYW55IHByZXZpb3VzbHktZW5xdWV1ZWQgY2h1bmtzIGZyb21cbiAgICogdGhlIHN0cmVhbSwgYnV0IG9uY2UgdGhvc2UgYXJlIHJlYWQsIHRoZSBzdHJlYW0gd2lsbCBiZWNvbWUgY2xvc2VkLlxuICAgKi9cbiAgY2xvc2UoKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignY2xvc2UnKTtcbiAgICB9XG5cbiAgICBpZiAoIVJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDYW5DbG9zZU9yRW5xdWV1ZSh0aGlzKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHN0cmVhbSBpcyBub3QgaW4gYSBzdGF0ZSB0aGF0IHBlcm1pdHMgY2xvc2UnKTtcbiAgICB9XG5cbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2UodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRW5xdWV1ZXMgdGhlIGdpdmVuIGNodW5rIGBjaHVua2AgaW4gdGhlIGNvbnRyb2xsZWQgcmVhZGFibGUgc3RyZWFtLlxuICAgKi9cbiAgZW5xdWV1ZShjaHVuazogUik6IHZvaWQ7XG4gIGVucXVldWUoY2h1bms6IFIgPSB1bmRlZmluZWQhKTogdm9pZCB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIodGhpcykpIHtcbiAgICAgIHRocm93IGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbignZW5xdWV1ZScpO1xuICAgIH1cblxuICAgIGlmICghUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlKHRoaXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgc3RyZWFtIGlzIG5vdCBpbiBhIHN0YXRlIHRoYXQgcGVybWl0cyBlbnF1ZXVlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKHRoaXMsIGNodW5rKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFcnJvcnMgdGhlIGNvbnRyb2xsZWQgcmVhZGFibGUgc3RyZWFtLCBtYWtpbmcgYWxsIGZ1dHVyZSBpbnRlcmFjdGlvbnMgd2l0aCBpdCBmYWlsIHdpdGggdGhlIGdpdmVuIGVycm9yIGBlYC5cbiAgICovXG4gIGVycm9yKGU6IGFueSA9IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKHRoaXMsIGUpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBbQ2FuY2VsU3RlcHNdKHJlYXNvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgUmVzZXRRdWV1ZSh0aGlzKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9jYW5jZWxBbGdvcml0aG0ocmVhc29uKTtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKHRoaXMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIFtQdWxsU3RlcHNdKHJlYWRSZXF1ZXN0OiBSZWFkUmVxdWVzdDxSPik6IHZvaWQge1xuICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbTtcblxuICAgIGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaHVuayA9IERlcXVldWVWYWx1ZSh0aGlzKTtcblxuICAgICAgaWYgKHRoaXMuX2Nsb3NlUmVxdWVzdGVkICYmIHRoaXMuX3F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKHRoaXMpO1xuICAgICAgICBSZWFkYWJsZVN0cmVhbUNsb3NlKHN0cmVhbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZCh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgcmVhZFJlcXVlc3QuX2NodW5rU3RlcHMoY2h1bmspO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFkYWJsZVN0cmVhbUFkZFJlYWRSZXF1ZXN0KHN0cmVhbSwgcmVhZFJlcXVlc3QpO1xuICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLCB7XG4gIGNsb3NlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZW5xdWV1ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGVycm9yOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZGVzaXJlZFNpemU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcicsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG4vLyBBYnN0cmFjdCBvcGVyYXRpb25zIGZvciB0aGUgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5cblxuZnVuY3Rpb24gSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFIgPSBhbnk+KHg6IGFueSk6IHggaXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSPiB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19jb250cm9sbGVkUmVhZGFibGVTdHJlYW0nKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjtcbn1cblxuZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KTogdm9pZCB7XG4gIGNvbnN0IHNob3VsZFB1bGwgPSBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyU2hvdWxkQ2FsbFB1bGwoY29udHJvbGxlcik7XG4gIGlmICghc2hvdWxkUHVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb250cm9sbGVyLl9wdWxsaW5nKSB7XG4gICAgY29udHJvbGxlci5fcHVsbEFnYWluID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBhc3NlcnQoIWNvbnRyb2xsZXIuX3B1bGxBZ2Fpbik7XG5cbiAgY29udHJvbGxlci5fcHVsbGluZyA9IHRydWU7XG5cbiAgY29uc3QgcHVsbFByb21pc2UgPSBjb250cm9sbGVyLl9wdWxsQWxnb3JpdGhtKCk7XG4gIHVwb25Qcm9taXNlKFxuICAgIHB1bGxQcm9taXNlLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuX3B1bGxpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKGNvbnRyb2xsZXIuX3B1bGxBZ2Fpbikge1xuICAgICAgICBjb250cm9sbGVyLl9wdWxsQWdhaW4gPSBmYWxzZTtcbiAgICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSxcbiAgICBlID0+IHtcbiAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyLCBlKTtcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJTaG91bGRDYWxsUHVsbChjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4pOiBib29sZWFuIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtO1xuXG4gIGlmICghUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbkNsb3NlT3JFbnF1ZXVlKGNvbnRyb2xsZXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFjb250cm9sbGVyLl9zdGFydGVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKElzUmVhZGFibGVTdHJlYW1Mb2NrZWQoc3RyZWFtKSAmJiBSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRSZXF1ZXN0cyhzdHJlYW0pID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgZGVzaXJlZFNpemUgPSBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0RGVzaXJlZFNpemUoY29udHJvbGxlcik7XG4gIGFzc2VydChkZXNpcmVkU2l6ZSAhPT0gbnVsbCk7XG4gIGlmIChkZXNpcmVkU2l6ZSEgPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbGVhckFsZ29yaXRobXMoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KSB7XG4gIGNvbnRyb2xsZXIuX3B1bGxBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9jYW5jZWxBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9zdHJhdGVneVNpemVBbGdvcml0aG0gPSB1bmRlZmluZWQhO1xufVxuXG4vLyBBIGNsaWVudCBvZiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyIG1heSB1c2UgdGhlc2UgZnVuY3Rpb25zIGRpcmVjdGx5IHRvIGJ5cGFzcyBzdGF0ZSBjaGVjay5cblxuZXhwb3J0IGZ1bmN0aW9uIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbG9zZShjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT4pIHtcbiAgaWYgKCFSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FuQ2xvc2VPckVucXVldWUoY29udHJvbGxlcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW07XG5cbiAgY29udHJvbGxlci5fY2xvc2VSZXF1ZXN0ZWQgPSB0cnVlO1xuXG4gIGlmIChjb250cm9sbGVyLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICAgIFJlYWRhYmxlU3RyZWFtQ2xvc2Uoc3RyZWFtKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVucXVldWU8Uj4oXG4gIGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4sXG4gIGNodW5rOiBSXG4pOiB2b2lkIHtcbiAgaWYgKCFSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FuQ2xvc2VPckVucXVldWUoY29udHJvbGxlcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW07XG5cbiAgaWYgKElzUmVhZGFibGVTdHJlYW1Mb2NrZWQoc3RyZWFtKSAmJiBSZWFkYWJsZVN0cmVhbUdldE51bVJlYWRSZXF1ZXN0cyhzdHJlYW0pID4gMCkge1xuICAgIFJlYWRhYmxlU3RyZWFtRnVsZmlsbFJlYWRSZXF1ZXN0KHN0cmVhbSwgY2h1bmssIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgY2h1bmtTaXplO1xuICAgIHRyeSB7XG4gICAgICBjaHVua1NpemUgPSBjb250cm9sbGVyLl9zdHJhdGVneVNpemVBbGdvcml0aG0oY2h1bmspO1xuICAgIH0gY2F0Y2ggKGNodW5rU2l6ZUUpIHtcbiAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcihjb250cm9sbGVyLCBjaHVua1NpemVFKTtcbiAgICAgIHRocm93IGNodW5rU2l6ZUU7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIEVucXVldWVWYWx1ZVdpdGhTaXplKGNvbnRyb2xsZXIsIGNodW5rLCBjaHVua1NpemUpO1xuICAgIH0gY2F0Y2ggKGVucXVldWVFKSB7XG4gICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlciwgZW5xdWV1ZUUpO1xuICAgICAgdGhyb3cgZW5xdWV1ZUU7XG4gICAgfVxuICB9XG5cbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNhbGxQdWxsSWZOZWVkZWQoY29udHJvbGxlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+LCBlOiBhbnkpIHtcbiAgY29uc3Qgc3RyZWFtID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtO1xuXG4gIGlmIChzdHJlYW0uX3N0YXRlICE9PSAncmVhZGFibGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgUmVzZXRRdWV1ZShjb250cm9sbGVyKTtcblxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xlYXJBbGdvcml0aG1zKGNvbnRyb2xsZXIpO1xuICBSZWFkYWJsZVN0cmVhbUVycm9yKHN0cmVhbSwgZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyR2V0RGVzaXJlZFNpemUoXG4gIGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55PlxuKTogbnVtYmVyIHwgbnVsbCB7XG4gIGNvbnN0IHN0YXRlID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtLl9zdGF0ZTtcblxuICBpZiAoc3RhdGUgPT09ICdlcnJvcmVkJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiBjb250cm9sbGVyLl9zdHJhdGVneUhXTSAtIGNvbnRyb2xsZXIuX3F1ZXVlVG90YWxTaXplO1xufVxuXG4vLyBUaGlzIGlzIHVzZWQgaW4gdGhlIGltcGxlbWVudGF0aW9uIG9mIFRyYW5zZm9ybVN0cmVhbS5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVySGFzQmFja3ByZXNzdXJlKFxuICBjb250cm9sbGVyOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPGFueT5cbik6IGJvb2xlYW4ge1xuICBpZiAoUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlclNob3VsZENhbGxQdWxsKGNvbnRyb2xsZXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FuQ2xvc2VPckVucXVldWUoXG4gIGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55PlxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHN0YXRlID0gY29udHJvbGxlci5fY29udHJvbGxlZFJlYWRhYmxlU3RyZWFtLl9zdGF0ZTtcblxuICBpZiAoIWNvbnRyb2xsZXIuX2Nsb3NlUmVxdWVzdGVkICYmIHN0YXRlID09PSAncmVhZGFibGUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZXRVcFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVsbEFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hXYXRlck1hcms6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFI+KSB7XG4gIGFzc2VydChzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciA9PT0gdW5kZWZpbmVkKTtcblxuICBjb250cm9sbGVyLl9jb250cm9sbGVkUmVhZGFibGVTdHJlYW0gPSBzdHJlYW07XG5cbiAgY29udHJvbGxlci5fcXVldWUgPSB1bmRlZmluZWQhO1xuICBjb250cm9sbGVyLl9xdWV1ZVRvdGFsU2l6ZSA9IHVuZGVmaW5lZCE7XG4gIFJlc2V0UXVldWUoY29udHJvbGxlcik7XG5cbiAgY29udHJvbGxlci5fc3RhcnRlZCA9IGZhbHNlO1xuICBjb250cm9sbGVyLl9jbG9zZVJlcXVlc3RlZCA9IGZhbHNlO1xuICBjb250cm9sbGVyLl9wdWxsQWdhaW4gPSBmYWxzZTtcbiAgY29udHJvbGxlci5fcHVsbGluZyA9IGZhbHNlO1xuXG4gIGNvbnRyb2xsZXIuX3N0cmF0ZWd5U2l6ZUFsZ29yaXRobSA9IHNpemVBbGdvcml0aG07XG4gIGNvbnRyb2xsZXIuX3N0cmF0ZWd5SFdNID0gaGlnaFdhdGVyTWFyaztcblxuICBjb250cm9sbGVyLl9wdWxsQWxnb3JpdGhtID0gcHVsbEFsZ29yaXRobTtcbiAgY29udHJvbGxlci5fY2FuY2VsQWxnb3JpdGhtID0gY2FuY2VsQWxnb3JpdGhtO1xuXG4gIHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcblxuICBjb25zdCBzdGFydFJlc3VsdCA9IHN0YXJ0QWxnb3JpdGhtKCk7XG4gIHVwb25Qcm9taXNlKFxuICAgIHByb21pc2VSZXNvbHZlZFdpdGgoc3RhcnRSZXN1bHQpLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuX3N0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICBhc3NlcnQoIWNvbnRyb2xsZXIuX3B1bGxpbmcpO1xuICAgICAgYXNzZXJ0KCFjb250cm9sbGVyLl9wdWxsQWdhaW4pO1xuXG4gICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FsbFB1bGxJZk5lZWRlZChjb250cm9sbGVyKTtcbiAgICB9LFxuICAgIHIgPT4ge1xuICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9yKGNvbnRyb2xsZXIsIHIpO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNldFVwUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckZyb21VbmRlcmx5aW5nU291cmNlPFI+KFxuICBzdHJlYW06IFJlYWRhYmxlU3RyZWFtPFI+LFxuICB1bmRlcmx5aW5nU291cmNlOiBWYWxpZGF0ZWRVbmRlcmx5aW5nU291cmNlPFI+LFxuICBoaWdoV2F0ZXJNYXJrOiBudW1iZXIsXG4gIHNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxSPlxuKSB7XG4gIGNvbnN0IGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4gPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlKTtcblxuICBsZXQgc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPiA9ICgpID0+IHVuZGVmaW5lZDtcbiAgbGV0IHB1bGxBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4gPSAoKSA9PiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIGxldCBjYW5jZWxBbGdvcml0aG06IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPiA9ICgpID0+IHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcblxuICBpZiAodW5kZXJseWluZ1NvdXJjZS5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnRBbGdvcml0aG0gPSAoKSA9PiB1bmRlcmx5aW5nU291cmNlLnN0YXJ0IShjb250cm9sbGVyKTtcbiAgfVxuICBpZiAodW5kZXJseWluZ1NvdXJjZS5wdWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBwdWxsQWxnb3JpdGhtID0gKCkgPT4gdW5kZXJseWluZ1NvdXJjZS5wdWxsIShjb250cm9sbGVyKTtcbiAgfVxuICBpZiAodW5kZXJseWluZ1NvdXJjZS5jYW5jZWwgIT09IHVuZGVmaW5lZCkge1xuICAgIGNhbmNlbEFsZ29yaXRobSA9IHJlYXNvbiA9PiB1bmRlcmx5aW5nU291cmNlLmNhbmNlbCEocmVhc29uKTtcbiAgfVxuXG4gIFNldFVwUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcihcbiAgICBzdHJlYW0sIGNvbnRyb2xsZXIsIHN0YXJ0QWxnb3JpdGhtLCBwdWxsQWxnb3JpdGhtLCBjYW5jZWxBbGdvcml0aG0sIGhpZ2hXYXRlck1hcmssIHNpemVBbGdvcml0aG1cbiAgKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIuXG5cbmZ1bmN0aW9uIGRlZmF1bHRDb250cm9sbGVyQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcbiAgICBgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcmApO1xufVxuIiwiaW1wb3J0IHtcbiAgQ3JlYXRlUmVhZGFibGVCeXRlU3RyZWFtLFxuICBDcmVhdGVSZWFkYWJsZVN0cmVhbSxcbiAgSXNSZWFkYWJsZVN0cmVhbSxcbiAgUmVhZGFibGVCeXRlU3RyZWFtLFxuICBSZWFkYWJsZVN0cmVhbSxcbiAgUmVhZGFibGVTdHJlYW1DYW5jZWwsXG4gIFJlYWRhYmxlU3RyZWFtUmVhZGVyXG59IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlIH0gZnJvbSAnLi9nZW5lcmljLXJlYWRlcic7XG5pbXBvcnQge1xuICBBY3F1aXJlUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLFxuICBJc1JlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyUmVhZCxcbiAgUmVhZFJlcXVlc3Rcbn0gZnJvbSAnLi9kZWZhdWx0LXJlYWRlcic7XG5pbXBvcnQge1xuICBBY3F1aXJlUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLFxuICBJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyUmVhZCxcbiAgUmVhZEludG9SZXF1ZXN0XG59IGZyb20gJy4vYnlvYi1yZWFkZXInO1xuaW1wb3J0IGFzc2VydCBmcm9tICcuLi8uLi9zdHViL2Fzc2VydCc7XG5pbXBvcnQgeyBuZXdQcm9taXNlLCBwcm9taXNlUmVzb2x2ZWRXaXRoLCBxdWV1ZU1pY3JvdGFzaywgdXBvblJlamVjdGlvbiB9IGZyb20gJy4uL2hlbHBlcnMvd2ViaWRsJztcbmltcG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbG9zZSxcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVucXVldWUsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvclxufSBmcm9tICcuL2RlZmF1bHQtY29udHJvbGxlcic7XG5pbXBvcnQge1xuICBJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbG9zZSxcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWUsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcixcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckdldEJZT0JSZXF1ZXN0LFxuICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZCxcbiAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRXaXRoTmV3Vmlld1xufSBmcm9tICcuL2J5dGUtc3RyZWFtLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgQ3JlYXRlQXJyYXlGcm9tTGlzdCB9IGZyb20gJy4uL2Fic3RyYWN0LW9wcy9lY21hc2NyaXB0JztcbmltcG9ydCB7IENsb25lQXNVaW50OEFycmF5IH0gZnJvbSAnLi4vYWJzdHJhY3Qtb3BzL21pc2NlbGxhbmVvdXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1UZWU8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZUZvckJyYW5jaDI6IGJvb2xlYW4pOiBbUmVhZGFibGVTdHJlYW08Uj4sIFJlYWRhYmxlU3RyZWFtPFI+XSB7XG4gIGFzc2VydChJc1JlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICBhc3NlcnQodHlwZW9mIGNsb25lRm9yQnJhbmNoMiA9PT0gJ2Jvb2xlYW4nKTtcbiAgaWYgKElzUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcihzdHJlYW0uX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcikpIHtcbiAgICByZXR1cm4gUmVhZGFibGVCeXRlU3RyZWFtVGVlKHN0cmVhbSBhcyB1bmtub3duIGFzIFJlYWRhYmxlQnl0ZVN0cmVhbSkgYXNcbiAgICAgIHVua25vd24gYXMgW1JlYWRhYmxlU3RyZWFtPFI+LCBSZWFkYWJsZVN0cmVhbTxSPl07XG4gIH1cbiAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFRlZShzdHJlYW0sIGNsb25lRm9yQnJhbmNoMik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbURlZmF1bHRUZWU8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVGb3JCcmFuY2gyOiBib29sZWFuKTogW1JlYWRhYmxlU3RyZWFtPFI+LCBSZWFkYWJsZVN0cmVhbTxSPl0ge1xuICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgYXNzZXJ0KHR5cGVvZiBjbG9uZUZvckJyYW5jaDIgPT09ICdib29sZWFuJyk7XG5cbiAgY29uc3QgcmVhZGVyID0gQWNxdWlyZVJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPihzdHJlYW0pO1xuXG4gIGxldCByZWFkaW5nID0gZmFsc2U7XG4gIGxldCByZWFkQWdhaW4gPSBmYWxzZTtcbiAgbGV0IGNhbmNlbGVkMSA9IGZhbHNlO1xuICBsZXQgY2FuY2VsZWQyID0gZmFsc2U7XG4gIGxldCByZWFzb24xOiBhbnk7XG4gIGxldCByZWFzb24yOiBhbnk7XG4gIGxldCBicmFuY2gxOiBSZWFkYWJsZVN0cmVhbTxSPjtcbiAgbGV0IGJyYW5jaDI6IFJlYWRhYmxlU3RyZWFtPFI+O1xuXG4gIGxldCByZXNvbHZlQ2FuY2VsUHJvbWlzZTogKHZhbHVlOiB1bmRlZmluZWQgfCBQcm9taXNlPHVuZGVmaW5lZD4pID0+IHZvaWQ7XG4gIGNvbnN0IGNhbmNlbFByb21pc2UgPSBuZXdQcm9taXNlPHVuZGVmaW5lZD4ocmVzb2x2ZSA9PiB7XG4gICAgcmVzb2x2ZUNhbmNlbFByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdWxsQWxnb3JpdGhtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChyZWFkaW5nKSB7XG4gICAgICByZWFkQWdhaW4gPSB0cnVlO1xuICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICByZWFkaW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IHJlYWRSZXF1ZXN0OiBSZWFkUmVxdWVzdDxSPiA9IHtcbiAgICAgIF9jaHVua1N0ZXBzOiBjaHVuayA9PiB7XG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgZGVsYXllZCBhIG1pY3JvdGFzayBiZWNhdXNlIGl0IHRha2VzIGF0IGxlYXN0IGEgbWljcm90YXNrIHRvIGRldGVjdCBlcnJvcnMgKHVzaW5nXG4gICAgICAgIC8vIHJlYWRlci5fY2xvc2VkUHJvbWlzZSBiZWxvdyksIGFuZCB3ZSB3YW50IGVycm9ycyBpbiBzdHJlYW0gdG8gZXJyb3IgYm90aCBicmFuY2hlcyBpbW1lZGlhdGVseS4gV2UgY2Fubm90IGxldFxuICAgICAgICAvLyBzdWNjZXNzZnVsIHN5bmNocm9ub3VzbHktYXZhaWxhYmxlIHJlYWRzIGdldCBhaGVhZCBvZiBhc3luY2hyb25vdXNseS1hdmFpbGFibGUgZXJyb3JzLlxuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgcmVhZEFnYWluID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgY2h1bmsxID0gY2h1bms7XG4gICAgICAgICAgY29uc3QgY2h1bmsyID0gY2h1bms7XG5cbiAgICAgICAgICAvLyBUaGVyZSBpcyBubyB3YXkgdG8gYWNjZXNzIHRoZSBjbG9uaW5nIGNvZGUgcmlnaHQgbm93IGluIHRoZSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24uXG4gICAgICAgICAgLy8gSWYgd2UgYWRkIG9uZSB0aGVuIHdlJ2xsIG5lZWQgYW4gaW1wbGVtZW50YXRpb24gZm9yIHNlcmlhbGl6YWJsZSBvYmplY3RzLlxuICAgICAgICAgIC8vIGlmICghY2FuY2VsZWQyICYmIGNsb25lRm9yQnJhbmNoMikge1xuICAgICAgICAgIC8vICAgY2h1bmsyID0gU3RydWN0dXJlZERlc2VyaWFsaXplKFN0cnVjdHVyZWRTZXJpYWxpemUoY2h1bmsyKSk7XG4gICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgaWYgKCFjYW5jZWxlZDEpIHtcbiAgICAgICAgICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKFxuICAgICAgICAgICAgICBicmFuY2gxLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSPixcbiAgICAgICAgICAgICAgY2h1bmsxXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWNhbmNlbGVkMikge1xuICAgICAgICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVucXVldWUoXG4gICAgICAgICAgICAgIGJyYW5jaDIuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciBhcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+LFxuICAgICAgICAgICAgICBjaHVuazJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChyZWFkQWdhaW4pIHtcbiAgICAgICAgICAgIHB1bGxBbGdvcml0aG0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIF9jbG9zZVN0ZXBzOiAoKSA9PiB7XG4gICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFjYW5jZWxlZDEpIHtcbiAgICAgICAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2UoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FuY2VsZWQyKSB7XG4gICAgICAgICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlKGJyYW5jaDIuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciBhcyBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFI+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2FuY2VsZWQxIHx8ICFjYW5jZWxlZDIpIHtcbiAgICAgICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2Vycm9yU3RlcHM6ICgpID0+IHtcbiAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyUmVhZChyZWFkZXIsIHJlYWRSZXF1ZXN0KTtcblxuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwxQWxnb3JpdGhtKHJlYXNvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY2FuY2VsZWQxID0gdHJ1ZTtcbiAgICByZWFzb24xID0gcmVhc29uO1xuICAgIGlmIChjYW5jZWxlZDIpIHtcbiAgICAgIGNvbnN0IGNvbXBvc2l0ZVJlYXNvbiA9IENyZWF0ZUFycmF5RnJvbUxpc3QoW3JlYXNvbjEsIHJlYXNvbjJdKTtcbiAgICAgIGNvbnN0IGNhbmNlbFJlc3VsdCA9IFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHN0cmVhbSwgY29tcG9zaXRlUmVhc29uKTtcbiAgICAgIHJlc29sdmVDYW5jZWxQcm9taXNlKGNhbmNlbFJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBjYW5jZWxQcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsMkFsZ29yaXRobShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNhbmNlbGVkMiA9IHRydWU7XG4gICAgcmVhc29uMiA9IHJlYXNvbjtcbiAgICBpZiAoY2FuY2VsZWQxKSB7XG4gICAgICBjb25zdCBjb21wb3NpdGVSZWFzb24gPSBDcmVhdGVBcnJheUZyb21MaXN0KFtyZWFzb24xLCByZWFzb24yXSk7XG4gICAgICBjb25zdCBjYW5jZWxSZXN1bHQgPSBSZWFkYWJsZVN0cmVhbUNhbmNlbChzdHJlYW0sIGNvbXBvc2l0ZVJlYXNvbik7XG4gICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZShjYW5jZWxSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FuY2VsUHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0QWxnb3JpdGhtKCkge1xuICAgIC8vIGRvIG5vdGhpbmdcbiAgfVxuXG4gIGJyYW5jaDEgPSBDcmVhdGVSZWFkYWJsZVN0cmVhbShzdGFydEFsZ29yaXRobSwgcHVsbEFsZ29yaXRobSwgY2FuY2VsMUFsZ29yaXRobSk7XG4gIGJyYW5jaDIgPSBDcmVhdGVSZWFkYWJsZVN0cmVhbShzdGFydEFsZ29yaXRobSwgcHVsbEFsZ29yaXRobSwgY2FuY2VsMkFsZ29yaXRobSk7XG5cbiAgdXBvblJlamVjdGlvbihyZWFkZXIuX2Nsb3NlZFByb21pc2UsIChyOiBhbnkpID0+IHtcbiAgICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIGFzIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4sIHIpO1xuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcihicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxSPiwgcik7XG4gICAgaWYgKCFjYW5jZWxlZDEgfHwgIWNhbmNlbGVkMikge1xuICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UodW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBbYnJhbmNoMSwgYnJhbmNoMl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZUJ5dGVTdHJlYW1UZWUoc3RyZWFtOiBSZWFkYWJsZUJ5dGVTdHJlYW0pOiBbUmVhZGFibGVCeXRlU3RyZWFtLCBSZWFkYWJsZUJ5dGVTdHJlYW1dIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gIGFzc2VydChJc1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIoc3RyZWFtLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpKTtcblxuICBsZXQgcmVhZGVyOiBSZWFkYWJsZVN0cmVhbVJlYWRlcjxVaW50OEFycmF5PiA9IEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIoc3RyZWFtKTtcbiAgbGV0IHJlYWRpbmcgPSBmYWxzZTtcbiAgbGV0IHJlYWRBZ2FpbkZvckJyYW5jaDEgPSBmYWxzZTtcbiAgbGV0IHJlYWRBZ2FpbkZvckJyYW5jaDIgPSBmYWxzZTtcbiAgbGV0IGNhbmNlbGVkMSA9IGZhbHNlO1xuICBsZXQgY2FuY2VsZWQyID0gZmFsc2U7XG4gIGxldCByZWFzb24xOiBhbnk7XG4gIGxldCByZWFzb24yOiBhbnk7XG4gIGxldCBicmFuY2gxOiBSZWFkYWJsZUJ5dGVTdHJlYW07XG4gIGxldCBicmFuY2gyOiBSZWFkYWJsZUJ5dGVTdHJlYW07XG5cbiAgbGV0IHJlc29sdmVDYW5jZWxQcm9taXNlOiAodmFsdWU6IHVuZGVmaW5lZCB8IFByb21pc2U8dW5kZWZpbmVkPikgPT4gdm9pZDtcbiAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IG5ld1Byb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgcmVzb2x2ZUNhbmNlbFByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICBmdW5jdGlvbiBmb3J3YXJkUmVhZGVyRXJyb3IodGhpc1JlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8VWludDhBcnJheT4pIHtcbiAgICB1cG9uUmVqZWN0aW9uKHRoaXNSZWFkZXIuX2Nsb3NlZFByb21pc2UsIHIgPT4ge1xuICAgICAgaWYgKHRoaXNSZWFkZXIgIT09IHJlYWRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRXJyb3IoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCByKTtcbiAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIHIpO1xuICAgICAgaWYgKCFjYW5jZWxlZDEgfHwgIWNhbmNlbGVkMikge1xuICAgICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZSh1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVsbFdpdGhEZWZhdWx0UmVhZGVyKCkge1xuICAgIGlmIChJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcihyZWFkZXIpKSB7XG4gICAgICBhc3NlcnQocmVhZGVyLl9yZWFkSW50b1JlcXVlc3RzLmxlbmd0aCA9PT0gMCk7XG4gICAgICBSZWFkYWJsZVN0cmVhbVJlYWRlckdlbmVyaWNSZWxlYXNlKHJlYWRlcik7XG5cbiAgICAgIHJlYWRlciA9IEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIoc3RyZWFtKTtcbiAgICAgIGZvcndhcmRSZWFkZXJFcnJvcihyZWFkZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRSZXF1ZXN0OiBSZWFkUmVxdWVzdDxVaW50OEFycmF5PiA9IHtcbiAgICAgIF9jaHVua1N0ZXBzOiBjaHVuayA9PiB7XG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgZGVsYXllZCBhIG1pY3JvdGFzayBiZWNhdXNlIGl0IHRha2VzIGF0IGxlYXN0IGEgbWljcm90YXNrIHRvIGRldGVjdCBlcnJvcnMgKHVzaW5nXG4gICAgICAgIC8vIHJlYWRlci5fY2xvc2VkUHJvbWlzZSBiZWxvdyksIGFuZCB3ZSB3YW50IGVycm9ycyBpbiBzdHJlYW0gdG8gZXJyb3IgYm90aCBicmFuY2hlcyBpbW1lZGlhdGVseS4gV2UgY2Fubm90IGxldFxuICAgICAgICAvLyBzdWNjZXNzZnVsIHN5bmNocm9ub3VzbHktYXZhaWxhYmxlIHJlYWRzIGdldCBhaGVhZCBvZiBhc3luY2hyb25vdXNseS1hdmFpbGFibGUgZXJyb3JzLlxuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgcmVhZEFnYWluRm9yQnJhbmNoMSA9IGZhbHNlO1xuICAgICAgICAgIHJlYWRBZ2FpbkZvckJyYW5jaDIgPSBmYWxzZTtcblxuICAgICAgICAgIGNvbnN0IGNodW5rMSA9IGNodW5rO1xuICAgICAgICAgIGxldCBjaHVuazIgPSBjaHVuaztcbiAgICAgICAgICBpZiAoIWNhbmNlbGVkMSAmJiAhY2FuY2VsZWQyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjaHVuazIgPSBDbG9uZUFzVWludDhBcnJheShjaHVuayk7XG4gICAgICAgICAgICB9IGNhdGNoIChjbG9uZUUpIHtcbiAgICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVycm9yKGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgY2xvbmVFKTtcbiAgICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVycm9yKGJyYW5jaDIuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgY2xvbmVFKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UoUmVhZGFibGVTdHJlYW1DYW5jZWwoc3RyZWFtLCBjbG9uZUUpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghY2FuY2VsZWQxKSB7XG4gICAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZShicmFuY2gxLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNodW5rMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghY2FuY2VsZWQyKSB7XG4gICAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRW5xdWV1ZShicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNodW5rMik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChyZWFkQWdhaW5Gb3JCcmFuY2gxKSB7XG4gICAgICAgICAgICBwdWxsMUFsZ29yaXRobSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVhZEFnYWluRm9yQnJhbmNoMikge1xuICAgICAgICAgICAgcHVsbDJBbGdvcml0aG0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIF9jbG9zZVN0ZXBzOiAoKSA9PiB7XG4gICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKCFjYW5jZWxlZDEpIHtcbiAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyQ2xvc2UoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbmNlbGVkMikge1xuICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJDbG9zZShicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChicmFuY2gxLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJSZXNwb25kKGJyYW5jaDEuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJyYW5jaDIuX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlci5fcGVuZGluZ1B1bGxJbnRvcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmQoYnJhbmNoMi5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbmNlbGVkMSB8fCAhY2FuY2VsZWQyKSB7XG4gICAgICAgICAgcmVzb2x2ZUNhbmNlbFByb21pc2UodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9lcnJvclN0ZXBzOiAoKSA9PiB7XG4gICAgICAgIHJlYWRpbmcgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlclJlYWQocmVhZGVyLCByZWFkUmVxdWVzdCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdWxsV2l0aEJZT0JSZWFkZXIodmlldzogQXJyYXlCdWZmZXJWaWV3LCBmb3JCcmFuY2gyOiBib29sZWFuKSB7XG4gICAgaWYgKElzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFVpbnQ4QXJyYXk+KHJlYWRlcikpIHtcbiAgICAgIGFzc2VydChyZWFkZXIuX3JlYWRSZXF1ZXN0cy5sZW5ndGggPT09IDApO1xuICAgICAgUmVhZGFibGVTdHJlYW1SZWFkZXJHZW5lcmljUmVsZWFzZShyZWFkZXIpO1xuXG4gICAgICByZWFkZXIgPSBBY3F1aXJlUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHN0cmVhbSk7XG4gICAgICBmb3J3YXJkUmVhZGVyRXJyb3IocmVhZGVyKTtcbiAgICB9XG5cbiAgICBjb25zdCBieW9iQnJhbmNoID0gZm9yQnJhbmNoMiA/IGJyYW5jaDIgOiBicmFuY2gxO1xuICAgIGNvbnN0IG90aGVyQnJhbmNoID0gZm9yQnJhbmNoMiA/IGJyYW5jaDEgOiBicmFuY2gyO1xuXG4gICAgY29uc3QgcmVhZEludG9SZXF1ZXN0OiBSZWFkSW50b1JlcXVlc3Q8QXJyYXlCdWZmZXJWaWV3PiA9IHtcbiAgICAgIF9jaHVua1N0ZXBzOiBjaHVuayA9PiB7XG4gICAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgZGVsYXllZCBhIG1pY3JvdGFzayBiZWNhdXNlIGl0IHRha2VzIGF0IGxlYXN0IGEgbWljcm90YXNrIHRvIGRldGVjdCBlcnJvcnMgKHVzaW5nXG4gICAgICAgIC8vIHJlYWRlci5fY2xvc2VkUHJvbWlzZSBiZWxvdyksIGFuZCB3ZSB3YW50IGVycm9ycyBpbiBzdHJlYW0gdG8gZXJyb3IgYm90aCBicmFuY2hlcyBpbW1lZGlhdGVseS4gV2UgY2Fubm90IGxldFxuICAgICAgICAvLyBzdWNjZXNzZnVsIHN5bmNocm9ub3VzbHktYXZhaWxhYmxlIHJlYWRzIGdldCBhaGVhZCBvZiBhc3luY2hyb25vdXNseS1hdmFpbGFibGUgZXJyb3JzLlxuICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgcmVhZEFnYWluRm9yQnJhbmNoMSA9IGZhbHNlO1xuICAgICAgICAgIHJlYWRBZ2FpbkZvckJyYW5jaDIgPSBmYWxzZTtcblxuICAgICAgICAgIGNvbnN0IGJ5b2JDYW5jZWxlZCA9IGZvckJyYW5jaDIgPyBjYW5jZWxlZDIgOiBjYW5jZWxlZDE7XG4gICAgICAgICAgY29uc3Qgb3RoZXJDYW5jZWxlZCA9IGZvckJyYW5jaDIgPyBjYW5jZWxlZDEgOiBjYW5jZWxlZDI7XG5cbiAgICAgICAgICBpZiAoIW90aGVyQ2FuY2VsZWQpIHtcbiAgICAgICAgICAgIGxldCBjbG9uZWRDaHVuaztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNsb25lZENodW5rID0gQ2xvbmVBc1VpbnQ4QXJyYXkoY2h1bmspO1xuICAgICAgICAgICAgfSBjYXRjaCAoY2xvbmVFKSB7XG4gICAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihieW9iQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNsb25lRSk7XG4gICAgICAgICAgICAgIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJFcnJvcihvdGhlckJyYW5jaC5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyLCBjbG9uZUUpO1xuICAgICAgICAgICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZShSZWFkYWJsZVN0cmVhbUNhbmNlbChzdHJlYW0sIGNsb25lRSkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJ5b2JDYW5jZWxlZCkge1xuICAgICAgICAgICAgICBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyUmVzcG9uZFdpdGhOZXdWaWV3KGJ5b2JCcmFuY2guX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgY2h1bmspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckVucXVldWUob3RoZXJCcmFuY2guX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgY2xvbmVkQ2h1bmspO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWJ5b2JDYW5jZWxlZCkge1xuICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRXaXRoTmV3VmlldyhieW9iQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNodW5rKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHJlYWRBZ2FpbkZvckJyYW5jaDEpIHtcbiAgICAgICAgICAgIHB1bGwxQWxnb3JpdGhtKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZWFkQWdhaW5Gb3JCcmFuY2gyKSB7XG4gICAgICAgICAgICBwdWxsMkFsZ29yaXRobSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgX2Nsb3NlU3RlcHM6IGNodW5rID0+IHtcbiAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGJ5b2JDYW5jZWxlZCA9IGZvckJyYW5jaDIgPyBjYW5jZWxlZDIgOiBjYW5jZWxlZDE7XG4gICAgICAgIGNvbnN0IG90aGVyQ2FuY2VsZWQgPSBmb3JCcmFuY2gyID8gY2FuY2VsZWQxIDogY2FuY2VsZWQyO1xuXG4gICAgICAgIGlmICghYnlvYkNhbmNlbGVkKSB7XG4gICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsb3NlKGJ5b2JCcmFuY2guX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvdGhlckNhbmNlbGVkKSB7XG4gICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckNsb3NlKG90aGVyQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNodW5rICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBhc3NlcnQoY2h1bmsuYnl0ZUxlbmd0aCA9PT0gMCk7XG5cbiAgICAgICAgICBpZiAoIWJ5b2JDYW5jZWxlZCkge1xuICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmRXaXRoTmV3VmlldyhieW9iQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsIGNodW5rKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFvdGhlckNhbmNlbGVkICYmIG90aGVyQnJhbmNoLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIuX3BlbmRpbmdQdWxsSW50b3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclJlc3BvbmQob3RoZXJCcmFuY2guX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFieW9iQ2FuY2VsZWQgfHwgIW90aGVyQ2FuY2VsZWQpIHtcbiAgICAgICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZSh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2Vycm9yU3RlcHM6ICgpID0+IHtcbiAgICAgICAgcmVhZGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyUmVhZChyZWFkZXIsIHZpZXcsIHJlYWRJbnRvUmVxdWVzdCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdWxsMUFsZ29yaXRobSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAocmVhZGluZykge1xuICAgICAgcmVhZEFnYWluRm9yQnJhbmNoMSA9IHRydWU7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmVkV2l0aCh1bmRlZmluZWQpO1xuICAgIH1cblxuICAgIHJlYWRpbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgYnlvYlJlcXVlc3QgPSBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyR2V0QllPQlJlcXVlc3QoYnJhbmNoMS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyKTtcbiAgICBpZiAoYnlvYlJlcXVlc3QgPT09IG51bGwpIHtcbiAgICAgIHB1bGxXaXRoRGVmYXVsdFJlYWRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwdWxsV2l0aEJZT0JSZWFkZXIoYnlvYlJlcXVlc3QuX3ZpZXchLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1bGwyQWxnb3JpdGhtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChyZWFkaW5nKSB7XG4gICAgICByZWFkQWdhaW5Gb3JCcmFuY2gyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcmVhZGluZyA9IHRydWU7XG5cbiAgICBjb25zdCBieW9iUmVxdWVzdCA9IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJHZXRCWU9CUmVxdWVzdChicmFuY2gyLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIpO1xuICAgIGlmIChieW9iUmVxdWVzdCA9PT0gbnVsbCkge1xuICAgICAgcHVsbFdpdGhEZWZhdWx0UmVhZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHB1bGxXaXRoQllPQlJlYWRlcihieW9iUmVxdWVzdC5fdmlldyEsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwxQWxnb3JpdGhtKHJlYXNvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY2FuY2VsZWQxID0gdHJ1ZTtcbiAgICByZWFzb24xID0gcmVhc29uO1xuICAgIGlmIChjYW5jZWxlZDIpIHtcbiAgICAgIGNvbnN0IGNvbXBvc2l0ZVJlYXNvbiA9IENyZWF0ZUFycmF5RnJvbUxpc3QoW3JlYXNvbjEsIHJlYXNvbjJdKTtcbiAgICAgIGNvbnN0IGNhbmNlbFJlc3VsdCA9IFJlYWRhYmxlU3RyZWFtQ2FuY2VsKHN0cmVhbSwgY29tcG9zaXRlUmVhc29uKTtcbiAgICAgIHJlc29sdmVDYW5jZWxQcm9taXNlKGNhbmNlbFJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBjYW5jZWxQcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsMkFsZ29yaXRobShyZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNhbmNlbGVkMiA9IHRydWU7XG4gICAgcmVhc29uMiA9IHJlYXNvbjtcbiAgICBpZiAoY2FuY2VsZWQxKSB7XG4gICAgICBjb25zdCBjb21wb3NpdGVSZWFzb24gPSBDcmVhdGVBcnJheUZyb21MaXN0KFtyZWFzb24xLCByZWFzb24yXSk7XG4gICAgICBjb25zdCBjYW5jZWxSZXN1bHQgPSBSZWFkYWJsZVN0cmVhbUNhbmNlbChzdHJlYW0sIGNvbXBvc2l0ZVJlYXNvbik7XG4gICAgICByZXNvbHZlQ2FuY2VsUHJvbWlzZShjYW5jZWxSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FuY2VsUHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0QWxnb3JpdGhtKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGJyYW5jaDEgPSBDcmVhdGVSZWFkYWJsZUJ5dGVTdHJlYW0oc3RhcnRBbGdvcml0aG0sIHB1bGwxQWxnb3JpdGhtLCBjYW5jZWwxQWxnb3JpdGhtKTtcbiAgYnJhbmNoMiA9IENyZWF0ZVJlYWRhYmxlQnl0ZVN0cmVhbShzdGFydEFsZ29yaXRobSwgcHVsbDJBbGdvcml0aG0sIGNhbmNlbDJBbGdvcml0aG0pO1xuXG4gIGZvcndhcmRSZWFkZXJFcnJvcihyZWFkZXIpO1xuXG4gIHJldHVybiBbYnJhbmNoMSwgYnJhbmNoMl07XG59XG4iLCJpbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5LCBhc3NlcnRGdW5jdGlvbiwgY29udmVydFVuc2lnbmVkTG9uZ0xvbmdXaXRoRW5mb3JjZVJhbmdlIH0gZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFVuZGVybHlpbmdCeXRlU291cmNlLFxuICBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZSxcbiAgVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2VQdWxsQ2FsbGJhY2ssXG4gIFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlU3RhcnRDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NvdXJjZSxcbiAgVW5kZXJseWluZ1NvdXJjZUNhbmNlbENhbGxiYWNrLFxuICBWYWxpZGF0ZWRVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZVxufSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0vdW5kZXJseWluZy1zb3VyY2UnO1xuaW1wb3J0IHsgcHJvbWlzZUNhbGwsIHJlZmxlY3RDYWxsIH0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlPFI+KFxuICBzb3VyY2U6IFVuZGVybHlpbmdTb3VyY2U8Uj4gfCBVbmRlcmx5aW5nQnl0ZVNvdXJjZSB8IG51bGwsXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogVmFsaWRhdGVkVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2U8Uj4ge1xuICBhc3NlcnREaWN0aW9uYXJ5KHNvdXJjZSwgY29udGV4dCk7XG4gIGNvbnN0IG9yaWdpbmFsID0gc291cmNlIGFzIChVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZTxSPiB8IG51bGwpO1xuICBjb25zdCBhdXRvQWxsb2NhdGVDaHVua1NpemUgPSBvcmlnaW5hbD8uYXV0b0FsbG9jYXRlQ2h1bmtTaXplO1xuICBjb25zdCBjYW5jZWwgPSBvcmlnaW5hbD8uY2FuY2VsO1xuICBjb25zdCBwdWxsID0gb3JpZ2luYWw/LnB1bGw7XG4gIGNvbnN0IHN0YXJ0ID0gb3JpZ2luYWw/LnN0YXJ0O1xuICBjb25zdCB0eXBlID0gb3JpZ2luYWw/LnR5cGU7XG4gIHJldHVybiB7XG4gICAgYXV0b0FsbG9jYXRlQ2h1bmtTaXplOiBhdXRvQWxsb2NhdGVDaHVua1NpemUgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuc2lnbmVkTG9uZ0xvbmdXaXRoRW5mb3JjZVJhbmdlKFxuICAgICAgICBhdXRvQWxsb2NhdGVDaHVua1NpemUsXG4gICAgICAgIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ2F1dG9BbGxvY2F0ZUNodW5rU2l6ZScgdGhhdGBcbiAgICAgICksXG4gICAgY2FuY2VsOiBjYW5jZWwgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuZGVybHlpbmdTb3VyY2VDYW5jZWxDYWxsYmFjayhjYW5jZWwsIG9yaWdpbmFsISwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAnY2FuY2VsJyB0aGF0YCksXG4gICAgcHVsbDogcHVsbCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHVuZGVmaW5lZCA6XG4gICAgICBjb252ZXJ0VW5kZXJseWluZ1NvdXJjZVB1bGxDYWxsYmFjayhwdWxsLCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3B1bGwnIHRoYXRgKSxcbiAgICBzdGFydDogc3RhcnQgPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFVuZGVybHlpbmdTb3VyY2VTdGFydENhbGxiYWNrKHN0YXJ0LCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3N0YXJ0JyB0aGF0YCksXG4gICAgdHlwZTogdHlwZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogY29udmVydFJlYWRhYmxlU3RyZWFtVHlwZSh0eXBlLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICd0eXBlJyB0aGF0YClcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFVuZGVybHlpbmdTb3VyY2VDYW5jZWxDYWxsYmFjayhcbiAgZm46IFVuZGVybHlpbmdTb3VyY2VDYW5jZWxDYWxsYmFjayxcbiAgb3JpZ2luYWw6IFVuZGVybHlpbmdEZWZhdWx0T3JCeXRlU291cmNlLFxuICBjb250ZXh0OiBzdHJpbmdcbik6IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIChyZWFzb246IGFueSkgPT4gcHJvbWlzZUNhbGwoZm4sIG9yaWdpbmFsLCBbcmVhc29uXSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRVbmRlcmx5aW5nU291cmNlUHVsbENhbGxiYWNrPFI+KFxuICBmbjogVW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2VQdWxsQ2FsbGJhY2s8Uj4sXG4gIG9yaWdpbmFsOiBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZTxSPixcbiAgY29udGV4dDogc3RyaW5nXG4pOiAoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1Db250cm9sbGVyPFI+KSA9PiBQcm9taXNlPHZvaWQ+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtQ29udHJvbGxlcjxSPikgPT4gcHJvbWlzZUNhbGwoZm4sIG9yaWdpbmFsLCBbY29udHJvbGxlcl0pO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VW5kZXJseWluZ1NvdXJjZVN0YXJ0Q2FsbGJhY2s8Uj4oXG4gIGZuOiBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZVN0YXJ0Q2FsbGJhY2s8Uj4sXG4gIG9yaWdpbmFsOiBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZTxSPixcbiAgY29udGV4dDogc3RyaW5nXG4pOiBVbmRlcmx5aW5nRGVmYXVsdE9yQnl0ZVNvdXJjZVN0YXJ0Q2FsbGJhY2s8Uj4ge1xuICBhc3NlcnRGdW5jdGlvbihmbiwgY29udGV4dCk7XG4gIHJldHVybiAoY29udHJvbGxlcjogUmVhZGFibGVTdHJlYW1Db250cm9sbGVyPFI+KSA9PiByZWZsZWN0Q2FsbChmbiwgb3JpZ2luYWwsIFtjb250cm9sbGVyXSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRSZWFkYWJsZVN0cmVhbVR5cGUodHlwZTogc3RyaW5nLCBjb250ZXh0OiBzdHJpbmcpOiAnYnl0ZXMnIHtcbiAgdHlwZSA9IGAke3R5cGV9YDtcbiAgaWYgKHR5cGUgIT09ICdieXRlcycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NvbnRleHR9ICcke3R5cGV9JyBpcyBub3QgYSB2YWxpZCBlbnVtZXJhdGlvbiB2YWx1ZSBmb3IgUmVhZGFibGVTdHJlYW1UeXBlYCk7XG4gIH1cbiAgcmV0dXJuIHR5cGU7XG59XG4iLCJpbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5IH0gZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbUdldFJlYWRlck9wdGlvbnMgfSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0vcmVhZGVyLW9wdGlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFJlYWRlck9wdGlvbnMob3B0aW9uczogUmVhZGFibGVTdHJlYW1HZXRSZWFkZXJPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBzdHJpbmcpOiBSZWFkYWJsZVN0cmVhbUdldFJlYWRlck9wdGlvbnMge1xuICBhc3NlcnREaWN0aW9uYXJ5KG9wdGlvbnMsIGNvbnRleHQpO1xuICBjb25zdCBtb2RlID0gb3B0aW9ucz8ubW9kZTtcbiAgcmV0dXJuIHtcbiAgICBtb2RlOiBtb2RlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBjb252ZXJ0UmVhZGFibGVTdHJlYW1SZWFkZXJNb2RlKG1vZGUsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ21vZGUnIHRoYXRgKVxuICB9O1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0UmVhZGFibGVTdHJlYW1SZWFkZXJNb2RlKG1vZGU6IHN0cmluZywgY29udGV4dDogc3RyaW5nKTogJ2J5b2InIHtcbiAgbW9kZSA9IGAke21vZGV9YDtcbiAgaWYgKG1vZGUgIT09ICdieW9iJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gJyR7bW9kZX0nIGlzIG5vdCBhIHZhbGlkIGVudW1lcmF0aW9uIHZhbHVlIGZvciBSZWFkYWJsZVN0cmVhbVJlYWRlck1vZGVgKTtcbiAgfVxuICByZXR1cm4gbW9kZTtcbn1cbiIsImltcG9ydCB7IGFzc2VydERpY3Rpb25hcnkgfSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCB7IFN0cmVhbVBpcGVPcHRpb25zLCBWYWxpZGF0ZWRTdHJlYW1QaXBlT3B0aW9ucyB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbS9waXBlLW9wdGlvbnMnO1xuaW1wb3J0IHsgQWJvcnRTaWduYWwsIGlzQWJvcnRTaWduYWwgfSBmcm9tICcuLi9hYm9ydC1zaWduYWwnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBpcGVPcHRpb25zKG9wdGlvbnM6IFN0cmVhbVBpcGVPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogVmFsaWRhdGVkU3RyZWFtUGlwZU9wdGlvbnMge1xuICBhc3NlcnREaWN0aW9uYXJ5KG9wdGlvbnMsIGNvbnRleHQpO1xuICBjb25zdCBwcmV2ZW50QWJvcnQgPSBvcHRpb25zPy5wcmV2ZW50QWJvcnQ7XG4gIGNvbnN0IHByZXZlbnRDYW5jZWwgPSBvcHRpb25zPy5wcmV2ZW50Q2FuY2VsO1xuICBjb25zdCBwcmV2ZW50Q2xvc2UgPSBvcHRpb25zPy5wcmV2ZW50Q2xvc2U7XG4gIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgaWYgKHNpZ25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYXNzZXJ0QWJvcnRTaWduYWwoc2lnbmFsLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdzaWduYWwnIHRoYXRgKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHByZXZlbnRBYm9ydDogQm9vbGVhbihwcmV2ZW50QWJvcnQpLFxuICAgIHByZXZlbnRDYW5jZWw6IEJvb2xlYW4ocHJldmVudENhbmNlbCksXG4gICAgcHJldmVudENsb3NlOiBCb29sZWFuKHByZXZlbnRDbG9zZSksXG4gICAgc2lnbmFsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFib3J0U2lnbmFsKHNpZ25hbDogdW5rbm93biwgY29udGV4dDogc3RyaW5nKTogYXNzZXJ0cyBzaWduYWwgaXMgQWJvcnRTaWduYWwge1xuICBpZiAoIWlzQWJvcnRTaWduYWwoc2lnbmFsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7Y29udGV4dH0gaXMgbm90IGFuIEFib3J0U2lnbmFsLmApO1xuICB9XG59XG4iLCJpbXBvcnQgYXNzZXJ0IGZyb20gJy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7XG4gIHByb21pc2VSZWplY3RlZFdpdGgsXG4gIHByb21pc2VSZXNvbHZlZFdpdGgsXG4gIHNldFByb21pc2VJc0hhbmRsZWRUb1RydWUsXG4gIHRyYW5zZm9ybVByb21pc2VXaXRoXG59IGZyb20gJy4vaGVscGVycy93ZWJpZGwnO1xuaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5LCBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2sgfSBmcm9tICcuL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgQWNxdWlyZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciwgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yIH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vYXN5bmMtaXRlcmF0b3InO1xuaW1wb3J0IHsgZGVmYXVsdFJlYWRlckNsb3NlZFByb21pc2VSZWplY3QsIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVzb2x2ZSB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2dlbmVyaWMtcmVhZGVyJztcbmltcG9ydCB7XG4gIEFjcXVpcmVSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsXG4gIElzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRSZXN1bHRcbn0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vZGVmYXVsdC1yZWFkZXInO1xuaW1wb3J0IHtcbiAgQWNxdWlyZVJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcixcbiAgSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZFJlc3VsdFxufSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS9ieW9iLXJlYWRlcic7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbVBpcGVUbyB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3BpcGUnO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1UZWUgfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS90ZWUnO1xuaW1wb3J0IHsgSXNXcml0YWJsZVN0cmVhbSwgSXNXcml0YWJsZVN0cmVhbUxvY2tlZCwgV3JpdGFibGVTdHJlYW0gfSBmcm9tICcuL3dyaXRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBTaW1wbGVRdWV1ZSB9IGZyb20gJy4vc2ltcGxlLXF1ZXVlJztcbmltcG9ydCB7XG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsXG4gIFNldFVwUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlcixcbiAgU2V0VXBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyRnJvbVVuZGVybHlpbmdTb3VyY2Vcbn0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vYnl0ZS1zdHJlYW0tY29udHJvbGxlcic7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBTZXRVcFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFNldFVwUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckZyb21VbmRlcmx5aW5nU291cmNlXG59IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2RlZmF1bHQtY29udHJvbGxlcic7XG5pbXBvcnQge1xuICBVbmRlcmx5aW5nQnl0ZVNvdXJjZSxcbiAgVW5kZXJseWluZ0J5dGVTb3VyY2VQdWxsQ2FsbGJhY2ssXG4gIFVuZGVybHlpbmdCeXRlU291cmNlU3RhcnRDYWxsYmFjayxcbiAgVW5kZXJseWluZ1NvdXJjZSxcbiAgVW5kZXJseWluZ1NvdXJjZUNhbmNlbENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU291cmNlUHVsbENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU291cmNlU3RhcnRDYWxsYmFja1xufSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbS91bmRlcmx5aW5nLXNvdXJjZSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgdHlwZUlzT2JqZWN0IH0gZnJvbSAnLi9oZWxwZXJzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHsgQ3JlYXRlQXJyYXlGcm9tTGlzdCB9IGZyb20gJy4vYWJzdHJhY3Qtb3BzL2VjbWFzY3JpcHQnO1xuaW1wb3J0IHsgQ2FuY2VsU3RlcHMgfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9pbnRlcm5hbC1tZXRob2RzJztcbmltcG9ydCB7IElzTm9uTmVnYXRpdmVOdW1iZXIgfSBmcm9tICcuL2Fic3RyYWN0LW9wcy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IGFzc2VydE9iamVjdCwgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudCB9IGZyb20gJy4vdmFsaWRhdG9ycy9iYXNpYyc7XG5pbXBvcnQgeyBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5IH0gZnJvbSAnLi92YWxpZGF0b3JzL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgRXh0cmFjdEhpZ2hXYXRlck1hcmssIEV4dHJhY3RTaXplQWxnb3JpdGhtIH0gZnJvbSAnLi9hYnN0cmFjdC1vcHMvcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgeyBjb252ZXJ0VW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2UgfSBmcm9tICcuL3ZhbGlkYXRvcnMvdW5kZXJseWluZy1zb3VyY2UnO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1HZXRSZWFkZXJPcHRpb25zIH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vcmVhZGVyLW9wdGlvbnMnO1xuaW1wb3J0IHsgY29udmVydFJlYWRlck9wdGlvbnMgfSBmcm9tICcuL3ZhbGlkYXRvcnMvcmVhZGVyLW9wdGlvbnMnO1xuaW1wb3J0IHsgU3RyZWFtUGlwZU9wdGlvbnMsIFZhbGlkYXRlZFN0cmVhbVBpcGVPcHRpb25zIH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vcGlwZS1vcHRpb25zJztcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zIH0gZnJvbSAnLi9yZWFkYWJsZS1zdHJlYW0vaXRlcmF0b3Itb3B0aW9ucyc7XG5pbXBvcnQgeyBjb252ZXJ0SXRlcmF0b3JPcHRpb25zIH0gZnJvbSAnLi92YWxpZGF0b3JzL2l0ZXJhdG9yLW9wdGlvbnMnO1xuaW1wb3J0IHsgY29udmVydFBpcGVPcHRpb25zIH0gZnJvbSAnLi92YWxpZGF0b3JzL3BpcGUtb3B0aW9ucyc7XG5pbXBvcnQgeyBSZWFkYWJsZVdyaXRhYmxlUGFpciB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLXdyaXRhYmxlLXBhaXInO1xuaW1wb3J0IHsgY29udmVydFJlYWRhYmxlV3JpdGFibGVQYWlyIH0gZnJvbSAnLi92YWxpZGF0b3JzL3JlYWRhYmxlLXdyaXRhYmxlLXBhaXInO1xuXG5leHBvcnQgdHlwZSBSZWFkYWJsZUJ5dGVTdHJlYW0gPSBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PiAmIHtcbiAgX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcjogUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlclxufTtcblxudHlwZSBSZWFkYWJsZVN0cmVhbVN0YXRlID0gJ3JlYWRhYmxlJyB8ICdjbG9zZWQnIHwgJ2Vycm9yZWQnO1xuXG4vKipcbiAqIEEgcmVhZGFibGUgc3RyZWFtIHJlcHJlc2VudHMgYSBzb3VyY2Ugb2YgZGF0YSwgZnJvbSB3aGljaCB5b3UgY2FuIHJlYWQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgUmVhZGFibGVTdHJlYW08UiA9IGFueT4ge1xuICAvKiogQGludGVybmFsICovXG4gIF9zdGF0ZSE6IFJlYWRhYmxlU3RyZWFtU3RhdGU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlYWRlcjogUmVhZGFibGVTdHJlYW1SZWFkZXI8Uj4gfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3N0b3JlZEVycm9yOiBhbnk7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2Rpc3R1cmJlZCE6IGJvb2xlYW47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlciE6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4gfCBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyO1xuXG4gIGNvbnN0cnVjdG9yKHVuZGVybHlpbmdTb3VyY2U6IFVuZGVybHlpbmdCeXRlU291cmNlLCBzdHJhdGVneT86IHsgaGlnaFdhdGVyTWFyaz86IG51bWJlcjsgc2l6ZT86IHVuZGVmaW5lZCB9KTtcbiAgY29uc3RydWN0b3IodW5kZXJseWluZ1NvdXJjZT86IFVuZGVybHlpbmdTb3VyY2U8Uj4sIHN0cmF0ZWd5PzogUXVldWluZ1N0cmF0ZWd5PFI+KTtcbiAgY29uc3RydWN0b3IocmF3VW5kZXJseWluZ1NvdXJjZTogVW5kZXJseWluZ1NvdXJjZTxSPiB8IFVuZGVybHlpbmdCeXRlU291cmNlIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9LFxuICAgICAgICAgICAgICByYXdTdHJhdGVneTogUXVldWluZ1N0cmF0ZWd5PFI+IHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9KSB7XG4gICAgaWYgKHJhd1VuZGVybHlpbmdTb3VyY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmF3VW5kZXJseWluZ1NvdXJjZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydE9iamVjdChyYXdVbmRlcmx5aW5nU291cmNlLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5KHJhd1N0cmF0ZWd5LCAnU2Vjb25kIHBhcmFtZXRlcicpO1xuICAgIGNvbnN0IHVuZGVybHlpbmdTb3VyY2UgPSBjb252ZXJ0VW5kZXJseWluZ0RlZmF1bHRPckJ5dGVTb3VyY2UocmF3VW5kZXJseWluZ1NvdXJjZSwgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuXG4gICAgSW5pdGlhbGl6ZVJlYWRhYmxlU3RyZWFtKHRoaXMpO1xuXG4gICAgaWYgKHVuZGVybHlpbmdTb3VyY2UudHlwZSA9PT0gJ2J5dGVzJykge1xuICAgICAgaWYgKHN0cmF0ZWd5LnNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHN0cmF0ZWd5IGZvciBhIGJ5dGUgc3RyZWFtIGNhbm5vdCBoYXZlIGEgc2l6ZSBmdW5jdGlvbicpO1xuICAgICAgfVxuICAgICAgY29uc3QgaGlnaFdhdGVyTWFyayA9IEV4dHJhY3RIaWdoV2F0ZXJNYXJrKHN0cmF0ZWd5LCAwKTtcbiAgICAgIFNldFVwUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlckZyb21VbmRlcmx5aW5nU291cmNlKFxuICAgICAgICB0aGlzIGFzIHVua25vd24gYXMgUmVhZGFibGVCeXRlU3RyZWFtLFxuICAgICAgICB1bmRlcmx5aW5nU291cmNlLFxuICAgICAgICBoaWdoV2F0ZXJNYXJrXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQodW5kZXJseWluZ1NvdXJjZS50eXBlID09PSB1bmRlZmluZWQpO1xuICAgICAgY29uc3Qgc2l6ZUFsZ29yaXRobSA9IEV4dHJhY3RTaXplQWxnb3JpdGhtKHN0cmF0ZWd5KTtcbiAgICAgIGNvbnN0IGhpZ2hXYXRlck1hcmsgPSBFeHRyYWN0SGlnaFdhdGVyTWFyayhzdHJhdGVneSwgMSk7XG4gICAgICBTZXRVcFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJGcm9tVW5kZXJseWluZ1NvdXJjZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdW5kZXJseWluZ1NvdXJjZSxcbiAgICAgICAgaGlnaFdhdGVyTWFyayxcbiAgICAgICAgc2l6ZUFsZ29yaXRobVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGhlIHJlYWRhYmxlIHN0cmVhbSBpcyBsb2NrZWQgdG8gYSB7QGxpbmsgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyIHwgcmVhZGVyfS5cbiAgICovXG4gIGdldCBsb2NrZWQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICB0aHJvdyBzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdsb2NrZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWxzIHRoZSBzdHJlYW0sIHNpZ25hbGluZyBhIGxvc3Mgb2YgaW50ZXJlc3QgaW4gdGhlIHN0cmVhbSBieSBhIGNvbnN1bWVyLlxuICAgKlxuICAgKiBUaGUgc3VwcGxpZWQgYHJlYXNvbmAgYXJndW1lbnQgd2lsbCBiZSBnaXZlbiB0byB0aGUgdW5kZXJseWluZyBzb3VyY2UncyB7QGxpbmsgVW5kZXJseWluZ1NvdXJjZS5jYW5jZWwgfCBjYW5jZWwoKX1cbiAgICogbWV0aG9kLCB3aGljaCBtaWdodCBvciBtaWdodCBub3QgdXNlIGl0LlxuICAgKi9cbiAgY2FuY2VsKHJlYXNvbjogYW55ID0gdW5kZWZpbmVkKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdjYW5jZWwnKSk7XG4gICAgfVxuXG4gICAgaWYgKElzUmVhZGFibGVTdHJlYW1Mb2NrZWQodGhpcykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYW5jZWwgYSBzdHJlYW0gdGhhdCBhbHJlYWR5IGhhcyBhIHJlYWRlcicpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVhZGFibGVTdHJlYW1DYW5jZWwodGhpcywgcmVhc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcn0gYW5kIGxvY2tzIHRoZSBzdHJlYW0gdG8gdGhlIG5ldyByZWFkZXIuXG4gICAqXG4gICAqIFRoaXMgY2FsbCBiZWhhdmVzIHRoZSBzYW1lIHdheSBhcyB0aGUgbm8tYXJndW1lbnQgdmFyaWFudCwgZXhjZXB0IHRoYXQgaXQgb25seSB3b3JrcyBvbiByZWFkYWJsZSBieXRlIHN0cmVhbXMsXG4gICAqIGkuZS4gc3RyZWFtcyB3aGljaCB3ZXJlIGNvbnN0cnVjdGVkIHNwZWNpZmljYWxseSB3aXRoIHRoZSBhYmlsaXR5IHRvIGhhbmRsZSBcImJyaW5nIHlvdXIgb3duIGJ1ZmZlclwiIHJlYWRpbmcuXG4gICAqIFRoZSByZXR1cm5lZCBCWU9CIHJlYWRlciBwcm92aWRlcyB0aGUgYWJpbGl0eSB0byBkaXJlY3RseSByZWFkIGluZGl2aWR1YWwgY2h1bmtzIGZyb20gdGhlIHN0cmVhbSB2aWEgaXRzXG4gICAqIHtAbGluayBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIucmVhZCB8IHJlYWQoKX0gbWV0aG9kLCBpbnRvIGRldmVsb3Blci1zdXBwbGllZCBidWZmZXJzLCBhbGxvd2luZyBtb3JlIHByZWNpc2VcbiAgICogY29udHJvbCBvdmVyIGFsbG9jYXRpb24uXG4gICAqL1xuICBnZXRSZWFkZXIoeyBtb2RlIH06IHsgbW9kZTogJ2J5b2InIH0pOiBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXI7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcn0gYW5kIGxvY2tzIHRoZSBzdHJlYW0gdG8gdGhlIG5ldyByZWFkZXIuXG4gICAqIFdoaWxlIHRoZSBzdHJlYW0gaXMgbG9ja2VkLCBubyBvdGhlciByZWFkZXIgY2FuIGJlIGFjcXVpcmVkIHVudGlsIHRoaXMgb25lIGlzIHJlbGVhc2VkLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgZXNwZWNpYWxseSB1c2VmdWwgZm9yIGNyZWF0aW5nIGFic3RyYWN0aW9ucyB0aGF0IGRlc2lyZSB0aGUgYWJpbGl0eSB0byBjb25zdW1lIGEgc3RyZWFtXG4gICAqIGluIGl0cyBlbnRpcmV0eS4gQnkgZ2V0dGluZyBhIHJlYWRlciBmb3IgdGhlIHN0cmVhbSwgeW91IGNhbiBlbnN1cmUgbm9ib2R5IGVsc2UgY2FuIGludGVybGVhdmUgcmVhZHMgd2l0aCB5b3Vyc1xuICAgKiBvciBjYW5jZWwgdGhlIHN0cmVhbSwgd2hpY2ggd291bGQgaW50ZXJmZXJlIHdpdGggeW91ciBhYnN0cmFjdGlvbi5cbiAgICovXG4gIGdldFJlYWRlcigpOiBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj47XG4gIGdldFJlYWRlcihcbiAgICByYXdPcHRpb25zOiBSZWFkYWJsZVN0cmVhbUdldFJlYWRlck9wdGlvbnMgfCBudWxsIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXG4gICk6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPiB8IFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICB0aHJvdyBzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdnZXRSZWFkZXInKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0gY29udmVydFJlYWRlck9wdGlvbnMocmF3T3B0aW9ucywgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuXG4gICAgaWYgKG9wdGlvbnMubW9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gQWNxdWlyZVJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcih0aGlzKTtcbiAgICB9XG5cbiAgICBhc3NlcnQob3B0aW9ucy5tb2RlID09PSAnYnlvYicpO1xuICAgIHJldHVybiBBY3F1aXJlUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyKHRoaXMgYXMgdW5rbm93biBhcyBSZWFkYWJsZUJ5dGVTdHJlYW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgY29udmVuaWVudCwgY2hhaW5hYmxlIHdheSBvZiBwaXBpbmcgdGhpcyByZWFkYWJsZSBzdHJlYW0gdGhyb3VnaCBhIHRyYW5zZm9ybSBzdHJlYW1cbiAgICogKG9yIGFueSBvdGhlciBgeyB3cml0YWJsZSwgcmVhZGFibGUgfWAgcGFpcikuIEl0IHNpbXBseSB7QGxpbmsgUmVhZGFibGVTdHJlYW0ucGlwZVRvIHwgcGlwZXN9IHRoZSBzdHJlYW1cbiAgICogaW50byB0aGUgd3JpdGFibGUgc2lkZSBvZiB0aGUgc3VwcGxpZWQgcGFpciwgYW5kIHJldHVybnMgdGhlIHJlYWRhYmxlIHNpZGUgZm9yIGZ1cnRoZXIgdXNlLlxuICAgKlxuICAgKiBQaXBpbmcgYSBzdHJlYW0gd2lsbCBsb2NrIGl0IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIHBpcGUsIHByZXZlbnRpbmcgYW55IG90aGVyIGNvbnN1bWVyIGZyb20gYWNxdWlyaW5nIGEgcmVhZGVyLlxuICAgKi9cbiAgcGlwZVRocm91Z2g8UlMgZXh0ZW5kcyBSZWFkYWJsZVN0cmVhbT4oXG4gICAgdHJhbnNmb3JtOiB7IHJlYWRhYmxlOiBSUzsgd3JpdGFibGU6IFdyaXRhYmxlU3RyZWFtPFI+IH0sXG4gICAgb3B0aW9ucz86IFN0cmVhbVBpcGVPcHRpb25zXG4gICk6IFJTO1xuICBwaXBlVGhyb3VnaDxSUyBleHRlbmRzIFJlYWRhYmxlU3RyZWFtPihcbiAgICByYXdUcmFuc2Zvcm06IHsgcmVhZGFibGU6IFJTOyB3cml0YWJsZTogV3JpdGFibGVTdHJlYW08Uj4gfSB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgcmF3T3B0aW9uczogU3RyZWFtUGlwZU9wdGlvbnMgfCBudWxsIHwgdW5kZWZpbmVkID0ge31cbiAgKTogUlMge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbigncGlwZVRocm91Z2gnKTtcbiAgICB9XG4gICAgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudChyYXdUcmFuc2Zvcm0sIDEsICdwaXBlVGhyb3VnaCcpO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtID0gY29udmVydFJlYWRhYmxlV3JpdGFibGVQYWlyKHJhd1RyYW5zZm9ybSwgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjb252ZXJ0UGlwZU9wdGlvbnMocmF3T3B0aW9ucywgJ1NlY29uZCBwYXJhbWV0ZXInKTtcblxuICAgIGlmIChJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHRoaXMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWFkYWJsZVN0cmVhbS5wcm90b3R5cGUucGlwZVRocm91Z2ggY2Fubm90IGJlIHVzZWQgb24gYSBsb2NrZWQgUmVhZGFibGVTdHJlYW0nKTtcbiAgICB9XG4gICAgaWYgKElzV3JpdGFibGVTdHJlYW1Mb2NrZWQodHJhbnNmb3JtLndyaXRhYmxlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnBpcGVUaHJvdWdoIGNhbm5vdCBiZSB1c2VkIG9uIGEgbG9ja2VkIFdyaXRhYmxlU3RyZWFtJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZSA9IFJlYWRhYmxlU3RyZWFtUGlwZVRvKFxuICAgICAgdGhpcywgdHJhbnNmb3JtLndyaXRhYmxlLCBvcHRpb25zLnByZXZlbnRDbG9zZSwgb3B0aW9ucy5wcmV2ZW50QWJvcnQsIG9wdGlvbnMucHJldmVudENhbmNlbCwgb3B0aW9ucy5zaWduYWxcbiAgICApO1xuXG4gICAgc2V0UHJvbWlzZUlzSGFuZGxlZFRvVHJ1ZShwcm9taXNlKTtcblxuICAgIHJldHVybiB0cmFuc2Zvcm0ucmVhZGFibGU7XG4gIH1cblxuICAvKipcbiAgICogUGlwZXMgdGhpcyByZWFkYWJsZSBzdHJlYW0gdG8gYSBnaXZlbiB3cml0YWJsZSBzdHJlYW0uIFRoZSB3YXkgaW4gd2hpY2ggdGhlIHBpcGluZyBwcm9jZXNzIGJlaGF2ZXMgdW5kZXJcbiAgICogdmFyaW91cyBlcnJvciBjb25kaXRpb25zIGNhbiBiZSBjdXN0b21pemVkIHdpdGggYSBudW1iZXIgb2YgcGFzc2VkIG9wdGlvbnMuIEl0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgZnVsZmlsbHNcbiAgICogd2hlbiB0aGUgcGlwaW5nIHByb2Nlc3MgY29tcGxldGVzIHN1Y2Nlc3NmdWxseSwgb3IgcmVqZWN0cyBpZiBhbnkgZXJyb3JzIHdlcmUgZW5jb3VudGVyZWQuXG4gICAqXG4gICAqIFBpcGluZyBhIHN0cmVhbSB3aWxsIGxvY2sgaXQgZm9yIHRoZSBkdXJhdGlvbiBvZiB0aGUgcGlwZSwgcHJldmVudGluZyBhbnkgb3RoZXIgY29uc3VtZXIgZnJvbSBhY3F1aXJpbmcgYSByZWFkZXIuXG4gICAqL1xuICBwaXBlVG8oZGVzdGluYXRpb246IFdyaXRhYmxlU3RyZWFtPFI+LCBvcHRpb25zPzogU3RyZWFtUGlwZU9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+O1xuICBwaXBlVG8oZGVzdGluYXRpb246IFdyaXRhYmxlU3RyZWFtPFI+IHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgIHJhd09wdGlvbnM6IFN0cmVhbVBpcGVPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFJc1JlYWRhYmxlU3RyZWFtKHRoaXMpKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdwaXBlVG8nKSk7XG4gICAgfVxuXG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVqZWN0ZWRXaXRoKGBQYXJhbWV0ZXIgMSBpcyByZXF1aXJlZCBpbiAncGlwZVRvJy5gKTtcbiAgICB9XG4gICAgaWYgKCFJc1dyaXRhYmxlU3RyZWFtKGRlc3RpbmF0aW9uKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoYFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5waXBlVG8ncyBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgV3JpdGFibGVTdHJlYW1gKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgb3B0aW9uczogVmFsaWRhdGVkU3RyZWFtUGlwZU9wdGlvbnM7XG4gICAgdHJ5IHtcbiAgICAgIG9wdGlvbnMgPSBjb252ZXJ0UGlwZU9wdGlvbnMocmF3T3B0aW9ucywgJ1NlY29uZCBwYXJhbWV0ZXInKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChlKTtcbiAgICB9XG5cbiAgICBpZiAoSXNSZWFkYWJsZVN0cmVhbUxvY2tlZCh0aGlzKSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoJ1JlYWRhYmxlU3RyZWFtLnByb3RvdHlwZS5waXBlVG8gY2Fubm90IGJlIHVzZWQgb24gYSBsb2NrZWQgUmVhZGFibGVTdHJlYW0nKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKElzV3JpdGFibGVTdHJlYW1Mb2NrZWQoZGVzdGluYXRpb24pKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlamVjdGVkV2l0aChcbiAgICAgICAgbmV3IFR5cGVFcnJvcignUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnBpcGVUbyBjYW5ub3QgYmUgdXNlZCBvbiBhIGxvY2tlZCBXcml0YWJsZVN0cmVhbScpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBSZWFkYWJsZVN0cmVhbVBpcGVUbzxSPihcbiAgICAgIHRoaXMsIGRlc3RpbmF0aW9uLCBvcHRpb25zLnByZXZlbnRDbG9zZSwgb3B0aW9ucy5wcmV2ZW50QWJvcnQsIG9wdGlvbnMucHJldmVudENhbmNlbCwgb3B0aW9ucy5zaWduYWxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFRlZXMgdGhpcyByZWFkYWJsZSBzdHJlYW0sIHJldHVybmluZyBhIHR3by1lbGVtZW50IGFycmF5IGNvbnRhaW5pbmcgdGhlIHR3byByZXN1bHRpbmcgYnJhbmNoZXMgYXNcbiAgICogbmV3IHtAbGluayBSZWFkYWJsZVN0cmVhbX0gaW5zdGFuY2VzLlxuICAgKlxuICAgKiBUZWVpbmcgYSBzdHJlYW0gd2lsbCBsb2NrIGl0LCBwcmV2ZW50aW5nIGFueSBvdGhlciBjb25zdW1lciBmcm9tIGFjcXVpcmluZyBhIHJlYWRlci5cbiAgICogVG8gY2FuY2VsIHRoZSBzdHJlYW0sIGNhbmNlbCBib3RoIG9mIHRoZSByZXN1bHRpbmcgYnJhbmNoZXM7IGEgY29tcG9zaXRlIGNhbmNlbGxhdGlvbiByZWFzb24gd2lsbCB0aGVuIGJlXG4gICAqIHByb3BhZ2F0ZWQgdG8gdGhlIHN0cmVhbSdzIHVuZGVybHlpbmcgc291cmNlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgdGhlIGNodW5rcyBzZWVuIGluIGVhY2ggYnJhbmNoIHdpbGwgYmUgdGhlIHNhbWUgb2JqZWN0LiBJZiB0aGUgY2h1bmtzIGFyZSBub3QgaW1tdXRhYmxlLFxuICAgKiB0aGlzIGNvdWxkIGFsbG93IGludGVyZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28gYnJhbmNoZXMuXG4gICAqL1xuICB0ZWUoKTogW1JlYWRhYmxlU3RyZWFtPFI+LCBSZWFkYWJsZVN0cmVhbTxSPl0ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbigndGVlJyk7XG4gICAgfVxuXG4gICAgY29uc3QgYnJhbmNoZXMgPSBSZWFkYWJsZVN0cmVhbVRlZSh0aGlzLCBmYWxzZSk7XG4gICAgcmV0dXJuIENyZWF0ZUFycmF5RnJvbUxpc3QoYnJhbmNoZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFzeW5jaHJvbm91c2x5IGl0ZXJhdGVzIG92ZXIgdGhlIGNodW5rcyBpbiB0aGUgc3RyZWFtJ3MgaW50ZXJuYWwgcXVldWUuXG4gICAqXG4gICAqIEFzeW5jaHJvbm91c2x5IGl0ZXJhdGluZyBvdmVyIHRoZSBzdHJlYW0gd2lsbCBsb2NrIGl0LCBwcmV2ZW50aW5nIGFueSBvdGhlciBjb25zdW1lciBmcm9tIGFjcXVpcmluZyBhIHJlYWRlci5cbiAgICogVGhlIGxvY2sgd2lsbCBiZSByZWxlYXNlZCBpZiB0aGUgYXN5bmMgaXRlcmF0b3IncyB7QGxpbmsgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yLnJldHVybiB8IHJldHVybigpfSBtZXRob2RcbiAgICogaXMgY2FsbGVkLCBlLmcuIGJ5IGJyZWFraW5nIG91dCBvZiB0aGUgbG9vcC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgY2FsbGluZyB0aGUgYXN5bmMgaXRlcmF0b3IncyB7QGxpbmsgUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yLnJldHVybiB8IHJldHVybigpfSBtZXRob2Qgd2lsbCBhbHNvXG4gICAqIGNhbmNlbCB0aGUgc3RyZWFtLiBUbyBwcmV2ZW50IHRoaXMsIHVzZSB0aGUgc3RyZWFtJ3Mge0BsaW5rIFJlYWRhYmxlU3RyZWFtLnZhbHVlcyB8IHZhbHVlcygpfSBtZXRob2QsIHBhc3NpbmdcbiAgICogYHRydWVgIGZvciB0aGUgYHByZXZlbnRDYW5jZWxgIG9wdGlvbi5cbiAgICovXG4gIHZhbHVlcyhvcHRpb25zPzogUmVhZGFibGVTdHJlYW1JdGVyYXRvck9wdGlvbnMpOiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I8Uj47XG4gIHZhbHVlcyhyYXdPcHRpb25zOiBSZWFkYWJsZVN0cmVhbUl0ZXJhdG9yT3B0aW9ucyB8IG51bGwgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I8Uj4ge1xuICAgIGlmICghSXNSZWFkYWJsZVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbigndmFsdWVzJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgb3B0aW9ucyA9IGNvbnZlcnRJdGVyYXRvck9wdGlvbnMocmF3T3B0aW9ucywgJ0ZpcnN0IHBhcmFtZXRlcicpO1xuICAgIHJldHVybiBBY3F1aXJlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yPFI+KHRoaXMsIG9wdGlvbnMucHJldmVudENhbmNlbCk7XG4gIH1cblxuICAvKipcbiAgICoge0Bpbmhlcml0RG9jIFJlYWRhYmxlU3RyZWFtLnZhbHVlc31cbiAgICovXG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl06IChvcHRpb25zPzogUmVhZGFibGVTdHJlYW1JdGVyYXRvck9wdGlvbnMpID0+IFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcjxSPjtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLCB7XG4gIGNhbmNlbDogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGdldFJlYWRlcjogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHBpcGVUaHJvdWdoOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgcGlwZVRvOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgdGVlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgdmFsdWVzOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgbG9ja2VkOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7XG4gICAgdmFsdWU6ICdSZWFkYWJsZVN0cmVhbScsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuaWYgKHR5cGVvZiBTeW1ib2wuYXN5bmNJdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IsIHtcbiAgICB2YWx1ZTogUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLnZhbHVlcyxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcixcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZFJlc3VsdCxcbiAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZFJlc3VsdCxcbiAgVW5kZXJseWluZ0J5dGVTb3VyY2UsXG4gIFVuZGVybHlpbmdTb3VyY2UsXG4gIFVuZGVybHlpbmdTb3VyY2VTdGFydENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU291cmNlUHVsbENhbGxiYWNrLFxuICBVbmRlcmx5aW5nU291cmNlQ2FuY2VsQ2FsbGJhY2ssXG4gIFVuZGVybHlpbmdCeXRlU291cmNlU3RhcnRDYWxsYmFjayxcbiAgVW5kZXJseWluZ0J5dGVTb3VyY2VQdWxsQ2FsbGJhY2ssXG4gIFN0cmVhbVBpcGVPcHRpb25zLFxuICBSZWFkYWJsZVdyaXRhYmxlUGFpcixcbiAgUmVhZGFibGVTdHJlYW1JdGVyYXRvck9wdGlvbnNcbn07XG5cbi8vIEFic3RyYWN0IG9wZXJhdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbS5cblxuLy8gVGhyb3dzIGlmIGFuZCBvbmx5IGlmIHN0YXJ0QWxnb3JpdGhtIHRocm93cy5cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVSZWFkYWJsZVN0cmVhbTxSPihzdGFydEFsZ29yaXRobTogKCkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1bGxBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQWxnb3JpdGhtOiAocmVhc29uOiBhbnkpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaFdhdGVyTWFyayA9IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPFI+ID0gKCkgPT4gMSk6IFJlYWRhYmxlU3RyZWFtPFI+IHtcbiAgYXNzZXJ0KElzTm9uTmVnYXRpdmVOdW1iZXIoaGlnaFdhdGVyTWFyaykpO1xuXG4gIGNvbnN0IHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4gPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSk7XG4gIEluaXRpYWxpemVSZWFkYWJsZVN0cmVhbShzdHJlYW0pO1xuXG4gIGNvbnN0IGNvbnRyb2xsZXI6IFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Uj4gPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlKTtcbiAgU2V0VXBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyKFxuICAgIHN0cmVhbSwgY29udHJvbGxlciwgc3RhcnRBbGdvcml0aG0sIHB1bGxBbGdvcml0aG0sIGNhbmNlbEFsZ29yaXRobSwgaGlnaFdhdGVyTWFyaywgc2l6ZUFsZ29yaXRobVxuICApO1xuXG4gIHJldHVybiBzdHJlYW07XG59XG5cbi8vIFRocm93cyBpZiBhbmQgb25seSBpZiBzdGFydEFsZ29yaXRobSB0aHJvd3MuXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlUmVhZGFibGVCeXRlU3RyZWFtKFxuICBzdGFydEFsZ29yaXRobTogKCkgPT4gdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+LFxuICBwdWxsQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICBjYW5jZWxBbGdvcml0aG06IChyZWFzb246IGFueSkgPT4gUHJvbWlzZTx2b2lkPlxuKTogUmVhZGFibGVCeXRlU3RyZWFtIHtcbiAgY29uc3Qgc3RyZWFtOiBSZWFkYWJsZUJ5dGVTdHJlYW0gPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtLnByb3RvdHlwZSk7XG4gIEluaXRpYWxpemVSZWFkYWJsZVN0cmVhbShzdHJlYW0pO1xuXG4gIGNvbnN0IGNvbnRyb2xsZXI6IFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlKTtcbiAgU2V0VXBSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyKHN0cmVhbSwgY29udHJvbGxlciwgc3RhcnRBbGdvcml0aG0sIHB1bGxBbGdvcml0aG0sIGNhbmNlbEFsZ29yaXRobSwgMCwgdW5kZWZpbmVkKTtcblxuICByZXR1cm4gc3RyZWFtO1xufVxuXG5mdW5jdGlvbiBJbml0aWFsaXplUmVhZGFibGVTdHJlYW0oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSkge1xuICBzdHJlYW0uX3N0YXRlID0gJ3JlYWRhYmxlJztcbiAgc3RyZWFtLl9yZWFkZXIgPSB1bmRlZmluZWQ7XG4gIHN0cmVhbS5fc3RvcmVkRXJyb3IgPSB1bmRlZmluZWQ7XG4gIHN0cmVhbS5fZGlzdHVyYmVkID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc1JlYWRhYmxlU3RyZWFtKHg6IHVua25vd24pOiB4IGlzIFJlYWRhYmxlU3RyZWFtIHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX3JlYWRhYmxlU3RyZWFtQ29udHJvbGxlcicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzUmVhZGFibGVTdHJlYW1EaXN0dXJiZWQoc3RyZWFtOiBSZWFkYWJsZVN0cmVhbSk6IGJvb2xlYW4ge1xuICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcblxuICByZXR1cm4gc3RyZWFtLl9kaXN0dXJiZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc1JlYWRhYmxlU3RyZWFtTG9ja2VkKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBib29sZWFuIHtcbiAgYXNzZXJ0KElzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG5cbiAgaWYgKHN0cmVhbS5fcmVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gUmVhZGFibGVTdHJlYW0gQVBJIGV4cG9zZWQgZm9yIGNvbnRyb2xsZXJzLlxuXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1DYW5jZWw8Uj4oc3RyZWFtOiBSZWFkYWJsZVN0cmVhbTxSPiwgcmVhc29uOiBhbnkpOiBQcm9taXNlPHVuZGVmaW5lZD4ge1xuICBzdHJlYW0uX2Rpc3R1cmJlZCA9IHRydWU7XG5cbiAgaWYgKHN0cmVhbS5fc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgfVxuICBpZiAoc3RyZWFtLl9zdGF0ZSA9PT0gJ2Vycm9yZWQnKSB7XG4gICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgoc3RyZWFtLl9zdG9yZWRFcnJvcik7XG4gIH1cblxuICBSZWFkYWJsZVN0cmVhbUNsb3NlKHN0cmVhbSk7XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLl9yZWFkZXI7XG4gIGlmIChyZWFkZXIgIT09IHVuZGVmaW5lZCAmJiBJc1JlYWRhYmxlU3RyZWFtQllPQlJlYWRlcihyZWFkZXIpKSB7XG4gICAgcmVhZGVyLl9yZWFkSW50b1JlcXVlc3RzLmZvckVhY2gocmVhZEludG9SZXF1ZXN0ID0+IHtcbiAgICAgIHJlYWRJbnRvUmVxdWVzdC5fY2xvc2VTdGVwcyh1bmRlZmluZWQpO1xuICAgIH0pO1xuICAgIHJlYWRlci5fcmVhZEludG9SZXF1ZXN0cyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xuICB9XG5cbiAgY29uc3Qgc291cmNlQ2FuY2VsUHJvbWlzZSA9IHN0cmVhbS5fcmVhZGFibGVTdHJlYW1Db250cm9sbGVyW0NhbmNlbFN0ZXBzXShyZWFzb24pO1xuICByZXR1cm4gdHJhbnNmb3JtUHJvbWlzZVdpdGgoc291cmNlQ2FuY2VsUHJvbWlzZSwgbm9vcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUNsb3NlPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4pOiB2b2lkIHtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdyZWFkYWJsZScpO1xuXG4gIHN0cmVhbS5fc3RhdGUgPSAnY2xvc2VkJztcblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uX3JlYWRlcjtcblxuICBpZiAocmVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkZWZhdWx0UmVhZGVyQ2xvc2VkUHJvbWlzZVJlc29sdmUocmVhZGVyKTtcblxuICBpZiAoSXNSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXI8Uj4ocmVhZGVyKSkge1xuICAgIHJlYWRlci5fcmVhZFJlcXVlc3RzLmZvckVhY2gocmVhZFJlcXVlc3QgPT4ge1xuICAgICAgcmVhZFJlcXVlc3QuX2Nsb3NlU3RlcHMoKTtcbiAgICB9KTtcbiAgICByZWFkZXIuX3JlYWRSZXF1ZXN0cyA9IG5ldyBTaW1wbGVRdWV1ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUVycm9yPFI+KHN0cmVhbTogUmVhZGFibGVTdHJlYW08Uj4sIGU6IGFueSk6IHZvaWQge1xuICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgYXNzZXJ0KHN0cmVhbS5fc3RhdGUgPT09ICdyZWFkYWJsZScpO1xuXG4gIHN0cmVhbS5fc3RhdGUgPSAnZXJyb3JlZCc7XG4gIHN0cmVhbS5fc3RvcmVkRXJyb3IgPSBlO1xuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5fcmVhZGVyO1xuXG4gIGlmIChyZWFkZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGRlZmF1bHRSZWFkZXJDbG9zZWRQcm9taXNlUmVqZWN0KHJlYWRlciwgZSk7XG5cbiAgaWYgKElzUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFI+KHJlYWRlcikpIHtcbiAgICByZWFkZXIuX3JlYWRSZXF1ZXN0cy5mb3JFYWNoKHJlYWRSZXF1ZXN0ID0+IHtcbiAgICAgIHJlYWRSZXF1ZXN0Ll9lcnJvclN0ZXBzKGUpO1xuICAgIH0pO1xuXG4gICAgcmVhZGVyLl9yZWFkUmVxdWVzdHMgPSBuZXcgU2ltcGxlUXVldWUoKTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoSXNSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIocmVhZGVyKSk7XG5cbiAgICByZWFkZXIuX3JlYWRJbnRvUmVxdWVzdHMuZm9yRWFjaChyZWFkSW50b1JlcXVlc3QgPT4ge1xuICAgICAgcmVhZEludG9SZXF1ZXN0Ll9lcnJvclN0ZXBzKGUpO1xuICAgIH0pO1xuXG4gICAgcmVhZGVyLl9yZWFkSW50b1JlcXVlc3RzID0gbmV3IFNpbXBsZVF1ZXVlKCk7XG4gIH1cbn1cblxuLy8gUmVhZGVyc1xuXG5leHBvcnQgdHlwZSBSZWFkYWJsZVN0cmVhbVJlYWRlcjxSPiA9IFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcjxSPiB8IFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlcjtcblxuZXhwb3J0IHtcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXJcbn07XG5cbi8vIENvbnRyb2xsZXJzXG5cbmV4cG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXJcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBSZWFkYWJsZVN0cmVhbS5cblxuZnVuY3Rpb24gc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbihuYW1lOiBzdHJpbmcpOiBUeXBlRXJyb3Ige1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihgUmVhZGFibGVTdHJlYW0ucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFJlYWRhYmxlU3RyZWFtYCk7XG59XG4iLCJpbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5LCBhc3NlcnRSZXF1aXJlZEZpZWxkIH0gZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgeyBSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4uL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBXcml0YWJsZVN0cmVhbSB9IGZyb20gJy4uL3dyaXRhYmxlLXN0cmVhbSc7XG5pbXBvcnQgeyBhc3NlcnRSZWFkYWJsZVN0cmVhbSB9IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtJztcbmltcG9ydCB7IGFzc2VydFdyaXRhYmxlU3RyZWFtIH0gZnJvbSAnLi93cml0YWJsZS1zdHJlYW0nO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFJlYWRhYmxlV3JpdGFibGVQYWlyPFJTIGV4dGVuZHMgUmVhZGFibGVTdHJlYW0sIFdTIGV4dGVuZHMgV3JpdGFibGVTdHJlYW0+KFxuICBwYWlyOiB7IHJlYWRhYmxlOiBSUzsgd3JpdGFibGU6IFdTIH0gfCBudWxsIHwgdW5kZWZpbmVkLFxuICBjb250ZXh0OiBzdHJpbmdcbik6IHsgcmVhZGFibGU6IFJTOyB3cml0YWJsZTogV1MgfSB7XG4gIGFzc2VydERpY3Rpb25hcnkocGFpciwgY29udGV4dCk7XG5cbiAgY29uc3QgcmVhZGFibGUgPSBwYWlyPy5yZWFkYWJsZTtcbiAgYXNzZXJ0UmVxdWlyZWRGaWVsZChyZWFkYWJsZSwgJ3JlYWRhYmxlJywgJ1JlYWRhYmxlV3JpdGFibGVQYWlyJyk7XG4gIGFzc2VydFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlLCBgJHtjb250ZXh0fSBoYXMgbWVtYmVyICdyZWFkYWJsZScgdGhhdGApO1xuXG4gIGNvbnN0IHdyaXRhYmxlID0gcGFpcj8ud3JpdGFibGU7XG4gIGFzc2VydFJlcXVpcmVkRmllbGQod3JpdGFibGUsICd3cml0YWJsZScsICdSZWFkYWJsZVdyaXRhYmxlUGFpcicpO1xuICBhc3NlcnRXcml0YWJsZVN0cmVhbSh3cml0YWJsZSwgYCR7Y29udGV4dH0gaGFzIG1lbWJlciAnd3JpdGFibGUnIHRoYXRgKTtcblxuICByZXR1cm4geyByZWFkYWJsZSwgd3JpdGFibGUgfTtcbn1cbiIsImltcG9ydCB7IGFzc2VydERpY3Rpb25hcnkgfSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCB7XG4gIFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zLFxuICBWYWxpZGF0ZWRSZWFkYWJsZVN0cmVhbUl0ZXJhdG9yT3B0aW9uc1xufSBmcm9tICcuLi9yZWFkYWJsZS1zdHJlYW0vaXRlcmF0b3Itb3B0aW9ucyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0SXRlcmF0b3JPcHRpb25zKG9wdGlvbnM6IFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFZhbGlkYXRlZFJlYWRhYmxlU3RyZWFtSXRlcmF0b3JPcHRpb25zIHtcbiAgYXNzZXJ0RGljdGlvbmFyeShvcHRpb25zLCBjb250ZXh0KTtcbiAgY29uc3QgcHJldmVudENhbmNlbCA9IG9wdGlvbnM/LnByZXZlbnRDYW5jZWw7XG4gIHJldHVybiB7IHByZXZlbnRDYW5jZWw6IEJvb2xlYW4ocHJldmVudENhbmNlbCkgfTtcbn1cbiIsImltcG9ydCB7IFF1ZXVpbmdTdHJhdGVneUluaXQgfSBmcm9tICcuLi9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IGFzc2VydERpY3Rpb25hcnksIGFzc2VydFJlcXVpcmVkRmllbGQsIGNvbnZlcnRVbnJlc3RyaWN0ZWREb3VibGUgfSBmcm9tICcuL2Jhc2ljJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3lJbml0KGluaXQ6IFF1ZXVpbmdTdHJhdGVneUluaXQgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHN0cmluZyk6IFF1ZXVpbmdTdHJhdGVneUluaXQge1xuICBhc3NlcnREaWN0aW9uYXJ5KGluaXQsIGNvbnRleHQpO1xuICBjb25zdCBoaWdoV2F0ZXJNYXJrID0gaW5pdD8uaGlnaFdhdGVyTWFyaztcbiAgYXNzZXJ0UmVxdWlyZWRGaWVsZChoaWdoV2F0ZXJNYXJrLCAnaGlnaFdhdGVyTWFyaycsICdRdWV1aW5nU3RyYXRlZ3lJbml0Jyk7XG4gIHJldHVybiB7XG4gICAgaGlnaFdhdGVyTWFyazogY29udmVydFVucmVzdHJpY3RlZERvdWJsZShoaWdoV2F0ZXJNYXJrKVxuICB9O1xufVxuIiwiaW1wb3J0IHsgUXVldWluZ1N0cmF0ZWd5LCBRdWV1aW5nU3RyYXRlZ3lJbml0IH0gZnJvbSAnLi9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IHR5cGVJc09iamVjdCB9IGZyb20gJy4vaGVscGVycy9taXNjZWxsYW5lb3VzJztcbmltcG9ydCB7IGFzc2VydFJlcXVpcmVkQXJndW1lbnQgfSBmcm9tICcuL3ZhbGlkYXRvcnMvYmFzaWMnO1xuaW1wb3J0IHsgY29udmVydFF1ZXVpbmdTdHJhdGVneUluaXQgfSBmcm9tICcuL3ZhbGlkYXRvcnMvcXVldWluZy1zdHJhdGVneS1pbml0JztcblxuLy8gVGhlIHNpemUgZnVuY3Rpb24gbXVzdCBub3QgaGF2ZSBhIHByb3RvdHlwZSBwcm9wZXJ0eSBub3IgYmUgYSBjb25zdHJ1Y3RvclxuY29uc3QgYnl0ZUxlbmd0aFNpemVGdW5jdGlvbiA9IChjaHVuazogQXJyYXlCdWZmZXJWaWV3KTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIGNodW5rLmJ5dGVMZW5ndGg7XG59O1xudHJ5IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJ5dGVMZW5ndGhTaXplRnVuY3Rpb24sICduYW1lJywge1xuICAgIHZhbHVlOiAnc2l6ZScsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufSBjYXRjaCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgaXMgbm9uLWNvbmZpZ3VyYWJsZSBpbiBvbGRlciBicm93c2Vycywgc28gaWdub3JlIGlmIHRoaXMgdGhyb3dzLlxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9GdW5jdGlvbi9uYW1lI2Jyb3dzZXJfY29tcGF0aWJpbGl0eVxufVxuXG4vKipcbiAqIEEgcXVldWluZyBzdHJhdGVneSB0aGF0IGNvdW50cyB0aGUgbnVtYmVyIG9mIGJ5dGVzIGluIGVhY2ggY2h1bmsuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5IGltcGxlbWVudHMgUXVldWluZ1N0cmF0ZWd5PEFycmF5QnVmZmVyVmlldz4ge1xuICAvKiogQGludGVybmFsICovXG4gIHJlYWRvbmx5IF9ieXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyazogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFF1ZXVpbmdTdHJhdGVneUluaXQpIHtcbiAgICBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50KG9wdGlvbnMsIDEsICdCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5Jyk7XG4gICAgb3B0aW9ucyA9IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3lJbml0KG9wdGlvbnMsICdGaXJzdCBwYXJhbWV0ZXInKTtcbiAgICB0aGlzLl9ieXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyayA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBoaWdoIHdhdGVyIG1hcmsgcHJvdmlkZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgZ2V0IGhpZ2hXYXRlck1hcmsoKTogbnVtYmVyIHtcbiAgICBpZiAoIUlzQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSh0aGlzKSkge1xuICAgICAgdGhyb3cgYnl0ZUxlbmd0aEJyYW5kQ2hlY2tFeGNlcHRpb24oJ2hpZ2hXYXRlck1hcmsnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmVzIHRoZSBzaXplIG9mIGBjaHVua2AgYnkgcmV0dXJuaW5nIHRoZSB2YWx1ZSBvZiBpdHMgYGJ5dGVMZW5ndGhgIHByb3BlcnR5LlxuICAgKi9cbiAgZ2V0IHNpemUoKTogKGNodW5rOiBBcnJheUJ1ZmZlclZpZXcpID0+IG51bWJlciB7XG4gICAgaWYgKCFJc0J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kodGhpcykpIHtcbiAgICAgIHRocm93IGJ5dGVMZW5ndGhCcmFuZENoZWNrRXhjZXB0aW9uKCdzaXplJyk7XG4gICAgfVxuICAgIHJldHVybiBieXRlTGVuZ3RoU2l6ZUZ1bmN0aW9uO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kucHJvdG90eXBlLCB7XG4gIGhpZ2hXYXRlck1hcms6IHsgZW51bWVyYWJsZTogdHJ1ZSB9LFxuICBzaXplOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ0J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3knLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kuXG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGhCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKGBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3koeDogYW55KTogeCBpcyBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5IHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2J5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4geCBpbnN0YW5jZW9mIEJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3k7XG59XG4iLCJpbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3ksIFF1ZXVpbmdTdHJhdGVneUluaXQgfSBmcm9tICcuL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHsgdHlwZUlzT2JqZWN0IH0gZnJvbSAnLi9oZWxwZXJzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHsgYXNzZXJ0UmVxdWlyZWRBcmd1bWVudCB9IGZyb20gJy4vdmFsaWRhdG9ycy9iYXNpYyc7XG5pbXBvcnQgeyBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5SW5pdCB9IGZyb20gJy4vdmFsaWRhdG9ycy9xdWV1aW5nLXN0cmF0ZWd5LWluaXQnO1xuXG4vLyBUaGUgc2l6ZSBmdW5jdGlvbiBtdXN0IG5vdCBoYXZlIGEgcHJvdG90eXBlIHByb3BlcnR5IG5vciBiZSBhIGNvbnN0cnVjdG9yXG5jb25zdCBjb3VudFNpemVGdW5jdGlvbiA9ICgpOiAxID0+IHtcbiAgcmV0dXJuIDE7XG59O1xudHJ5IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvdW50U2l6ZUZ1bmN0aW9uLCAnbmFtZScsIHtcbiAgICB2YWx1ZTogJ3NpemUnLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn0gY2F0Y2gge1xuICAvLyBUaGlzIHByb3BlcnR5IGlzIG5vbi1jb25maWd1cmFibGUgaW4gb2xkZXIgYnJvd3NlcnMsIHNvIGlnbm9yZSBpZiB0aGlzIHRocm93cy5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRnVuY3Rpb24vbmFtZSNicm93c2VyX2NvbXBhdGliaWxpdHlcbn1cblxuLyoqXG4gKiBBIHF1ZXVpbmcgc3RyYXRlZ3kgdGhhdCBjb3VudHMgdGhlIG51bWJlciBvZiBjaHVua3MuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb3VudFF1ZXVpbmdTdHJhdGVneSBpbXBsZW1lbnRzIFF1ZXVpbmdTdHJhdGVneTxhbnk+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICByZWFkb25seSBfY291bnRRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrITogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFF1ZXVpbmdTdHJhdGVneUluaXQpIHtcbiAgICBhc3NlcnRSZXF1aXJlZEFyZ3VtZW50KG9wdGlvbnMsIDEsICdDb3VudFF1ZXVpbmdTdHJhdGVneScpO1xuICAgIG9wdGlvbnMgPSBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5SW5pdChvcHRpb25zLCAnRmlyc3QgcGFyYW1ldGVyJyk7XG4gICAgdGhpcy5fY291bnRRdWV1aW5nU3RyYXRlZ3lIaWdoV2F0ZXJNYXJrID0gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGhpZ2ggd2F0ZXIgbWFyayBwcm92aWRlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAqL1xuICBnZXQgaGlnaFdhdGVyTWFyaygpOiBudW1iZXIge1xuICAgIGlmICghSXNDb3VudFF1ZXVpbmdTdHJhdGVneSh0aGlzKSkge1xuICAgICAgdGhyb3cgY291bnRCcmFuZENoZWNrRXhjZXB0aW9uKCdoaWdoV2F0ZXJNYXJrJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jb3VudFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcms7XG4gIH1cblxuICAvKipcbiAgICogTWVhc3VyZXMgdGhlIHNpemUgb2YgYGNodW5rYCBieSBhbHdheXMgcmV0dXJuaW5nIDEuXG4gICAqIFRoaXMgZW5zdXJlcyB0aGF0IHRoZSB0b3RhbCBxdWV1ZSBzaXplIGlzIGEgY291bnQgb2YgdGhlIG51bWJlciBvZiBjaHVua3MgaW4gdGhlIHF1ZXVlLlxuICAgKi9cbiAgZ2V0IHNpemUoKTogKGNodW5rOiBhbnkpID0+IDEge1xuICAgIGlmICghSXNDb3VudFF1ZXVpbmdTdHJhdGVneSh0aGlzKSkge1xuICAgICAgdGhyb3cgY291bnRCcmFuZENoZWNrRXhjZXB0aW9uKCdzaXplJyk7XG4gICAgfVxuICAgIHJldHVybiBjb3VudFNpemVGdW5jdGlvbjtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb3VudFF1ZXVpbmdTdHJhdGVneS5wcm90b3R5cGUsIHtcbiAgaGlnaFdhdGVyTWFyazogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHNpemU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ291bnRRdWV1aW5nU3RyYXRlZ3kucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ0NvdW50UXVldWluZ1N0cmF0ZWd5JyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHRoZSBDb3VudFF1ZXVpbmdTdHJhdGVneS5cblxuZnVuY3Rpb24gY291bnRCcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKGBDb3VudFF1ZXVpbmdTdHJhdGVneS5wcm90b3R5cGUuJHtuYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIGEgQ291bnRRdWV1aW5nU3RyYXRlZ3lgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIElzQ291bnRRdWV1aW5nU3RyYXRlZ3koeDogYW55KTogeCBpcyBDb3VudFF1ZXVpbmdTdHJhdGVneSB7XG4gIGlmICghdHlwZUlzT2JqZWN0KHgpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ19jb3VudFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcmsnKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgQ291bnRRdWV1aW5nU3RyYXRlZ3k7XG59XG4iLCJpbXBvcnQgeyBhc3NlcnREaWN0aW9uYXJ5LCBhc3NlcnRGdW5jdGlvbiB9IGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHsgcHJvbWlzZUNhbGwsIHJlZmxlY3RDYWxsIH0gZnJvbSAnLi4vaGVscGVycy93ZWJpZGwnO1xuaW1wb3J0IHtcbiAgVHJhbnNmb3JtZXIsXG4gIFRyYW5zZm9ybWVyRmx1c2hDYWxsYmFjayxcbiAgVHJhbnNmb3JtZXJTdGFydENhbGxiYWNrLFxuICBUcmFuc2Zvcm1lclRyYW5zZm9ybUNhbGxiYWNrLFxuICBWYWxpZGF0ZWRUcmFuc2Zvcm1lclxufSBmcm9tICcuLi90cmFuc2Zvcm0tc3RyZWFtL3RyYW5zZm9ybWVyJztcbmltcG9ydCB7IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyIH0gZnJvbSAnLi4vdHJhbnNmb3JtLXN0cmVhbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0VHJhbnNmb3JtZXI8SSwgTz4ob3JpZ2luYWw6IFRyYW5zZm9ybWVyPEksIE8+IHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogc3RyaW5nKTogVmFsaWRhdGVkVHJhbnNmb3JtZXI8SSwgTz4ge1xuICBhc3NlcnREaWN0aW9uYXJ5KG9yaWdpbmFsLCBjb250ZXh0KTtcbiAgY29uc3QgZmx1c2ggPSBvcmlnaW5hbD8uZmx1c2g7XG4gIGNvbnN0IHJlYWRhYmxlVHlwZSA9IG9yaWdpbmFsPy5yZWFkYWJsZVR5cGU7XG4gIGNvbnN0IHN0YXJ0ID0gb3JpZ2luYWw/LnN0YXJ0O1xuICBjb25zdCB0cmFuc2Zvcm0gPSBvcmlnaW5hbD8udHJhbnNmb3JtO1xuICBjb25zdCB3cml0YWJsZVR5cGUgPSBvcmlnaW5hbD8ud3JpdGFibGVUeXBlO1xuICByZXR1cm4ge1xuICAgIGZsdXNoOiBmbHVzaCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHVuZGVmaW5lZCA6XG4gICAgICBjb252ZXJ0VHJhbnNmb3JtZXJGbHVzaENhbGxiYWNrKGZsdXNoLCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ2ZsdXNoJyB0aGF0YCksXG4gICAgcmVhZGFibGVUeXBlLFxuICAgIHN0YXJ0OiBzdGFydCA9PT0gdW5kZWZpbmVkID9cbiAgICAgIHVuZGVmaW5lZCA6XG4gICAgICBjb252ZXJ0VHJhbnNmb3JtZXJTdGFydENhbGxiYWNrKHN0YXJ0LCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3N0YXJ0JyB0aGF0YCksXG4gICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0gPT09IHVuZGVmaW5lZCA/XG4gICAgICB1bmRlZmluZWQgOlxuICAgICAgY29udmVydFRyYW5zZm9ybWVyVHJhbnNmb3JtQ2FsbGJhY2sodHJhbnNmb3JtLCBvcmlnaW5hbCEsIGAke2NvbnRleHR9IGhhcyBtZW1iZXIgJ3RyYW5zZm9ybScgdGhhdGApLFxuICAgIHdyaXRhYmxlVHlwZVxuICB9O1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VHJhbnNmb3JtZXJGbHVzaENhbGxiYWNrPEksIE8+KFxuICBmbjogVHJhbnNmb3JtZXJGbHVzaENhbGxiYWNrPE8+LFxuICBvcmlnaW5hbDogVHJhbnNmb3JtZXI8SSwgTz4sXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogKGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+KSA9PiBQcm9taXNlPHZvaWQ+IHtcbiAgYXNzZXJ0RnVuY3Rpb24oZm4sIGNvbnRleHQpO1xuICByZXR1cm4gKGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+KSA9PiBwcm9taXNlQ2FsbChmbiwgb3JpZ2luYWwsIFtjb250cm9sbGVyXSk7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRUcmFuc2Zvcm1lclN0YXJ0Q2FsbGJhY2s8SSwgTz4oXG4gIGZuOiBUcmFuc2Zvcm1lclN0YXJ0Q2FsbGJhY2s8Tz4sXG4gIG9yaWdpbmFsOiBUcmFuc2Zvcm1lcjxJLCBPPixcbiAgY29udGV4dDogc3RyaW5nXG4pOiBUcmFuc2Zvcm1lclN0YXJ0Q2FsbGJhY2s8Tz4ge1xuICBhc3NlcnRGdW5jdGlvbihmbiwgY29udGV4dCk7XG4gIHJldHVybiAoY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4pID0+IHJlZmxlY3RDYWxsKGZuLCBvcmlnaW5hbCwgW2NvbnRyb2xsZXJdKTtcbn1cblxuZnVuY3Rpb24gY29udmVydFRyYW5zZm9ybWVyVHJhbnNmb3JtQ2FsbGJhY2s8SSwgTz4oXG4gIGZuOiBUcmFuc2Zvcm1lclRyYW5zZm9ybUNhbGxiYWNrPEksIE8+LFxuICBvcmlnaW5hbDogVHJhbnNmb3JtZXI8SSwgTz4sXG4gIGNvbnRleHQ6IHN0cmluZ1xuKTogKGNodW5rOiBJLCBjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPikgPT4gUHJvbWlzZTx2b2lkPiB7XG4gIGFzc2VydEZ1bmN0aW9uKGZuLCBjb250ZXh0KTtcbiAgcmV0dXJuIChjaHVuazogSSwgY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4pID0+IHByb21pc2VDYWxsKGZuLCBvcmlnaW5hbCwgW2NodW5rLCBjb250cm9sbGVyXSk7XG59XG4iLCJpbXBvcnQgYXNzZXJ0IGZyb20gJy4uL3N0dWIvYXNzZXJ0JztcbmltcG9ydCB7IG5ld1Byb21pc2UsIHByb21pc2VSZWplY3RlZFdpdGgsIHByb21pc2VSZXNvbHZlZFdpdGgsIHRyYW5zZm9ybVByb21pc2VXaXRoIH0gZnJvbSAnLi9oZWxwZXJzL3dlYmlkbCc7XG5pbXBvcnQgeyBDcmVhdGVSZWFkYWJsZVN0cmVhbSwgUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIgfSBmcm9tICcuL3JlYWRhYmxlLXN0cmVhbSc7XG5pbXBvcnQge1xuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FuQ2xvc2VPckVucXVldWUsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbG9zZSxcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVucXVldWUsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcixcbiAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckdldERlc2lyZWRTaXplLFxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVySGFzQmFja3ByZXNzdXJlXG59IGZyb20gJy4vcmVhZGFibGUtc3RyZWFtL2RlZmF1bHQtY29udHJvbGxlcic7XG5pbXBvcnQgeyBRdWV1aW5nU3RyYXRlZ3ksIFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjayB9IGZyb20gJy4vcXVldWluZy1zdHJhdGVneSc7XG5pbXBvcnQgeyBDcmVhdGVXcml0YWJsZVN0cmVhbSwgV3JpdGFibGVTdHJlYW0sIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcklmTmVlZGVkIH0gZnJvbSAnLi93cml0YWJsZS1zdHJlYW0nO1xuaW1wb3J0IHsgdHlwZUlzT2JqZWN0IH0gZnJvbSAnLi9oZWxwZXJzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHsgSXNOb25OZWdhdGl2ZU51bWJlciB9IGZyb20gJy4vYWJzdHJhY3Qtb3BzL21pc2NlbGxhbmVvdXMnO1xuaW1wb3J0IHsgY29udmVydFF1ZXVpbmdTdHJhdGVneSB9IGZyb20gJy4vdmFsaWRhdG9ycy9xdWV1aW5nLXN0cmF0ZWd5JztcbmltcG9ydCB7IEV4dHJhY3RIaWdoV2F0ZXJNYXJrLCBFeHRyYWN0U2l6ZUFsZ29yaXRobSB9IGZyb20gJy4vYWJzdHJhY3Qtb3BzL3F1ZXVpbmctc3RyYXRlZ3knO1xuaW1wb3J0IHtcbiAgVHJhbnNmb3JtZXIsXG4gIFRyYW5zZm9ybWVyRmx1c2hDYWxsYmFjayxcbiAgVHJhbnNmb3JtZXJTdGFydENhbGxiYWNrLFxuICBUcmFuc2Zvcm1lclRyYW5zZm9ybUNhbGxiYWNrLFxuICBWYWxpZGF0ZWRUcmFuc2Zvcm1lclxufSBmcm9tICcuL3RyYW5zZm9ybS1zdHJlYW0vdHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgY29udmVydFRyYW5zZm9ybWVyIH0gZnJvbSAnLi92YWxpZGF0b3JzL3RyYW5zZm9ybWVyJztcblxuLy8gQ2xhc3MgVHJhbnNmb3JtU3RyZWFtXG5cbi8qKlxuICogQSB0cmFuc2Zvcm0gc3RyZWFtIGNvbnNpc3RzIG9mIGEgcGFpciBvZiBzdHJlYW1zOiBhIHtAbGluayBXcml0YWJsZVN0cmVhbSB8IHdyaXRhYmxlIHN0cmVhbX0sXG4gKiBrbm93biBhcyBpdHMgd3JpdGFibGUgc2lkZSwgYW5kIGEge0BsaW5rIFJlYWRhYmxlU3RyZWFtIHwgcmVhZGFibGUgc3RyZWFtfSwga25vd24gYXMgaXRzIHJlYWRhYmxlIHNpZGUuXG4gKiBJbiBhIG1hbm5lciBzcGVjaWZpYyB0byB0aGUgdHJhbnNmb3JtIHN0cmVhbSBpbiBxdWVzdGlvbiwgd3JpdGVzIHRvIHRoZSB3cml0YWJsZSBzaWRlIHJlc3VsdCBpbiBuZXcgZGF0YSBiZWluZ1xuICogbWFkZSBhdmFpbGFibGUgZm9yIHJlYWRpbmcgZnJvbSB0aGUgcmVhZGFibGUgc2lkZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm1TdHJlYW08SSA9IGFueSwgTyA9IGFueT4ge1xuICAvKiogQGludGVybmFsICovXG4gIF93cml0YWJsZSE6IFdyaXRhYmxlU3RyZWFtPEk+O1xuICAvKiogQGludGVybmFsICovXG4gIF9yZWFkYWJsZSE6IFJlYWRhYmxlU3RyZWFtPE8+O1xuICAvKiogQGludGVybmFsICovXG4gIF9iYWNrcHJlc3N1cmUhOiBib29sZWFuO1xuICAvKiogQGludGVybmFsICovXG4gIF9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlITogUHJvbWlzZTx2b2lkPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZV9yZXNvbHZlITogKCkgPT4gdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlciE6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHRyYW5zZm9ybWVyPzogVHJhbnNmb3JtZXI8SSwgTz4sXG4gICAgd3JpdGFibGVTdHJhdGVneT86IFF1ZXVpbmdTdHJhdGVneTxJPixcbiAgICByZWFkYWJsZVN0cmF0ZWd5PzogUXVldWluZ1N0cmF0ZWd5PE8+XG4gICk7XG4gIGNvbnN0cnVjdG9yKHJhd1RyYW5zZm9ybWVyOiBUcmFuc2Zvcm1lcjxJLCBPPiB8IG51bGwgfCB1bmRlZmluZWQgPSB7fSxcbiAgICAgICAgICAgICAgcmF3V3JpdGFibGVTdHJhdGVneTogUXVldWluZ1N0cmF0ZWd5PEk+IHwgbnVsbCB8IHVuZGVmaW5lZCA9IHt9LFxuICAgICAgICAgICAgICByYXdSZWFkYWJsZVN0cmF0ZWd5OiBRdWV1aW5nU3RyYXRlZ3k8Tz4gfCBudWxsIHwgdW5kZWZpbmVkID0ge30pIHtcbiAgICBpZiAocmF3VHJhbnNmb3JtZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmF3VHJhbnNmb3JtZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHdyaXRhYmxlU3RyYXRlZ3kgPSBjb252ZXJ0UXVldWluZ1N0cmF0ZWd5KHJhd1dyaXRhYmxlU3RyYXRlZ3ksICdTZWNvbmQgcGFyYW1ldGVyJyk7XG4gICAgY29uc3QgcmVhZGFibGVTdHJhdGVneSA9IGNvbnZlcnRRdWV1aW5nU3RyYXRlZ3kocmF3UmVhZGFibGVTdHJhdGVneSwgJ1RoaXJkIHBhcmFtZXRlcicpO1xuXG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjb252ZXJ0VHJhbnNmb3JtZXIocmF3VHJhbnNmb3JtZXIsICdGaXJzdCBwYXJhbWV0ZXInKTtcbiAgICBpZiAodHJhbnNmb3JtZXIucmVhZGFibGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHJlYWRhYmxlVHlwZSBzcGVjaWZpZWQnKTtcbiAgICB9XG4gICAgaWYgKHRyYW5zZm9ybWVyLndyaXRhYmxlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB3cml0YWJsZVR5cGUgc3BlY2lmaWVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVhZGFibGVIaWdoV2F0ZXJNYXJrID0gRXh0cmFjdEhpZ2hXYXRlck1hcmsocmVhZGFibGVTdHJhdGVneSwgMCk7XG4gICAgY29uc3QgcmVhZGFibGVTaXplQWxnb3JpdGhtID0gRXh0cmFjdFNpemVBbGdvcml0aG0ocmVhZGFibGVTdHJhdGVneSk7XG4gICAgY29uc3Qgd3JpdGFibGVIaWdoV2F0ZXJNYXJrID0gRXh0cmFjdEhpZ2hXYXRlck1hcmsod3JpdGFibGVTdHJhdGVneSwgMSk7XG4gICAgY29uc3Qgd3JpdGFibGVTaXplQWxnb3JpdGhtID0gRXh0cmFjdFNpemVBbGdvcml0aG0od3JpdGFibGVTdHJhdGVneSk7XG5cbiAgICBsZXQgc3RhcnRQcm9taXNlX3Jlc29sdmUhOiAodmFsdWU6IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPikgPT4gdm9pZDtcbiAgICBjb25zdCBzdGFydFByb21pc2UgPSBuZXdQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xuICAgICAgc3RhcnRQcm9taXNlX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgSW5pdGlhbGl6ZVRyYW5zZm9ybVN0cmVhbShcbiAgICAgIHRoaXMsIHN0YXJ0UHJvbWlzZSwgd3JpdGFibGVIaWdoV2F0ZXJNYXJrLCB3cml0YWJsZVNpemVBbGdvcml0aG0sIHJlYWRhYmxlSGlnaFdhdGVyTWFyaywgcmVhZGFibGVTaXplQWxnb3JpdGhtXG4gICAgKTtcbiAgICBTZXRVcFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyRnJvbVRyYW5zZm9ybWVyKHRoaXMsIHRyYW5zZm9ybWVyKTtcblxuICAgIGlmICh0cmFuc2Zvcm1lci5zdGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdGFydFByb21pc2VfcmVzb2x2ZSh0cmFuc2Zvcm1lci5zdGFydCh0aGlzLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UHJvbWlzZV9yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSByZWFkYWJsZSBzaWRlIG9mIHRoZSB0cmFuc2Zvcm0gc3RyZWFtLlxuICAgKi9cbiAgZ2V0IHJlYWRhYmxlKCk6IFJlYWRhYmxlU3RyZWFtPE8+IHtcbiAgICBpZiAoIUlzVHJhbnNmb3JtU3RyZWFtKHRoaXMpKSB7XG4gICAgICB0aHJvdyBzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKCdyZWFkYWJsZScpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgd3JpdGFibGUgc2lkZSBvZiB0aGUgdHJhbnNmb3JtIHN0cmVhbS5cbiAgICovXG4gIGdldCB3cml0YWJsZSgpOiBXcml0YWJsZVN0cmVhbTxJPiB7XG4gICAgaWYgKCFJc1RyYW5zZm9ybVN0cmVhbSh0aGlzKSkge1xuICAgICAgdGhyb3cgc3RyZWFtQnJhbmRDaGVja0V4Y2VwdGlvbignd3JpdGFibGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGU7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVHJhbnNmb3JtU3RyZWFtLnByb3RvdHlwZSwge1xuICByZWFkYWJsZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIHdyaXRhYmxlOiB7IGVudW1lcmFibGU6IHRydWUgfVxufSk7XG5pZiAodHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybVN0cmVhbS5wcm90b3R5cGUsIFN5bWJvbC50b1N0cmluZ1RhZywge1xuICAgIHZhbHVlOiAnVHJhbnNmb3JtU3RyZWFtJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIFRyYW5zZm9ybWVyLFxuICBUcmFuc2Zvcm1lclN0YXJ0Q2FsbGJhY2ssXG4gIFRyYW5zZm9ybWVyRmx1c2hDYWxsYmFjayxcbiAgVHJhbnNmb3JtZXJUcmFuc2Zvcm1DYWxsYmFja1xufTtcblxuLy8gVHJhbnNmb3JtIFN0cmVhbSBBYnN0cmFjdCBPcGVyYXRpb25zXG5cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVUcmFuc2Zvcm1TdHJlYW08SSwgTz4oc3RhcnRBbGdvcml0aG06ICgpID0+IHZvaWQgfCBQcm9taXNlTGlrZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtQWxnb3JpdGhtOiAoY2h1bms6IEkpID0+IFByb21pc2U8dm9pZD4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZUhpZ2hXYXRlck1hcmsgPSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZVNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxJPiA9ICgpID0+IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRhYmxlSGlnaFdhdGVyTWFyayA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRhYmxlU2l6ZUFsZ29yaXRobTogUXVldWluZ1N0cmF0ZWd5U2l6ZUNhbGxiYWNrPE8+ID0gKCkgPT4gMSkge1xuICBhc3NlcnQoSXNOb25OZWdhdGl2ZU51bWJlcih3cml0YWJsZUhpZ2hXYXRlck1hcmspKTtcbiAgYXNzZXJ0KElzTm9uTmVnYXRpdmVOdW1iZXIocmVhZGFibGVIaWdoV2F0ZXJNYXJrKSk7XG5cbiAgY29uc3Qgc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW08SSwgTz4gPSBPYmplY3QuY3JlYXRlKFRyYW5zZm9ybVN0cmVhbS5wcm90b3R5cGUpO1xuXG4gIGxldCBzdGFydFByb21pc2VfcmVzb2x2ZSE6ICh2YWx1ZTogdm9pZCB8IFByb21pc2VMaWtlPHZvaWQ+KSA9PiB2b2lkO1xuICBjb25zdCBzdGFydFByb21pc2UgPSBuZXdQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xuICAgIHN0YXJ0UHJvbWlzZV9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgfSk7XG5cbiAgSW5pdGlhbGl6ZVRyYW5zZm9ybVN0cmVhbShzdHJlYW0sIHN0YXJ0UHJvbWlzZSwgd3JpdGFibGVIaWdoV2F0ZXJNYXJrLCB3cml0YWJsZVNpemVBbGdvcml0aG0sIHJlYWRhYmxlSGlnaFdhdGVyTWFyayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkYWJsZVNpemVBbGdvcml0aG0pO1xuXG4gIGNvbnN0IGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+ID0gT2JqZWN0LmNyZWF0ZShUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUpO1xuXG4gIFNldFVwVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIoc3RyZWFtLCBjb250cm9sbGVyLCB0cmFuc2Zvcm1BbGdvcml0aG0sIGZsdXNoQWxnb3JpdGhtKTtcblxuICBjb25zdCBzdGFydFJlc3VsdCA9IHN0YXJ0QWxnb3JpdGhtKCk7XG4gIHN0YXJ0UHJvbWlzZV9yZXNvbHZlKHN0YXJ0UmVzdWx0KTtcbiAgcmV0dXJuIHN0cmVhbTtcbn1cblxuZnVuY3Rpb24gSW5pdGlhbGl6ZVRyYW5zZm9ybVN0cmVhbTxJLCBPPihzdHJlYW06IFRyYW5zZm9ybVN0cmVhbTxJLCBPPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQcm9taXNlOiBQcm9taXNlPHZvaWQ+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZUhpZ2hXYXRlck1hcms6IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGVTaXplQWxnb3JpdGhtOiBRdWV1aW5nU3RyYXRlZ3lTaXplQ2FsbGJhY2s8ST4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRhYmxlSGlnaFdhdGVyTWFyazogbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkYWJsZVNpemVBbGdvcml0aG06IFF1ZXVpbmdTdHJhdGVneVNpemVDYWxsYmFjazxPPikge1xuICBmdW5jdGlvbiBzdGFydEFsZ29yaXRobSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gc3RhcnRQcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVBbGdvcml0aG0oY2h1bms6IEkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdFNpbmtXcml0ZUFsZ29yaXRobShzdHJlYW0sIGNodW5rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0QWxnb3JpdGhtKHJlYXNvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTaW5rQWJvcnRBbGdvcml0aG0oc3RyZWFtLCByZWFzb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VBbGdvcml0aG0oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTaW5rQ2xvc2VBbGdvcml0aG0oc3RyZWFtKTtcbiAgfVxuXG4gIHN0cmVhbS5fd3JpdGFibGUgPSBDcmVhdGVXcml0YWJsZVN0cmVhbShzdGFydEFsZ29yaXRobSwgd3JpdGVBbGdvcml0aG0sIGNsb3NlQWxnb3JpdGhtLCBhYm9ydEFsZ29yaXRobSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlSGlnaFdhdGVyTWFyaywgd3JpdGFibGVTaXplQWxnb3JpdGhtKTtcblxuICBmdW5jdGlvbiBwdWxsQWxnb3JpdGhtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0U291cmNlUHVsbEFsZ29yaXRobShzdHJlYW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsQWxnb3JpdGhtKHJlYXNvbjogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgVHJhbnNmb3JtU3RyZWFtRXJyb3JXcml0YWJsZUFuZFVuYmxvY2tXcml0ZShzdHJlYW0sIHJlYXNvbik7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbiAgfVxuXG4gIHN0cmVhbS5fcmVhZGFibGUgPSBDcmVhdGVSZWFkYWJsZVN0cmVhbShzdGFydEFsZ29yaXRobSwgcHVsbEFsZ29yaXRobSwgY2FuY2VsQWxnb3JpdGhtLCByZWFkYWJsZUhpZ2hXYXRlck1hcmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkYWJsZVNpemVBbGdvcml0aG0pO1xuXG4gIC8vIFRoZSBbW2JhY2twcmVzc3VyZV1dIHNsb3QgaXMgc2V0IHRvIHVuZGVmaW5lZCBzbyB0aGF0IGl0IGNhbiBiZSBpbml0aWFsaXNlZCBieSBUcmFuc2Zvcm1TdHJlYW1TZXRCYWNrcHJlc3N1cmUuXG4gIHN0cmVhbS5fYmFja3ByZXNzdXJlID0gdW5kZWZpbmVkITtcbiAgc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlID0gdW5kZWZpbmVkITtcbiAgc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlX3Jlc29sdmUgPSB1bmRlZmluZWQhO1xuICBUcmFuc2Zvcm1TdHJlYW1TZXRCYWNrcHJlc3N1cmUoc3RyZWFtLCB0cnVlKTtcblxuICBzdHJlYW0uX3RyYW5zZm9ybVN0cmVhbUNvbnRyb2xsZXIgPSB1bmRlZmluZWQhO1xufVxuXG5mdW5jdGlvbiBJc1RyYW5zZm9ybVN0cmVhbSh4OiB1bmtub3duKTogeCBpcyBUcmFuc2Zvcm1TdHJlYW0ge1xuICBpZiAoIXR5cGVJc09iamVjdCh4KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHgsICdfdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlcicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHggaW5zdGFuY2VvZiBUcmFuc2Zvcm1TdHJlYW07XG59XG5cbi8vIFRoaXMgaXMgYSBuby1vcCBpZiBib3RoIHNpZGVzIGFyZSBhbHJlYWR5IGVycm9yZWQuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1FcnJvcihzdHJlYW06IFRyYW5zZm9ybVN0cmVhbSwgZTogYW55KSB7XG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcihcbiAgICBzdHJlYW0uX3JlYWRhYmxlLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+LFxuICAgIGVcbiAgKTtcbiAgVHJhbnNmb3JtU3RyZWFtRXJyb3JXcml0YWJsZUFuZFVuYmxvY2tXcml0ZShzdHJlYW0sIGUpO1xufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1FcnJvcldyaXRhYmxlQW5kVW5ibG9ja1dyaXRlKHN0cmVhbTogVHJhbnNmb3JtU3RyZWFtLCBlOiBhbnkpIHtcbiAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJDbGVhckFsZ29yaXRobXMoc3RyZWFtLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyKTtcbiAgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckVycm9ySWZOZWVkZWQoc3RyZWFtLl93cml0YWJsZS5fd3JpdGFibGVTdHJlYW1Db250cm9sbGVyLCBlKTtcbiAgaWYgKHN0cmVhbS5fYmFja3ByZXNzdXJlKSB7XG4gICAgLy8gUHJldGVuZCB0aGF0IHB1bGwoKSB3YXMgY2FsbGVkIHRvIHBlcm1pdCBhbnkgcGVuZGluZyB3cml0ZSgpIGNhbGxzIHRvIGNvbXBsZXRlLiBUcmFuc2Zvcm1TdHJlYW1TZXRCYWNrcHJlc3N1cmUoKVxuICAgIC8vIGNhbm5vdCBiZSBjYWxsZWQgZnJvbSBlbnF1ZXVlKCkgb3IgcHVsbCgpIG9uY2UgdGhlIFJlYWRhYmxlU3RyZWFtIGlzIGVycm9yZWQsIHNvIHRoaXMgd2lsbCB3aWxsIGJlIHRoZSBmaW5hbCB0aW1lXG4gICAgLy8gX2JhY2twcmVzc3VyZSBpcyBzZXQuXG4gICAgVHJhbnNmb3JtU3RyZWFtU2V0QmFja3ByZXNzdXJlKHN0cmVhbSwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybVN0cmVhbVNldEJhY2twcmVzc3VyZShzdHJlYW06IFRyYW5zZm9ybVN0cmVhbSwgYmFja3ByZXNzdXJlOiBib29sZWFuKSB7XG4gIC8vIFBhc3NlcyBhbHNvIHdoZW4gY2FsbGVkIGR1cmluZyBjb25zdHJ1Y3Rpb24uXG4gIGFzc2VydChzdHJlYW0uX2JhY2twcmVzc3VyZSAhPT0gYmFja3ByZXNzdXJlKTtcblxuICBpZiAoc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICBzdHJlYW0uX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2VfcmVzb2x2ZSgpO1xuICB9XG5cbiAgc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlID0gbmV3UHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBzdHJlYW0uX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2VfcmVzb2x2ZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHN0cmVhbS5fYmFja3ByZXNzdXJlID0gYmFja3ByZXNzdXJlO1xufVxuXG4vLyBDbGFzcyBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclxuXG4vKipcbiAqIEFsbG93cyBjb250cm9sIG9mIHRoZSB7QGxpbmsgUmVhZGFibGVTdHJlYW19IGFuZCB7QGxpbmsgV3JpdGFibGVTdHJlYW19IG9mIHRoZSBhc3NvY2lhdGVkIHtAbGluayBUcmFuc2Zvcm1TdHJlYW19LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+IHtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY29udHJvbGxlZFRyYW5zZm9ybVN0cmVhbTogVHJhbnNmb3JtU3RyZWFtPGFueSwgTz47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX3RyYW5zZm9ybUFsZ29yaXRobTogKGNodW5rOiBhbnkpID0+IFByb21pc2U8dm9pZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX2ZsdXNoQWxnb3JpdGhtOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSWxsZWdhbCBjb25zdHJ1Y3RvcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRlc2lyZWQgc2l6ZSB0byBmaWxsIHRoZSByZWFkYWJsZSBzaWRl4oCZcyBpbnRlcm5hbCBxdWV1ZS4gSXQgY2FuIGJlIG5lZ2F0aXZlLCBpZiB0aGUgcXVldWUgaXMgb3Zlci1mdWxsLlxuICAgKi9cbiAgZ2V0IGRlc2lyZWRTaXplKCk6IG51bWJlciB8IG51bGwge1xuICAgIGlmICghSXNUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdkZXNpcmVkU2l6ZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlYWRhYmxlQ29udHJvbGxlciA9IHRoaXMuX2NvbnRyb2xsZWRUcmFuc2Zvcm1TdHJlYW0uX3JlYWRhYmxlLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXI7XG4gICAgcmV0dXJuIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJHZXREZXNpcmVkU2l6ZShyZWFkYWJsZUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPik7XG4gIH1cblxuICAvKipcbiAgICogRW5xdWV1ZXMgdGhlIGdpdmVuIGNodW5rIGBjaHVua2AgaW4gdGhlIHJlYWRhYmxlIHNpZGUgb2YgdGhlIGNvbnRyb2xsZWQgdHJhbnNmb3JtIHN0cmVhbS5cbiAgICovXG4gIGVucXVldWUoY2h1bms6IE8pOiB2b2lkO1xuICBlbnF1ZXVlKGNodW5rOiBPID0gdW5kZWZpbmVkISk6IHZvaWQge1xuICAgIGlmICghSXNUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCdlbnF1ZXVlJyk7XG4gICAgfVxuXG4gICAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKHRoaXMsIGNodW5rKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFcnJvcnMgYm90aCB0aGUgcmVhZGFibGUgc2lkZSBhbmQgdGhlIHdyaXRhYmxlIHNpZGUgb2YgdGhlIGNvbnRyb2xsZWQgdHJhbnNmb3JtIHN0cmVhbSwgbWFraW5nIGFsbCBmdXR1cmVcbiAgICogaW50ZXJhY3Rpb25zIHdpdGggaXQgZmFpbCB3aXRoIHRoZSBnaXZlbiBlcnJvciBgZWAuIEFueSBjaHVua3MgcXVldWVkIGZvciB0cmFuc2Zvcm1hdGlvbiB3aWxsIGJlIGRpc2NhcmRlZC5cbiAgICovXG4gIGVycm9yKHJlYXNvbjogYW55ID0gdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgaWYgKCFJc1RyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyKHRoaXMpKSB7XG4gICAgICB0aHJvdyBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24oJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFcnJvcih0aGlzLCByZWFzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgcmVhZGFibGUgc2lkZSBhbmQgZXJyb3JzIHRoZSB3cml0YWJsZSBzaWRlIG9mIHRoZSBjb250cm9sbGVkIHRyYW5zZm9ybSBzdHJlYW0uIFRoaXMgaXMgdXNlZnVsIHdoZW4gdGhlXG4gICAqIHRyYW5zZm9ybWVyIG9ubHkgbmVlZHMgdG8gY29uc3VtZSBhIHBvcnRpb24gb2YgdGhlIGNodW5rcyB3cml0dGVuIHRvIHRoZSB3cml0YWJsZSBzaWRlLlxuICAgKi9cbiAgdGVybWluYXRlKCk6IHZvaWQge1xuICAgIGlmICghSXNUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcih0aGlzKSkge1xuICAgICAgdGhyb3cgZGVmYXVsdENvbnRyb2xsZXJCcmFuZENoZWNrRXhjZXB0aW9uKCd0ZXJtaW5hdGUnKTtcbiAgICB9XG5cbiAgICBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclRlcm1pbmF0ZSh0aGlzKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlci5wcm90b3R5cGUsIHtcbiAgZW5xdWV1ZTogeyBlbnVtZXJhYmxlOiB0cnVlIH0sXG4gIGVycm9yOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgdGVybWluYXRlOiB7IGVudW1lcmFibGU6IHRydWUgfSxcbiAgZGVzaXJlZFNpemU6IHsgZW51bWVyYWJsZTogdHJ1ZSB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIucHJvdG90eXBlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICB2YWx1ZTogJ1RyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyJyxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbi8vIFRyYW5zZm9ybSBTdHJlYW0gRGVmYXVsdCBDb250cm9sbGVyIEFic3RyYWN0IE9wZXJhdGlvbnNcblxuZnVuY3Rpb24gSXNUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPID0gYW55Pih4OiBhbnkpOiB4IGlzIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+IHtcbiAgaWYgKCF0eXBlSXNPYmplY3QoeCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2NvbnRyb2xsZWRUcmFuc2Zvcm1TdHJlYW0nKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB4IGluc3RhbmNlb2YgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI7XG59XG5cbmZ1bmN0aW9uIFNldFVwVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8SSwgTz4oc3RyZWFtOiBUcmFuc2Zvcm1TdHJlYW08SSwgTz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1BbGdvcml0aG06IChjaHVuazogSSkgPT4gUHJvbWlzZTx2b2lkPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hBbGdvcml0aG06ICgpID0+IFByb21pc2U8dm9pZD4pIHtcbiAgYXNzZXJ0KElzVHJhbnNmb3JtU3RyZWFtKHN0cmVhbSkpO1xuICBhc3NlcnQoc3RyZWFtLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyID09PSB1bmRlZmluZWQpO1xuXG4gIGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRUcmFuc2Zvcm1TdHJlYW0gPSBzdHJlYW07XG4gIHN0cmVhbS5fdHJhbnNmb3JtU3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG5cbiAgY29udHJvbGxlci5fdHJhbnNmb3JtQWxnb3JpdGhtID0gdHJhbnNmb3JtQWxnb3JpdGhtO1xuICBjb250cm9sbGVyLl9mbHVzaEFsZ29yaXRobSA9IGZsdXNoQWxnb3JpdGhtO1xufVxuXG5mdW5jdGlvbiBTZXRVcFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyRnJvbVRyYW5zZm9ybWVyPEksIE8+KHN0cmVhbTogVHJhbnNmb3JtU3RyZWFtPEksIE8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lcjogVmFsaWRhdGVkVHJhbnNmb3JtZXI8SSwgTz4pIHtcbiAgY29uc3QgY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4gPSBPYmplY3QuY3JlYXRlKFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZSk7XG5cbiAgbGV0IHRyYW5zZm9ybUFsZ29yaXRobSA9IChjaHVuazogSSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckVucXVldWUoY29udHJvbGxlciwgY2h1bmsgYXMgdW5rbm93biBhcyBPKTtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZWRXaXRoKHVuZGVmaW5lZCk7XG4gICAgfSBjYXRjaCAodHJhbnNmb3JtUmVzdWx0RSkge1xuICAgICAgcmV0dXJuIHByb21pc2VSZWplY3RlZFdpdGgodHJhbnNmb3JtUmVzdWx0RSk7XG4gICAgfVxuICB9O1xuXG4gIGxldCBmbHVzaEFsZ29yaXRobTogKCkgPT4gUHJvbWlzZTx2b2lkPiA9ICgpID0+IHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcblxuICBpZiAodHJhbnNmb3JtZXIudHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICB0cmFuc2Zvcm1BbGdvcml0aG0gPSBjaHVuayA9PiB0cmFuc2Zvcm1lci50cmFuc2Zvcm0hKGNodW5rLCBjb250cm9sbGVyKTtcbiAgfVxuICBpZiAodHJhbnNmb3JtZXIuZmx1c2ggIT09IHVuZGVmaW5lZCkge1xuICAgIGZsdXNoQWxnb3JpdGhtID0gKCkgPT4gdHJhbnNmb3JtZXIuZmx1c2ghKGNvbnRyb2xsZXIpO1xuICB9XG5cbiAgU2V0VXBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcihzdHJlYW0sIGNvbnRyb2xsZXIsIHRyYW5zZm9ybUFsZ29yaXRobSwgZmx1c2hBbGdvcml0aG0pO1xufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxhbnk+KSB7XG4gIGNvbnRyb2xsZXIuX3RyYW5zZm9ybUFsZ29yaXRobSA9IHVuZGVmaW5lZCE7XG4gIGNvbnRyb2xsZXIuX2ZsdXNoQWxnb3JpdGhtID0gdW5kZWZpbmVkITtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlPE8+KGNvbnRyb2xsZXI6IFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyPE8+LCBjaHVuazogTykge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtO1xuICBjb25zdCByZWFkYWJsZUNvbnRyb2xsZXIgPSBzdHJlYW0uX3JlYWRhYmxlLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPjtcbiAgaWYgKCFSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2FuQ2xvc2VPckVucXVldWUocmVhZGFibGVDb250cm9sbGVyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlYWRhYmxlIHNpZGUgaXMgbm90IGluIGEgc3RhdGUgdGhhdCBwZXJtaXRzIGVucXVldWUnKTtcbiAgfVxuXG4gIC8vIFdlIHRocm90dGxlIHRyYW5zZm9ybSBpbnZvY2F0aW9ucyBiYXNlZCBvbiB0aGUgYmFja3ByZXNzdXJlIG9mIHRoZSBSZWFkYWJsZVN0cmVhbSwgYnV0IHdlIHN0aWxsXG4gIC8vIGFjY2VwdCBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckVucXVldWUoKSBjYWxscy5cblxuICB0cnkge1xuICAgIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJFbnF1ZXVlKHJlYWRhYmxlQ29udHJvbGxlciwgY2h1bmspO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVGhpcyBoYXBwZW5zIHdoZW4gcmVhZGFibGVTdHJhdGVneS5zaXplKCkgdGhyb3dzLlxuICAgIFRyYW5zZm9ybVN0cmVhbUVycm9yV3JpdGFibGVBbmRVbmJsb2NrV3JpdGUoc3RyZWFtLCBlKTtcblxuICAgIHRocm93IHN0cmVhbS5fcmVhZGFibGUuX3N0b3JlZEVycm9yO1xuICB9XG5cbiAgY29uc3QgYmFja3ByZXNzdXJlID0gUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckhhc0JhY2twcmVzc3VyZShyZWFkYWJsZUNvbnRyb2xsZXIpO1xuICBpZiAoYmFja3ByZXNzdXJlICE9PSBzdHJlYW0uX2JhY2twcmVzc3VyZSkge1xuICAgIGFzc2VydChiYWNrcHJlc3N1cmUpO1xuICAgIFRyYW5zZm9ybVN0cmVhbVNldEJhY2twcmVzc3VyZShzdHJlYW0sIHRydWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyRXJyb3IoY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8YW55PiwgZTogYW55KSB7XG4gIFRyYW5zZm9ybVN0cmVhbUVycm9yKGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRUcmFuc2Zvcm1TdHJlYW0sIGUpO1xufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclBlcmZvcm1UcmFuc2Zvcm08SSwgTz4oY29udHJvbGxlcjogVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXI8Tz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bms6IEkpIHtcbiAgY29uc3QgdHJhbnNmb3JtUHJvbWlzZSA9IGNvbnRyb2xsZXIuX3RyYW5zZm9ybUFsZ29yaXRobShjaHVuayk7XG4gIHJldHVybiB0cmFuc2Zvcm1Qcm9taXNlV2l0aCh0cmFuc2Zvcm1Qcm9taXNlLCB1bmRlZmluZWQsIHIgPT4ge1xuICAgIFRyYW5zZm9ybVN0cmVhbUVycm9yKGNvbnRyb2xsZXIuX2NvbnRyb2xsZWRUcmFuc2Zvcm1TdHJlYW0sIHIpO1xuICAgIHRocm93IHI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclRlcm1pbmF0ZTxPPihjb250cm9sbGVyOiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPikge1xuICBjb25zdCBzdHJlYW0gPSBjb250cm9sbGVyLl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtO1xuICBjb25zdCByZWFkYWJsZUNvbnRyb2xsZXIgPSBzdHJlYW0uX3JlYWRhYmxlLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPjtcblxuICBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyQ2xvc2UocmVhZGFibGVDb250cm9sbGVyKTtcblxuICBjb25zdCBlcnJvciA9IG5ldyBUeXBlRXJyb3IoJ1RyYW5zZm9ybVN0cmVhbSB0ZXJtaW5hdGVkJyk7XG4gIFRyYW5zZm9ybVN0cmVhbUVycm9yV3JpdGFibGVBbmRVbmJsb2NrV3JpdGUoc3RyZWFtLCBlcnJvcik7XG59XG5cbi8vIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTaW5rIEFsZ29yaXRobXNcblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdFNpbmtXcml0ZUFsZ29yaXRobTxJLCBPPihzdHJlYW06IFRyYW5zZm9ybVN0cmVhbTxJLCBPPiwgY2h1bms6IEkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXNzZXJ0KHN0cmVhbS5fd3JpdGFibGUuX3N0YXRlID09PSAnd3JpdGFibGUnKTtcblxuICBjb25zdCBjb250cm9sbGVyID0gc3RyZWFtLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyO1xuXG4gIGlmIChzdHJlYW0uX2JhY2twcmVzc3VyZSkge1xuICAgIGNvbnN0IGJhY2twcmVzc3VyZUNoYW5nZVByb21pc2UgPSBzdHJlYW0uX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2U7XG4gICAgYXNzZXJ0KGJhY2twcmVzc3VyZUNoYW5nZVByb21pc2UgIT09IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVByb21pc2VXaXRoKGJhY2twcmVzc3VyZUNoYW5nZVByb21pc2UsICgpID0+IHtcbiAgICAgIGNvbnN0IHdyaXRhYmxlID0gc3RyZWFtLl93cml0YWJsZTtcbiAgICAgIGNvbnN0IHN0YXRlID0gd3JpdGFibGUuX3N0YXRlO1xuICAgICAgaWYgKHN0YXRlID09PSAnZXJyb3JpbmcnKSB7XG4gICAgICAgIHRocm93IHdyaXRhYmxlLl9zdG9yZWRFcnJvcjtcbiAgICAgIH1cbiAgICAgIGFzc2VydChzdGF0ZSA9PT0gJ3dyaXRhYmxlJyk7XG4gICAgICByZXR1cm4gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXJQZXJmb3JtVHJhbnNmb3JtPEksIE8+KGNvbnRyb2xsZXIsIGNodW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclBlcmZvcm1UcmFuc2Zvcm08SSwgTz4oY29udHJvbGxlciwgY2h1bmspO1xufVxuXG5mdW5jdGlvbiBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0U2lua0Fib3J0QWxnb3JpdGhtKHN0cmVhbTogVHJhbnNmb3JtU3RyZWFtLCByZWFzb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAvLyBhYm9ydCgpIGlzIG5vdCBjYWxsZWQgc3luY2hyb25vdXNseSwgc28gaXQgaXMgcG9zc2libGUgZm9yIGFib3J0KCkgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHN0cmVhbSBpcyBhbHJlYWR5XG4gIC8vIGVycm9yZWQuXG4gIFRyYW5zZm9ybVN0cmVhbUVycm9yKHN0cmVhbSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2VSZXNvbHZlZFdpdGgodW5kZWZpbmVkKTtcbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdFNpbmtDbG9zZUFsZ29yaXRobTxJLCBPPihzdHJlYW06IFRyYW5zZm9ybVN0cmVhbTxJLCBPPik6IFByb21pc2U8dm9pZD4ge1xuICAvLyBzdHJlYW0uX3JlYWRhYmxlIGNhbm5vdCBjaGFuZ2UgYWZ0ZXIgY29uc3RydWN0aW9uLCBzbyBjYWNoaW5nIGl0IGFjcm9zcyBhIGNhbGwgdG8gdXNlciBjb2RlIGlzIHNhZmUuXG4gIGNvbnN0IHJlYWRhYmxlID0gc3RyZWFtLl9yZWFkYWJsZTtcblxuICBjb25zdCBjb250cm9sbGVyID0gc3RyZWFtLl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyO1xuICBjb25zdCBmbHVzaFByb21pc2UgPSBjb250cm9sbGVyLl9mbHVzaEFsZ29yaXRobSgpO1xuICBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsZWFyQWxnb3JpdGhtcyhjb250cm9sbGVyKTtcblxuICAvLyBSZXR1cm4gYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdpdGggdW5kZWZpbmVkIG9uIHN1Y2Nlc3MuXG4gIHJldHVybiB0cmFuc2Zvcm1Qcm9taXNlV2l0aChmbHVzaFByb21pc2UsICgpID0+IHtcbiAgICBpZiAocmVhZGFibGUuX3N0YXRlID09PSAnZXJyb3JlZCcpIHtcbiAgICAgIHRocm93IHJlYWRhYmxlLl9zdG9yZWRFcnJvcjtcbiAgICB9XG4gICAgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlckNsb3NlKHJlYWRhYmxlLl9yZWFkYWJsZVN0cmVhbUNvbnRyb2xsZXIgYXMgUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcjxPPik7XG4gIH0sIHIgPT4ge1xuICAgIFRyYW5zZm9ybVN0cmVhbUVycm9yKHN0cmVhbSwgcik7XG4gICAgdGhyb3cgcmVhZGFibGUuX3N0b3JlZEVycm9yO1xuICB9KTtcbn1cblxuLy8gVHJhbnNmb3JtU3RyZWFtRGVmYXVsdFNvdXJjZSBBbGdvcml0aG1zXG5cbmZ1bmN0aW9uIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRTb3VyY2VQdWxsQWxnb3JpdGhtKHN0cmVhbTogVHJhbnNmb3JtU3RyZWFtKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIEludmFyaWFudC4gRW5mb3JjZWQgYnkgdGhlIHByb21pc2VzIHJldHVybmVkIGJ5IHN0YXJ0KCkgYW5kIHB1bGwoKS5cbiAgYXNzZXJ0KHN0cmVhbS5fYmFja3ByZXNzdXJlKTtcblxuICBhc3NlcnQoc3RyZWFtLl9iYWNrcHJlc3N1cmVDaGFuZ2VQcm9taXNlICE9PSB1bmRlZmluZWQpO1xuXG4gIFRyYW5zZm9ybVN0cmVhbVNldEJhY2twcmVzc3VyZShzdHJlYW0sIGZhbHNlKTtcblxuICAvLyBQcmV2ZW50IHRoZSBuZXh0IHB1bGwoKSBjYWxsIHVudGlsIHRoZXJlIGlzIGJhY2twcmVzc3VyZS5cbiAgcmV0dXJuIHN0cmVhbS5fYmFja3ByZXNzdXJlQ2hhbmdlUHJvbWlzZTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgdGhlIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLlxuXG5mdW5jdGlvbiBkZWZhdWx0Q29udHJvbGxlckJyYW5kQ2hlY2tFeGNlcHRpb24obmFtZTogc3RyaW5nKTogVHlwZUVycm9yIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLnByb3RvdHlwZS4ke25hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcmApO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciB0aGUgVHJhbnNmb3JtU3RyZWFtLlxuXG5mdW5jdGlvbiBzdHJlYW1CcmFuZENoZWNrRXhjZXB0aW9uKG5hbWU6IHN0cmluZyk6IFR5cGVFcnJvciB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFxuICAgIGBUcmFuc2Zvcm1TdHJlYW0ucHJvdG90eXBlLiR7bmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIFRyYW5zZm9ybVN0cmVhbWApO1xufVxuIiwiaW1wb3J0IHtcbiAgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSxcbiAgQ291bnRRdWV1aW5nU3RyYXRlZ3ksXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFJlYWRhYmxlU3RyZWFtLFxuICBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgVHJhbnNmb3JtU3RyZWFtLFxuICBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlcixcbiAgV3JpdGFibGVTdHJlYW0sXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlclxufSBmcm9tICcuL3BvbnlmaWxsJztcbmltcG9ydCB7IGdsb2JhbHMgfSBmcm9tICcuL3V0aWxzJztcblxuLy8gRXhwb3J0XG5leHBvcnQgKiBmcm9tICcuL3BvbnlmaWxsJztcblxuY29uc3QgZXhwb3J0cyA9IHtcbiAgUmVhZGFibGVTdHJlYW0sXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsXG4gIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsXG4gIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsXG4gIFJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlcixcbiAgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLFxuXG4gIFdyaXRhYmxlU3RyZWFtLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLFxuICBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXIsXG5cbiAgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSxcbiAgQ291bnRRdWV1aW5nU3RyYXRlZ3ksXG5cbiAgVHJhbnNmb3JtU3RyZWFtLFxuICBUcmFuc2Zvcm1TdHJlYW1EZWZhdWx0Q29udHJvbGxlclxufTtcblxuLy8gQWRkIGNsYXNzZXMgdG8gZ2xvYmFsIHNjb3BlXG5pZiAodHlwZW9mIGdsb2JhbHMgIT09ICd1bmRlZmluZWQnKSB7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBleHBvcnRzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwcm9wKSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbHMsIHByb3AsIHtcbiAgICAgICAgdmFsdWU6IGV4cG9ydHNbcHJvcCBhcyAoa2V5b2YgdHlwZW9mIGV4cG9ydHMpXSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsidCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZSIsInIiLCJvIiwic2VsZiIsIndpbmRvdyIsImdsb2JhbCIsIm4iLCJhIiwiaSIsIlByb21pc2UiLCJsIiwicHJvdG90eXBlIiwidGhlbiIsInMiLCJyZXNvbHZlIiwiYmluZCIsInUiLCJyZWplY3QiLCJjIiwiZCIsImYiLCJiIiwiY2FsbCIsImgiLCJfIiwibSIsInAiLCJ5IiwiZyIsInF1ZXVlTWljcm90YXNrIiwiUyIsIlR5cGVFcnJvciIsIkZ1bmN0aW9uIiwiYXBwbHkiLCJ2IiwidyIsImNvbnN0cnVjdG9yIiwiX2N1cnNvciIsIl9zaXplIiwiX2Zyb250IiwiX2VsZW1lbnRzIiwiX25leHQiLCJfYmFjayIsImxlbmd0aCIsInB1c2giLCJzaGlmdCIsImZvckVhY2giLCJwZWVrIiwiUiIsIl9vd25lclJlYWRhYmxlU3RyZWFtIiwiX3JlYWRlciIsIl9zdGF0ZSIsInEiLCJPIiwiRSIsIl9zdG9yZWRFcnJvciIsIlQiLCJiciIsIkMiLCJXIiwiUCIsIl9jbG9zZWRQcm9taXNlIiwiX2Nsb3NlZFByb21pc2VfcmVzb2x2ZSIsIl9jbG9zZWRQcm9taXNlX3JlamVjdCIsIkIiLCJrIiwiaiIsIkEiLCJ6IiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJEIiwiTWF0aCIsInRydW5jIiwiY2VpbCIsImZsb29yIiwiTCIsIkYiLCJJIiwiJCIsIk0iLCJRIiwiWSIsIngiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTiIsImRyIiwiSCIsIlJlYWRhYmxlU3RyZWFtRGVmYXVsdFJlYWRlciIsIlYiLCJfcmVhZFJlcXVlc3RzIiwiVSIsIl9jbG9zZVN0ZXBzIiwiX2NodW5rU3RlcHMiLCJHIiwiWCIsIkoiLCJmciIsImNsb3NlZCIsIloiLCJjYW5jZWwiLCJyZWFkIiwiSyIsInZhbHVlIiwiZG9uZSIsIl9lcnJvclN0ZXBzIiwicmVsZWFzZUxvY2siLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsIl9kaXN0dXJiZWQiLCJfcmVhZGFibGVTdHJlYW1Db250cm9sbGVyIiwiZGVmaW5lUHJvcGVydGllcyIsImVudW1lcmFibGUiLCJ0b1N0cmluZ1RhZyIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZWUiLCJnZXRQcm90b3R5cGVPZiIsInRlIiwiX29uZ29pbmdQcm9taXNlIiwiX2lzRmluaXNoZWQiLCJfcHJldmVudENhbmNlbCIsIm5leHQiLCJuZXh0U3RlcHMiLCJfbmV4dFN0ZXBzIiwicmV0dXJuIiwicmV0dXJuU3RlcHMiLCJfcmV0dXJuU3RlcHMiLCJyZSIsIm9lIiwiX2FzeW5jSXRlcmF0b3JJbXBsIiwibmUiLCJzZXRQcm90b3R5cGVPZiIsImFlIiwiaXNOYU4iLCJpZSIsInNsaWNlIiwibGUiLCJVaW50OEFycmF5Iiwic2V0Iiwic2UiLCJBcnJheUJ1ZmZlciIsInVlIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjZSIsIl9xdWV1ZSIsIl9xdWV1ZVRvdGFsU2l6ZSIsInNpemUiLCJkZSIsIlJhbmdlRXJyb3IiLCJmZSIsIlJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QiLCJ2aWV3IiwiaGUiLCJEZSIsIl92aWV3IiwicmVzcG9uZCIsIl9hc3NvY2lhdGVkUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciIsImplIiwicmVzcG9uZFdpdGhOZXdWaWV3IiwiaXNWaWV3IiwiQWUiLCJSZWFkYWJsZUJ5dGVTdHJlYW1Db250cm9sbGVyIiwiYnlvYlJlcXVlc3QiLCJiZSIsIkxlIiwiQmUiLCJkZXNpcmVkU2l6ZSIsImtlIiwiY2xvc2UiLCJfY2xvc2VSZXF1ZXN0ZWQiLCJfY29udHJvbGxlZFJlYWRhYmxlQnl0ZVN0cmVhbSIsIkVlIiwiZW5xdWV1ZSIsIldlIiwiZXJyb3IiLCJPZSIsIm1lIiwiX2NhbmNlbEFsZ29yaXRobSIsInFlIiwid2UiLCJfYXV0b0FsbG9jYXRlQ2h1bmtTaXplIiwiYnVmZmVyQnl0ZUxlbmd0aCIsImJ5dGVzRmlsbGVkIiwiZWxlbWVudFNpemUiLCJ2aWV3Q29uc3RydWN0b3IiLCJyZWFkZXJUeXBlIiwiX3BlbmRpbmdQdWxsSW50b3MiLCJfZSIsIl9zdGFydGVkIiwiTWUiLCIkZSIsIl9wdWxsaW5nIiwiX3B1bGxBZ2FpbiIsIl9wdWxsQWxnb3JpdGhtIiwiUmUiLCJwZSIsInllIiwiX3JlYWRJbnRvUmVxdWVzdHMiLCJnZSIsIlNlIiwibWluIiwidmUiLCJociIsIl9ieW9iUmVxdWVzdCIsIlRlIiwiUGUiLCJDZSIsIl9yIiwiY3JlYXRlIiwiX3N0cmF0ZWd5SFdNIiwiemUiLCJGZSIsIlJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciIsIkllIiwiUWUiLCJ4ZSIsIlllIiwiRGF0YVZpZXciLCJCWVRFU19QRVJfRUxFTUVOVCIsIk5lIiwiaGlnaFdhdGVyTWFyayIsIkhlIiwiVmUiLCJVZSIsIkdlIiwiWGUiLCJKZSIsIktlIiwiWmUiLCJvdCIsImV0IiwiQWJvcnRDb250cm9sbGVyIiwiV3JpdGFibGVTdHJlYW0iLCJhYm9ydCIsInN0YXJ0IiwidHlwZSIsIndyaXRlIiwicnQiLCJXcml0YWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyIiwic3RhcnRBbGdvcml0aG0iLCJ3cml0ZUFsZ29yaXRobSIsImNsb3NlQWxnb3JpdGhtIiwiYWJvcnRBbGdvcml0aG0iLCJ2dCIsImxvY2tlZCIsIkV0IiwibnQiLCJhdCIsImN0IiwiaXQiLCJnZXRXcml0ZXIiLCJ0dCIsIldyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciIsIl93cml0ZXIiLCJfd3JpdGFibGVTdHJlYW1Db250cm9sbGVyIiwiX3dyaXRlUmVxdWVzdHMiLCJfaW5GbGlnaHRXcml0ZVJlcXVlc3QiLCJfY2xvc2VSZXF1ZXN0IiwiX2luRmxpZ2h0Q2xvc2VSZXF1ZXN0IiwiX3BlbmRpbmdBYm9ydFJlcXVlc3QiLCJfYmFja3ByZXNzdXJlIiwiX2Fib3J0UmVhc29uIiwiX2Fib3J0Q29udHJvbGxlciIsIl9wcm9taXNlIiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiX3JlYXNvbiIsIl93YXNBbHJlYWR5RXJyb3JpbmciLCJzdCIsIiR0IiwiZ3QiLCJUdCIsImx0IiwidXQiLCJtdCIsImR0IiwiQXQiLCJmdCIsIkR0IiwiX293bmVyV3JpdGFibGVTdHJlYW0iLCJGdCIsImt0IiwiTHQiLCJ6dCIsImp0IiwiYnQiLCJPdCIsIkJ0IiwiUnQiLCJyZWFkeSIsIl9yZWFkeVByb21pc2UiLCJodCIsInB0IiwieXQiLCJfdCIsIl9jbG9zZWRQcm9taXNlU3RhdGUiLCJfcmVhZHlQcm9taXNlU3RhdGUiLCJJdCIsIl9zdHJhdGVneVNpemVBbGdvcml0aG0iLCJDdCIsIl9jb250cm9sbGVkV3JpdGFibGVTdHJlYW0iLCJQdCIsImFib3J0UmVhc29uIiwiU3QiLCJXdCIsInNpZ25hbCIsInF0IiwiX2Fib3J0QWxnb3JpdGhtIiwid3QiLCJfd3JpdGVBbGdvcml0aG0iLCJfY2xvc2VBbGdvcml0aG0iLCJfcmVhZHlQcm9taXNlX3Jlc29sdmUiLCJfcmVhZHlQcm9taXNlX3JlamVjdCIsIk10IiwiRE9NRXhjZXB0aW9uIiwiUXQiLCJjdG9yIiwibWVzc2FnZSIsIm5hbWUiLCJFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwid3JpdGFibGUiLCJZdCIsImFsbCIsIm1hcCIsImFib3J0ZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWN0aW9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIiLCJ4dCIsImVyIiwiSnQiLCJLdCIsIlV0IiwiR3QiLCJYdCIsIlZ0IiwiX2NvbnRyb2xsZWRSZWFkYWJsZVN0cmVhbSIsIk50IiwiSHQiLCJadCIsInRyIiwidXIiLCJzciIsInJyIiwib3IiLCJuciIsImFyIiwiaXIiLCJsciIsInByZXZlbnRBYm9ydCIsInByZXZlbnRDYW5jZWwiLCJwcmV2ZW50Q2xvc2UiLCJCb29sZWFuIiwiUmVhZGFibGVTdHJlYW0iLCJhdXRvQWxsb2NhdGVDaHVua1NpemUiLCJwdWxsIiwiY3IiLCJwdWxsQWxnb3JpdGhtIiwiY2FuY2VsQWxnb3JpdGhtIiwibXIiLCJnZXRSZWFkZXIiLCJtb2RlIiwicGlwZVRocm91Z2giLCJyZWFkYWJsZSIsInBpcGVUbyIsInRlZSIsInZhbHVlcyIsInNpemVBbGdvcml0aG0iLCJwciIsImFzeW5jSXRlcmF0b3IiLCJ5ciIsIkJ5dGVMZW5ndGhRdWV1aW5nU3RyYXRlZ3kiLCJfYnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneUhpZ2hXYXRlck1hcmsiLCJTciIsImdyIiwidnIiLCJjb3VudFNpemVGdW5jdGlvbiIsIkNvdW50UXVldWluZ1N0cmF0ZWd5IiwiX2NvdW50UXVldWluZ1N0cmF0ZWd5SGlnaFdhdGVyTWFyayIsIlJyIiwid3IiLCJUciIsIkNyIiwiUHIiLCJUcmFuc2Zvcm1TdHJlYW0iLCJmbHVzaCIsInJlYWRhYmxlVHlwZSIsInRyYW5zZm9ybSIsIndyaXRhYmxlVHlwZSIsIl90cmFuc2Zvcm1TdHJlYW1Db250cm9sbGVyIiwiX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2UiLCJfd3JpdGFibGUiLCJBciIsIkVyIiwiX3JlYWRhYmxlIiwiX2ZsdXNoQWxnb3JpdGhtIiwia3IiLCJPciIsIldyIiwiX2JhY2twcmVzc3VyZUNoYW5nZVByb21pc2VfcmVzb2x2ZSIsIlRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyIiwianIiLCJmbHVzaEFsZ29yaXRobSIsIl9jb250cm9sbGVkVHJhbnNmb3JtU3RyZWFtIiwiX3RyYW5zZm9ybUFsZ29yaXRobSIsInFyIiwiRHIiLCJCciIsInpyIiwidGVybWluYXRlIiwiTHIiXSwic291cmNlUm9vdCI6IiJ9