"use strict";
exports.id = "vendors-node_modules_node-fetch_src_utils_multipart-parser_js";
exports.ids = ["vendors-node_modules_node-fetch_src_utils_multipart-parser_js"];
exports.modules = {

/***/ "./node_modules/node-fetch/src/utils/multipart-parser.js":
/*!***************************************************************!*\
  !*** ./node_modules/node-fetch/src/utils/multipart-parser.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   toFormData: () => (/* binding */ toFormData)
/* harmony export */ });
/* harmony import */ var fetch_blob_from_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fetch-blob/from.js */ "./node_modules/fetch-blob/from.js");
/* harmony import */ var formdata_polyfill_esm_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formdata-polyfill/esm.min.js */ "./node_modules/formdata-polyfill/esm.min.js");


let s = 0;
const S = {
  START_BOUNDARY: s++,
  HEADER_FIELD_START: s++,
  HEADER_FIELD: s++,
  HEADER_VALUE_START: s++,
  HEADER_VALUE: s++,
  HEADER_VALUE_ALMOST_DONE: s++,
  HEADERS_ALMOST_DONE: s++,
  PART_DATA_START: s++,
  PART_DATA: s++,
  END: s++
};
let f = 1;
const F = {
  PART_BOUNDARY: f,
  LAST_BOUNDARY: f *= 2
};
const LF = 10;
const CR = 13;
const SPACE = 32;
const HYPHEN = 45;
const COLON = 58;
const A = 97;
const Z = 122;
const lower = c => c | 0x20;
const noop = () => {};
class MultipartParser {
  /**
   * @param {string} boundary
   */
  constructor(boundary) {
    this.index = 0;
    this.flags = 0;
    this.onHeaderEnd = noop;
    this.onHeaderField = noop;
    this.onHeadersEnd = noop;
    this.onHeaderValue = noop;
    this.onPartBegin = noop;
    this.onPartData = noop;
    this.onPartEnd = noop;
    this.boundaryChars = {};
    boundary = '\r\n--' + boundary;
    const ui8a = new Uint8Array(boundary.length);
    for (let i = 0; i < boundary.length; i++) {
      ui8a[i] = boundary.charCodeAt(i);
      this.boundaryChars[ui8a[i]] = true;
    }
    this.boundary = ui8a;
    this.lookbehind = new Uint8Array(this.boundary.length + 8);
    this.state = S.START_BOUNDARY;
  }

  /**
   * @param {Uint8Array} data
   */
  write(data) {
    let i = 0;
    const length_ = data.length;
    let previousIndex = this.index;
    let {
      lookbehind,
      boundary,
      boundaryChars,
      index,
      state,
      flags
    } = this;
    const boundaryLength = this.boundary.length;
    const boundaryEnd = boundaryLength - 1;
    const bufferLength = data.length;
    let c;
    let cl;
    const mark = name => {
      this[name + 'Mark'] = i;
    };
    const clear = name => {
      delete this[name + 'Mark'];
    };
    const callback = (callbackSymbol, start, end, ui8a) => {
      if (start === undefined || start !== end) {
        this[callbackSymbol](ui8a && ui8a.subarray(start, end));
      }
    };
    const dataCallback = (name, clear) => {
      const markSymbol = name + 'Mark';
      if (!(markSymbol in this)) {
        return;
      }
      if (clear) {
        callback(name, this[markSymbol], i, data);
        delete this[markSymbol];
      } else {
        callback(name, this[markSymbol], data.length, data);
        this[markSymbol] = 0;
      }
    };
    for (i = 0; i < length_; i++) {
      c = data[i];
      switch (state) {
        case S.START_BOUNDARY:
          if (index === boundary.length - 2) {
            if (c === HYPHEN) {
              flags |= F.LAST_BOUNDARY;
            } else if (c !== CR) {
              return;
            }
            index++;
            break;
          } else if (index - 1 === boundary.length - 2) {
            if (flags & F.LAST_BOUNDARY && c === HYPHEN) {
              state = S.END;
              flags = 0;
            } else if (!(flags & F.LAST_BOUNDARY) && c === LF) {
              index = 0;
              callback('onPartBegin');
              state = S.HEADER_FIELD_START;
            } else {
              return;
            }
            break;
          }
          if (c !== boundary[index + 2]) {
            index = -2;
          }
          if (c === boundary[index + 2]) {
            index++;
          }
          break;
        case S.HEADER_FIELD_START:
          state = S.HEADER_FIELD;
          mark('onHeaderField');
          index = 0;
        // falls through
        case S.HEADER_FIELD:
          if (c === CR) {
            clear('onHeaderField');
            state = S.HEADERS_ALMOST_DONE;
            break;
          }
          index++;
          if (c === HYPHEN) {
            break;
          }
          if (c === COLON) {
            if (index === 1) {
              // empty header field
              return;
            }
            dataCallback('onHeaderField', true);
            state = S.HEADER_VALUE_START;
            break;
          }
          cl = lower(c);
          if (cl < A || cl > Z) {
            return;
          }
          break;
        case S.HEADER_VALUE_START:
          if (c === SPACE) {
            break;
          }
          mark('onHeaderValue');
          state = S.HEADER_VALUE;
        // falls through
        case S.HEADER_VALUE:
          if (c === CR) {
            dataCallback('onHeaderValue', true);
            callback('onHeaderEnd');
            state = S.HEADER_VALUE_ALMOST_DONE;
          }
          break;
        case S.HEADER_VALUE_ALMOST_DONE:
          if (c !== LF) {
            return;
          }
          state = S.HEADER_FIELD_START;
          break;
        case S.HEADERS_ALMOST_DONE:
          if (c !== LF) {
            return;
          }
          callback('onHeadersEnd');
          state = S.PART_DATA_START;
          break;
        case S.PART_DATA_START:
          state = S.PART_DATA;
          mark('onPartData');
        // falls through
        case S.PART_DATA:
          previousIndex = index;
          if (index === 0) {
            // boyer-moore derrived algorithm to safely skip non-boundary data
            i += boundaryEnd;
            while (i < bufferLength && !(data[i] in boundaryChars)) {
              i += boundaryLength;
            }
            i -= boundaryEnd;
            c = data[i];
          }
          if (index < boundary.length) {
            if (boundary[index] === c) {
              if (index === 0) {
                dataCallback('onPartData', true);
              }
              index++;
            } else {
              index = 0;
            }
          } else if (index === boundary.length) {
            index++;
            if (c === CR) {
              // CR = part boundary
              flags |= F.PART_BOUNDARY;
            } else if (c === HYPHEN) {
              // HYPHEN = end boundary
              flags |= F.LAST_BOUNDARY;
            } else {
              index = 0;
            }
          } else if (index - 1 === boundary.length) {
            if (flags & F.PART_BOUNDARY) {
              index = 0;
              if (c === LF) {
                // unset the PART_BOUNDARY flag
                flags &= ~F.PART_BOUNDARY;
                callback('onPartEnd');
                callback('onPartBegin');
                state = S.HEADER_FIELD_START;
                break;
              }
            } else if (flags & F.LAST_BOUNDARY) {
              if (c === HYPHEN) {
                callback('onPartEnd');
                state = S.END;
                flags = 0;
              } else {
                index = 0;
              }
            } else {
              index = 0;
            }
          }
          if (index > 0) {
            // when matching a possible boundary, keep a lookbehind reference
            // in case it turns out to be a false lead
            lookbehind[index - 1] = c;
          } else if (previousIndex > 0) {
            // if our boundary turned out to be rubbish, the captured lookbehind
            // belongs to partData
            const _lookbehind = new Uint8Array(lookbehind.buffer, lookbehind.byteOffset, lookbehind.byteLength);
            callback('onPartData', 0, previousIndex, _lookbehind);
            previousIndex = 0;
            mark('onPartData');

            // reconsider the current character even so it interrupted the sequence
            // it could be the beginning of a new sequence
            i--;
          }
          break;
        case S.END:
          break;
        default:
          throw new Error(`Unexpected state entered: ${state}`);
      }
    }
    dataCallback('onHeaderField');
    dataCallback('onHeaderValue');
    dataCallback('onPartData');

    // Update properties for the next call
    this.index = index;
    this.state = state;
    this.flags = flags;
  }
  end() {
    if (this.state === S.HEADER_FIELD_START && this.index === 0 || this.state === S.PART_DATA && this.index === this.boundary.length) {
      this.onPartEnd();
    } else if (this.state !== S.END) {
      throw new Error('MultipartParser.end(): stream ended unexpectedly');
    }
  }
}
function _fileName(headerValue) {
  // matches either a quoted-string or a token (RFC 2616 section 19.5.1)
  const m = headerValue.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);
  if (!m) {
    return;
  }
  const match = m[2] || m[3] || '';
  let filename = match.slice(match.lastIndexOf('\\') + 1);
  filename = filename.replace(/%22/g, '"');
  filename = filename.replace(/&#(\d{4});/g, (m, code) => {
    return String.fromCharCode(code);
  });
  return filename;
}
async function toFormData(Body, ct) {
  if (!/multipart/i.test(ct)) {
    throw new TypeError('Failed to fetch');
  }
  const m = ct.match(/boundary=(?:"([^"]+)"|([^;]+))/i);
  if (!m) {
    throw new TypeError('no or bad content-type header, no multipart boundary');
  }
  const parser = new MultipartParser(m[1] || m[2]);
  let headerField;
  let headerValue;
  let entryValue;
  let entryName;
  let contentType;
  let filename;
  const entryChunks = [];
  const formData = new formdata_polyfill_esm_min_js__WEBPACK_IMPORTED_MODULE_1__.FormData();
  const onPartData = ui8a => {
    entryValue += decoder.decode(ui8a, {
      stream: true
    });
  };
  const appendToFile = ui8a => {
    entryChunks.push(ui8a);
  };
  const appendFileToFormData = () => {
    const file = new fetch_blob_from_js__WEBPACK_IMPORTED_MODULE_0__.File(entryChunks, filename, {
      type: contentType
    });
    formData.append(entryName, file);
  };
  const appendEntryToFormData = () => {
    formData.append(entryName, entryValue);
  };
  const decoder = new TextDecoder('utf-8');
  decoder.decode();
  parser.onPartBegin = function () {
    parser.onPartData = onPartData;
    parser.onPartEnd = appendEntryToFormData;
    headerField = '';
    headerValue = '';
    entryValue = '';
    entryName = '';
    contentType = '';
    filename = null;
    entryChunks.length = 0;
  };
  parser.onHeaderField = function (ui8a) {
    headerField += decoder.decode(ui8a, {
      stream: true
    });
  };
  parser.onHeaderValue = function (ui8a) {
    headerValue += decoder.decode(ui8a, {
      stream: true
    });
  };
  parser.onHeaderEnd = function () {
    headerValue += decoder.decode();
    headerField = headerField.toLowerCase();
    if (headerField === 'content-disposition') {
      // matches either a quoted-string or a token (RFC 2616 section 19.5.1)
      const m = headerValue.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);
      if (m) {
        entryName = m[2] || m[3] || '';
      }
      filename = _fileName(headerValue);
      if (filename) {
        parser.onPartData = appendToFile;
        parser.onPartEnd = appendFileToFormData;
      }
    } else if (headerField === 'content-type') {
      contentType = headerValue;
    }
    headerValue = '';
    headerField = '';
  };
  for await (const chunk of Body) {
    parser.write(chunk);
  }
  parser.end();
  return formData;
}

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfbm9kZS1mZXRjaF9zcmNfdXRpbHNfbXVsdGlwYXJ0LXBhcnNlcl9qcy5jb21tLXNlcnYtZGV2LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBQ2M7QUFFdEQsSUFBSUUsQ0FBQyxHQUFHLENBQUM7QUFDVCxNQUFNQyxDQUFDLEdBQUc7RUFDVEMsY0FBYyxFQUFFRixDQUFDLEVBQUU7RUFDbkJHLGtCQUFrQixFQUFFSCxDQUFDLEVBQUU7RUFDdkJJLFlBQVksRUFBRUosQ0FBQyxFQUFFO0VBQ2pCSyxrQkFBa0IsRUFBRUwsQ0FBQyxFQUFFO0VBQ3ZCTSxZQUFZLEVBQUVOLENBQUMsRUFBRTtFQUNqQk8sd0JBQXdCLEVBQUVQLENBQUMsRUFBRTtFQUM3QlEsbUJBQW1CLEVBQUVSLENBQUMsRUFBRTtFQUN4QlMsZUFBZSxFQUFFVCxDQUFDLEVBQUU7RUFDcEJVLFNBQVMsRUFBRVYsQ0FBQyxFQUFFO0VBQ2RXLEdBQUcsRUFBRVgsQ0FBQztBQUNQLENBQUM7QUFFRCxJQUFJWSxDQUFDLEdBQUcsQ0FBQztBQUNULE1BQU1DLENBQUMsR0FBRztFQUNUQyxhQUFhLEVBQUVGLENBQUM7RUFDaEJHLGFBQWEsRUFBRUgsQ0FBQyxJQUFJO0FBQ3JCLENBQUM7QUFFRCxNQUFNSSxFQUFFLEdBQUcsRUFBRTtBQUNiLE1BQU1DLEVBQUUsR0FBRyxFQUFFO0FBQ2IsTUFBTUMsS0FBSyxHQUFHLEVBQUU7QUFDaEIsTUFBTUMsTUFBTSxHQUFHLEVBQUU7QUFDakIsTUFBTUMsS0FBSyxHQUFHLEVBQUU7QUFDaEIsTUFBTUMsQ0FBQyxHQUFHLEVBQUU7QUFDWixNQUFNQyxDQUFDLEdBQUcsR0FBRztBQUViLE1BQU1DLEtBQUssR0FBR0MsQ0FBQyxJQUFJQSxDQUFDLEdBQUcsSUFBSTtBQUUzQixNQUFNQyxJQUFJLEdBQUdBLENBQUEsS0FBTSxDQUFDLENBQUM7QUFFckIsTUFBTUMsZUFBZSxDQUFDO0VBQ3JCO0FBQ0Q7QUFD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QVcsR0FBR0EsV0FBVyxDQUFDaUIsV0FBVyxDQUFDLENBQUM7SUFFdkMsSUFBSWpCLFdBQVcsS0FBSyxxQkFBcUIsRUFBRTtNQUMxQztNQUNBLE1BQU1mLENBQUMsR0FBR0QsV0FBVyxDQUFDRSxLQUFLLENBQUMsbURBQW1ELENBQUM7TUFFaEYsSUFBSUQsQ0FBQyxFQUFFO1FBQ05pQixTQUFTLEdBQUdqQixDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUlBLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFO01BQy9CO01BRUFFLFFBQVEsR0FBR0osU0FBUyxDQUFDQyxXQUFXLENBQUM7TUFFakMsSUFBSUcsUUFBUSxFQUFFO1FBQ2JZLE1BQU0sQ0FBQ2xELFVBQVUsR0FBRzRELFlBQVk7UUFDaENWLE1BQU0sQ0FBQ2pELFNBQVMsR0FBRzZELG9CQUFvQjtNQUN4QztJQUNELENBQUMsTUFBTSxJQUFJWCxXQUFXLEtBQUssY0FBYyxFQUFFO01BQzFDRyxXQUFXLEdBQUduQixXQUFXO0lBQzFCO0lBRUFBLFdBQVcsR0FBRyxFQUFFO0lBQ2hCZ0IsV0FBVyxHQUFHLEVBQUU7RUFDakIsQ0FBQztFQUVELFdBQVcsTUFBTWtCLEtBQUssSUFBSXZCLElBQUksRUFBRTtJQUMvQkksTUFBTSxDQUFDeEMsS0FBSyxDQUFDMkQsS0FBSyxDQUFDO0VBQ3BCO0VBRUFuQixNQUFNLENBQUMxQixHQUFHLENBQUMsQ0FBQztFQUVaLE9BQU9nQyxRQUFRO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG93bG1lYW5zL3JlZ292LWNvbW0tc2VydmVyLy4vbm9kZV9tb2R1bGVzL25vZGUtZmV0Y2gvc3JjL3V0aWxzL211bHRpcGFydC1wYXJzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGaWxlfSBmcm9tICdmZXRjaC1ibG9iL2Zyb20uanMnO1xuaW1wb3J0IHtGb3JtRGF0YX0gZnJvbSAnZm9ybWRhdGEtcG9seWZpbGwvZXNtLm1pbi5qcyc7XG5cbmxldCBzID0gMDtcbmNvbnN0IFMgPSB7XG5cdFNUQVJUX0JPVU5EQVJZOiBzKyssXG5cdEhFQURFUl9GSUVMRF9TVEFSVDogcysrLFxuXHRIRUFERVJfRklFTEQ6IHMrKyxcblx0SEVBREVSX1ZBTFVFX1NUQVJUOiBzKyssXG5cdEhFQURFUl9WQUxVRTogcysrLFxuXHRIRUFERVJfVkFMVUVfQUxNT1NUX0RPTkU6IHMrKyxcblx0SEVBREVSU19BTE1PU1RfRE9ORTogcysrLFxuXHRQQVJUX0RBVEFfU1RBUlQ6IHMrKyxcblx0UEFSVF9EQVRBOiBzKyssXG5cdEVORDogcysrXG59O1xuXG5sZXQgZiA9IDE7XG5jb25zdCBGID0ge1xuXHRQQVJUX0JPVU5EQVJZOiBmLFxuXHRMQVNUX0JPVU5EQVJZOiBmICo9IDJcbn07XG5cbmNvbnN0IExGID0gMTA7XG5jb25zdCBDUiA9IDEzO1xuY29uc3QgU1BBQ0UgPSAzMjtcbmNvbnN0IEhZUEhFTiA9IDQ1O1xuY29uc3QgQ09MT04gPSA1ODtcbmNvbnN0IEEgPSA5NztcbmNvbnN0IFogPSAxMjI7XG5cbmNvbnN0IGxvd2VyID0gYyA9PiBjIHwgMHgyMDtcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuXG5jbGFzcyBNdWx0aXBhcnRQYXJzZXIge1xuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGJvdW5kYXJ5XG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcihib3VuZGFyeSkge1xuXHRcdHRoaXMuaW5kZXggPSAwO1xuXHRcdHRoaXMuZmxhZ3MgPSAwO1xuXG5cdFx0dGhpcy5vbkhlYWRlckVuZCA9IG5vb3A7XG5cdFx0dGhpcy5vbkhlYWRlckZpZWxkID0gbm9vcDtcblx0XHR0aGlzLm9uSGVhZGVyc0VuZCA9IG5vb3A7XG5cdFx0dGhpcy5vbkhlYWRlclZhbHVlID0gbm9vcDtcblx0XHR0aGlzLm9uUGFydEJlZ2luID0gbm9vcDtcblx0XHR0aGlzLm9uUGFydERhdGEgPSBub29wO1xuXHRcdHRoaXMub25QYXJ0RW5kID0gbm9vcDtcblxuXHRcdHRoaXMuYm91bmRhcnlDaGFycyA9IHt9O1xuXG5cdFx0Ym91bmRhcnkgPSAnXFxyXFxuLS0nICsgYm91bmRhcnk7XG5cdFx0Y29uc3QgdWk4YSA9IG5ldyBVaW50OEFycmF5KGJvdW5kYXJ5Lmxlbmd0aCk7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZGFyeS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dWk4YVtpXSA9IGJvdW5kYXJ5LmNoYXJDb2RlQXQoaSk7XG5cdFx0XHR0aGlzLmJvdW5kYXJ5Q2hhcnNbdWk4YVtpXV0gPSB0cnVlO1xuXHRcdH1cblxuXHRcdHRoaXMuYm91bmRhcnkgPSB1aThhO1xuXHRcdHRoaXMubG9va2JlaGluZCA9IG5ldyBVaW50OEFycmF5KHRoaXMuYm91bmRhcnkubGVuZ3RoICsgOCk7XG5cdFx0dGhpcy5zdGF0ZSA9IFMuU1RBUlRfQk9VTkRBUlk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtVaW50OEFycmF5fSBkYXRhXG5cdCAqL1xuXHR3cml0ZShkYXRhKSB7XG5cdFx0bGV0IGkgPSAwO1xuXHRcdGNvbnN0IGxlbmd0aF8gPSBkYXRhLmxlbmd0aDtcblx0XHRsZXQgcHJldmlvdXNJbmRleCA9IHRoaXMuaW5kZXg7XG5cdFx0bGV0IHtsb29rYmVoaW5kLCBib3VuZGFyeSwgYm91bmRhcnlDaGFycywgaW5kZXgsIHN0YXRlLCBmbGFnc30gPSB0aGlzO1xuXHRcdGNvbnN0IGJvdW5kYXJ5TGVuZ3RoID0gdGhpcy5ib3VuZGFyeS5sZW5ndGg7XG5cdFx0Y29uc3QgYm91bmRhcnlFbmQgPSBib3VuZGFyeUxlbmd0aCAtIDE7XG5cdFx0Y29uc3QgYnVmZmVyTGVuZ3RoID0gZGF0YS5sZW5ndGg7XG5cdFx0bGV0IGM7XG5cdFx0bGV0IGNsO1xuXG5cdFx0Y29uc3QgbWFyayA9IG5hbWUgPT4ge1xuXHRcdFx0dGhpc1tuYW1lICsgJ01hcmsnXSA9IGk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IGNsZWFyID0gbmFtZSA9PiB7XG5cdFx0XHRkZWxldGUgdGhpc1tuYW1lICsgJ01hcmsnXTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgY2FsbGJhY2sgPSAoY2FsbGJhY2tTeW1ib2wsIHN0YXJ0LCBlbmQsIHVpOGEpID0+IHtcblx0XHRcdGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0ICE9PSBlbmQpIHtcblx0XHRcdFx0dGhpc1tjYWxsYmFja1N5bWJvbF0odWk4YSAmJiB1aThhLnN1YmFycmF5KHN0YXJ0LCBlbmQpKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Y29uc3QgZGF0YUNhbGxiYWNrID0gKG5hbWUsIGNsZWFyKSA9PiB7XG5cdFx0XHRjb25zdCBtYXJrU3ltYm9sID0gbmFtZSArICdNYXJrJztcblx0XHRcdGlmICghKG1hcmtTeW1ib2wgaW4gdGhpcykpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2xlYXIpIHtcblx0XHRcdFx0Y2FsbGJhY2sobmFtZSwgdGhpc1ttYXJrU3ltYm9sXSwgaSwgZGF0YSk7XG5cdFx0XHRcdGRlbGV0ZSB0aGlzW21hcmtTeW1ib2xdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2FsbGJhY2sobmFtZSwgdGhpc1ttYXJrU3ltYm9sXSwgZGF0YS5sZW5ndGgsIGRhdGEpO1xuXHRcdFx0XHR0aGlzW21hcmtTeW1ib2xdID0gMDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aF87IGkrKykge1xuXHRcdFx0YyA9IGRhdGFbaV07XG5cblx0XHRcdHN3aXRjaCAoc3RhdGUpIHtcblx0XHRcdFx0Y2FzZSBTLlNUQVJUX0JPVU5EQVJZOlxuXHRcdFx0XHRcdGlmIChpbmRleCA9PT0gYm91bmRhcnkubGVuZ3RoIC0gMikge1xuXHRcdFx0XHRcdFx0aWYgKGMgPT09IEhZUEhFTikge1xuXHRcdFx0XHRcdFx0XHRmbGFncyB8PSBGLkxBU1RfQk9VTkRBUlk7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGMgIT09IENSKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5kZXggLSAxID09PSBib3VuZGFyeS5sZW5ndGggLSAyKSB7XG5cdFx0XHRcdFx0XHRpZiAoZmxhZ3MgJiBGLkxBU1RfQk9VTkRBUlkgJiYgYyA9PT0gSFlQSEVOKSB7XG5cdFx0XHRcdFx0XHRcdHN0YXRlID0gUy5FTkQ7XG5cdFx0XHRcdFx0XHRcdGZsYWdzID0gMDtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIShmbGFncyAmIEYuTEFTVF9CT1VOREFSWSkgJiYgYyA9PT0gTEYpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjaygnb25QYXJ0QmVnaW4nKTtcblx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9GSUVMRF9TVEFSVDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGMgIT09IGJvdW5kYXJ5W2luZGV4ICsgMl0pIHtcblx0XHRcdFx0XHRcdGluZGV4ID0gLTI7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGMgPT09IGJvdW5kYXJ5W2luZGV4ICsgMl0pIHtcblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUy5IRUFERVJfRklFTERfU1RBUlQ6XG5cdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9GSUVMRDtcblx0XHRcdFx0XHRtYXJrKCdvbkhlYWRlckZpZWxkJyk7XG5cdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdC8vIGZhbGxzIHRocm91Z2hcblx0XHRcdFx0Y2FzZSBTLkhFQURFUl9GSUVMRDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gQ1IpIHtcblx0XHRcdFx0XHRcdGNsZWFyKCdvbkhlYWRlckZpZWxkJyk7XG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSU19BTE1PU1RfRE9ORTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0aWYgKGMgPT09IEhZUEhFTikge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGMgPT09IENPTE9OKSB7XG5cdFx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDEpIHtcblx0XHRcdFx0XHRcdFx0Ly8gZW1wdHkgaGVhZGVyIGZpZWxkXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZGF0YUNhbGxiYWNrKCdvbkhlYWRlckZpZWxkJywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX1ZBTFVFX1NUQVJUO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y2wgPSBsb3dlcihjKTtcblx0XHRcdFx0XHRpZiAoY2wgPCBBIHx8IGNsID4gWikge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFMuSEVBREVSX1ZBTFVFX1NUQVJUOlxuXHRcdFx0XHRcdGlmIChjID09PSBTUEFDRSkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bWFyaygnb25IZWFkZXJWYWx1ZScpO1xuXHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfVkFMVUU7XG5cdFx0XHRcdFx0Ly8gZmFsbHMgdGhyb3VnaFxuXHRcdFx0XHRjYXNlIFMuSEVBREVSX1ZBTFVFOlxuXHRcdFx0XHRcdGlmIChjID09PSBDUikge1xuXHRcdFx0XHRcdFx0ZGF0YUNhbGxiYWNrKCdvbkhlYWRlclZhbHVlJywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygnb25IZWFkZXJFbmQnKTtcblx0XHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfVkFMVUVfQUxNT1NUX0RPTkU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUy5IRUFERVJfVkFMVUVfQUxNT1NUX0RPTkU6XG5cdFx0XHRcdFx0aWYgKGMgIT09IExGKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9GSUVMRF9TVEFSVDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBTLkhFQURFUlNfQUxNT1NUX0RPTkU6XG5cdFx0XHRcdFx0aWYgKGMgIT09IExGKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y2FsbGJhY2soJ29uSGVhZGVyc0VuZCcpO1xuXHRcdFx0XHRcdHN0YXRlID0gUy5QQVJUX0RBVEFfU1RBUlQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUy5QQVJUX0RBVEFfU1RBUlQ6XG5cdFx0XHRcdFx0c3RhdGUgPSBTLlBBUlRfREFUQTtcblx0XHRcdFx0XHRtYXJrKCdvblBhcnREYXRhJyk7XG5cdFx0XHRcdFx0Ly8gZmFsbHMgdGhyb3VnaFxuXHRcdFx0XHRjYXNlIFMuUEFSVF9EQVRBOlxuXHRcdFx0XHRcdHByZXZpb3VzSW5kZXggPSBpbmRleDtcblxuXHRcdFx0XHRcdGlmIChpbmRleCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0Ly8gYm95ZXItbW9vcmUgZGVycml2ZWQgYWxnb3JpdGhtIHRvIHNhZmVseSBza2lwIG5vbi1ib3VuZGFyeSBkYXRhXG5cdFx0XHRcdFx0XHRpICs9IGJvdW5kYXJ5RW5kO1xuXHRcdFx0XHRcdFx0d2hpbGUgKGkgPCBidWZmZXJMZW5ndGggJiYgIShkYXRhW2ldIGluIGJvdW5kYXJ5Q2hhcnMpKSB7XG5cdFx0XHRcdFx0XHRcdGkgKz0gYm91bmRhcnlMZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGkgLT0gYm91bmRhcnlFbmQ7XG5cdFx0XHRcdFx0XHRjID0gZGF0YVtpXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPCBib3VuZGFyeS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGlmIChib3VuZGFyeVtpbmRleF0gPT09IGMpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUNhbGxiYWNrKCdvblBhcnREYXRhJywgdHJ1ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoaW5kZXggPT09IGJvdW5kYXJ5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdGlmIChjID09PSBDUikge1xuXHRcdFx0XHRcdFx0XHQvLyBDUiA9IHBhcnQgYm91bmRhcnlcblx0XHRcdFx0XHRcdFx0ZmxhZ3MgfD0gRi5QQVJUX0JPVU5EQVJZO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChjID09PSBIWVBIRU4pIHtcblx0XHRcdFx0XHRcdFx0Ly8gSFlQSEVOID0gZW5kIGJvdW5kYXJ5XG5cdFx0XHRcdFx0XHRcdGZsYWdzIHw9IEYuTEFTVF9CT1VOREFSWTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYgKGluZGV4IC0gMSA9PT0gYm91bmRhcnkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRpZiAoZmxhZ3MgJiBGLlBBUlRfQk9VTkRBUlkpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0XHRpZiAoYyA9PT0gTEYpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyB1bnNldCB0aGUgUEFSVF9CT1VOREFSWSBmbGFnXG5cdFx0XHRcdFx0XHRcdFx0ZmxhZ3MgJj0gfkYuUEFSVF9CT1VOREFSWTtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjaygnb25QYXJ0RW5kJyk7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soJ29uUGFydEJlZ2luJyk7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9GSUVMRF9TVEFSVDtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChmbGFncyAmIEYuTEFTVF9CT1VOREFSWSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYyA9PT0gSFlQSEVOKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soJ29uUGFydEVuZCcpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlID0gUy5FTkQ7XG5cdFx0XHRcdFx0XHRcdFx0ZmxhZ3MgPSAwO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChpbmRleCA+IDApIHtcblx0XHRcdFx0XHRcdC8vIHdoZW4gbWF0Y2hpbmcgYSBwb3NzaWJsZSBib3VuZGFyeSwga2VlcCBhIGxvb2tiZWhpbmQgcmVmZXJlbmNlXG5cdFx0XHRcdFx0XHQvLyBpbiBjYXNlIGl0IHR1cm5zIG91dCB0byBiZSBhIGZhbHNlIGxlYWRcblx0XHRcdFx0XHRcdGxvb2tiZWhpbmRbaW5kZXggLSAxXSA9IGM7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChwcmV2aW91c0luZGV4ID4gMCkge1xuXHRcdFx0XHRcdFx0Ly8gaWYgb3VyIGJvdW5kYXJ5IHR1cm5lZCBvdXQgdG8gYmUgcnViYmlzaCwgdGhlIGNhcHR1cmVkIGxvb2tiZWhpbmRcblx0XHRcdFx0XHRcdC8vIGJlbG9uZ3MgdG8gcGFydERhdGFcblx0XHRcdFx0XHRcdGNvbnN0IF9sb29rYmVoaW5kID0gbmV3IFVpbnQ4QXJyYXkobG9va2JlaGluZC5idWZmZXIsIGxvb2tiZWhpbmQuYnl0ZU9mZnNldCwgbG9va2JlaGluZC5ieXRlTGVuZ3RoKTtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCdvblBhcnREYXRhJywgMCwgcHJldmlvdXNJbmRleCwgX2xvb2tiZWhpbmQpO1xuXHRcdFx0XHRcdFx0cHJldmlvdXNJbmRleCA9IDA7XG5cdFx0XHRcdFx0XHRtYXJrKCdvblBhcnREYXRhJyk7XG5cblx0XHRcdFx0XHRcdC8vIHJlY29uc2lkZXIgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGV2ZW4gc28gaXQgaW50ZXJydXB0ZWQgdGhlIHNlcXVlbmNlXG5cdFx0XHRcdFx0XHQvLyBpdCBjb3VsZCBiZSB0aGUgYmVnaW5uaW5nIG9mIGEgbmV3IHNlcXVlbmNlXG5cdFx0XHRcdFx0XHRpLS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUy5FTkQ6XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHN0YXRlIGVudGVyZWQ6ICR7c3RhdGV9YCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZGF0YUNhbGxiYWNrKCdvbkhlYWRlckZpZWxkJyk7XG5cdFx0ZGF0YUNhbGxiYWNrKCdvbkhlYWRlclZhbHVlJyk7XG5cdFx0ZGF0YUNhbGxiYWNrKCdvblBhcnREYXRhJyk7XG5cblx0XHQvLyBVcGRhdGUgcHJvcGVydGllcyBmb3IgdGhlIG5leHQgY2FsbFxuXHRcdHRoaXMuaW5kZXggPSBpbmRleDtcblx0XHR0aGlzLnN0YXRlID0gc3RhdGU7XG5cdFx0dGhpcy5mbGFncyA9IGZsYWdzO1xuXHR9XG5cblx0ZW5kKCkge1xuXHRcdGlmICgodGhpcy5zdGF0ZSA9PT0gUy5IRUFERVJfRklFTERfU1RBUlQgJiYgdGhpcy5pbmRleCA9PT0gMCkgfHxcblx0XHRcdCh0aGlzLnN0YXRlID09PSBTLlBBUlRfREFUQSAmJiB0aGlzLmluZGV4ID09PSB0aGlzLmJvdW5kYXJ5Lmxlbmd0aCkpIHtcblx0XHRcdHRoaXMub25QYXJ0RW5kKCk7XG5cdFx0fSBlbHNlIGlmICh0aGlzLnN0YXRlICE9PSBTLkVORCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdNdWx0aXBhcnRQYXJzZXIuZW5kKCk6IHN0cmVhbSBlbmRlZCB1bmV4cGVjdGVkbHknKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gX2ZpbGVOYW1lKGhlYWRlclZhbHVlKSB7XG5cdC8vIG1hdGNoZXMgZWl0aGVyIGEgcXVvdGVkLXN0cmluZyBvciBhIHRva2VuIChSRkMgMjYxNiBzZWN0aW9uIDE5LjUuMSlcblx0Y29uc3QgbSA9IGhlYWRlclZhbHVlLm1hdGNoKC9cXGJmaWxlbmFtZT0oXCIoLio/KVwifChbXigpPD5ALDs6XFxcXFwiL1tcXF0/PXt9XFxzXFx0XSspKSgkfDtcXHMpL2kpO1xuXHRpZiAoIW0pIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBtYXRjaCA9IG1bMl0gfHwgbVszXSB8fCAnJztcblx0bGV0IGZpbGVuYW1lID0gbWF0Y2guc2xpY2UobWF0Y2gubGFzdEluZGV4T2YoJ1xcXFwnKSArIDEpO1xuXHRmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUyMi9nLCAnXCInKTtcblx0ZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8mIyhcXGR7NH0pOy9nLCAobSwgY29kZSkgPT4ge1xuXHRcdHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuXHR9KTtcblx0cmV0dXJuIGZpbGVuYW1lO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9Gb3JtRGF0YShCb2R5LCBjdCkge1xuXHRpZiAoIS9tdWx0aXBhcnQvaS50ZXN0KGN0KSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCcpO1xuXHR9XG5cblx0Y29uc3QgbSA9IGN0Lm1hdGNoKC9ib3VuZGFyeT0oPzpcIihbXlwiXSspXCJ8KFteO10rKSkvaSk7XG5cblx0aWYgKCFtKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignbm8gb3IgYmFkIGNvbnRlbnQtdHlwZSBoZWFkZXIsIG5vIG11bHRpcGFydCBib3VuZGFyeScpO1xuXHR9XG5cblx0Y29uc3QgcGFyc2VyID0gbmV3IE11bHRpcGFydFBhcnNlcihtWzFdIHx8IG1bMl0pO1xuXG5cdGxldCBoZWFkZXJGaWVsZDtcblx0bGV0IGhlYWRlclZhbHVlO1xuXHRsZXQgZW50cnlWYWx1ZTtcblx0bGV0IGVudHJ5TmFtZTtcblx0bGV0IGNvbnRlbnRUeXBlO1xuXHRsZXQgZmlsZW5hbWU7XG5cdGNvbnN0IGVudHJ5Q2h1bmtzID0gW107XG5cdGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cblx0Y29uc3Qgb25QYXJ0RGF0YSA9IHVpOGEgPT4ge1xuXHRcdGVudHJ5VmFsdWUgKz0gZGVjb2Rlci5kZWNvZGUodWk4YSwge3N0cmVhbTogdHJ1ZX0pO1xuXHR9O1xuXG5cdGNvbnN0IGFwcGVuZFRvRmlsZSA9IHVpOGEgPT4ge1xuXHRcdGVudHJ5Q2h1bmtzLnB1c2godWk4YSk7XG5cdH07XG5cblx0Y29uc3QgYXBwZW5kRmlsZVRvRm9ybURhdGEgPSAoKSA9PiB7XG5cdFx0Y29uc3QgZmlsZSA9IG5ldyBGaWxlKGVudHJ5Q2h1bmtzLCBmaWxlbmFtZSwge3R5cGU6IGNvbnRlbnRUeXBlfSk7XG5cdFx0Zm9ybURhdGEuYXBwZW5kKGVudHJ5TmFtZSwgZmlsZSk7XG5cdH07XG5cblx0Y29uc3QgYXBwZW5kRW50cnlUb0Zvcm1EYXRhID0gKCkgPT4ge1xuXHRcdGZvcm1EYXRhLmFwcGVuZChlbnRyeU5hbWUsIGVudHJ5VmFsdWUpO1xuXHR9O1xuXG5cdGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0Zi04Jyk7XG5cdGRlY29kZXIuZGVjb2RlKCk7XG5cblx0cGFyc2VyLm9uUGFydEJlZ2luID0gZnVuY3Rpb24gKCkge1xuXHRcdHBhcnNlci5vblBhcnREYXRhID0gb25QYXJ0RGF0YTtcblx0XHRwYXJzZXIub25QYXJ0RW5kID0gYXBwZW5kRW50cnlUb0Zvcm1EYXRhO1xuXG5cdFx0aGVhZGVyRmllbGQgPSAnJztcblx0XHRoZWFkZXJWYWx1ZSA9ICcnO1xuXHRcdGVudHJ5VmFsdWUgPSAnJztcblx0XHRlbnRyeU5hbWUgPSAnJztcblx0XHRjb250ZW50VHlwZSA9ICcnO1xuXHRcdGZpbGVuYW1lID0gbnVsbDtcblx0XHRlbnRyeUNodW5rcy5sZW5ndGggPSAwO1xuXHR9O1xuXG5cdHBhcnNlci5vbkhlYWRlckZpZWxkID0gZnVuY3Rpb24gKHVpOGEpIHtcblx0XHRoZWFkZXJGaWVsZCArPSBkZWNvZGVyLmRlY29kZSh1aThhLCB7c3RyZWFtOiB0cnVlfSk7XG5cdH07XG5cblx0cGFyc2VyLm9uSGVhZGVyVmFsdWUgPSBmdW5jdGlvbiAodWk4YSkge1xuXHRcdGhlYWRlclZhbHVlICs9IGRlY29kZXIuZGVjb2RlKHVpOGEsIHtzdHJlYW06IHRydWV9KTtcblx0fTtcblxuXHRwYXJzZXIub25IZWFkZXJFbmQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aGVhZGVyVmFsdWUgKz0gZGVjb2Rlci5kZWNvZGUoKTtcblx0XHRoZWFkZXJGaWVsZCA9IGhlYWRlckZpZWxkLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoaGVhZGVyRmllbGQgPT09ICdjb250ZW50LWRpc3Bvc2l0aW9uJykge1xuXHRcdFx0Ly8gbWF0Y2hlcyBlaXRoZXIgYSBxdW90ZWQtc3RyaW5nIG9yIGEgdG9rZW4gKFJGQyAyNjE2IHNlY3Rpb24gMTkuNS4xKVxuXHRcdFx0Y29uc3QgbSA9IGhlYWRlclZhbHVlLm1hdGNoKC9cXGJuYW1lPShcIihbXlwiXSopXCJ8KFteKCk8PkAsOzpcXFxcXCIvW1xcXT89e31cXHNcXHRdKykpL2kpO1xuXG5cdFx0XHRpZiAobSkge1xuXHRcdFx0XHRlbnRyeU5hbWUgPSBtWzJdIHx8IG1bM10gfHwgJyc7XG5cdFx0XHR9XG5cblx0XHRcdGZpbGVuYW1lID0gX2ZpbGVOYW1lKGhlYWRlclZhbHVlKTtcblxuXHRcdFx0aWYgKGZpbGVuYW1lKSB7XG5cdFx0XHRcdHBhcnNlci5vblBhcnREYXRhID0gYXBwZW5kVG9GaWxlO1xuXHRcdFx0XHRwYXJzZXIub25QYXJ0RW5kID0gYXBwZW5kRmlsZVRvRm9ybURhdGE7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChoZWFkZXJGaWVsZCA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcblx0XHRcdGNvbnRlbnRUeXBlID0gaGVhZGVyVmFsdWU7XG5cdFx0fVxuXG5cdFx0aGVhZGVyVmFsdWUgPSAnJztcblx0XHRoZWFkZXJGaWVsZCA9ICcnO1xuXHR9O1xuXG5cdGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgQm9keSkge1xuXHRcdHBhcnNlci53cml0ZShjaHVuayk7XG5cdH1cblxuXHRwYXJzZXIuZW5kKCk7XG5cblx0cmV0dXJuIGZvcm1EYXRhO1xufVxuIl0sIm5hbWVzIjpbIkZpbGUiLCJGb3JtRGF0YSIsInMiLCJTIiwiU1RBUlRfQk9VTkRBUlkiLCJIRUFERVJfRklFTERfU1RBUlQiLCJIRUFERVJfRklFTEQiLCJIRUFERVJfVkFMVUVfU1RBUlQiLCJIRUFERVJfVkFMVUUiLCJIRUFERVJfVkFMVUVfQUxNT1NUX0RPTkUiLCJIRUFERVJTX0FMTU9TVF9ET05FIiwiUEFSVF9EQVRBX1NUQVJUIiwiUEFSVF9EQVRBIiwiRU5EIiwiZiIsIkYiLCJQQVJUX0JPVU5EQVJZIiwiTEFTVF9CT1VOREFSWSIsIkxGIiwiQ1IiLCJTUEFDRSIsIkhZUEhFTiIsIkNPTE9OIiwiQSIsIloiLCJsb3dlciIsImMiLCJub29wIiwiTXVsdGlwYXJ0UGFyc2VyIiwiY29uc3RydWN0b3IiLCJib3VuZGFyeSIsImluZGV4IiwiZmxhZ3MiLCJvbkhlYWRlckVuZCIsIm9uSGVhZGVyRmllbGQiLCJvbkhlYWRlcnNFbmQiLCJvbkhlYWRlclZhbHVlIiwib25QYXJ0QmVnaW4iLCJvblBhcnREYXRhIiwib25QYXJ0RW5kIiwiYm91bmRhcnlDaGFycyIsInVpOGEiLCJVaW50OEFycmF5IiwibGVuZ3RoIiwiaSIsImNoYXJDb2RlQXQiLCJsb29rYmVoaW5kIiwic3RhdGUiLCJ3cml0ZSIsImRhdGEiLCJsZW5ndGhfIiwicHJldmlvdXNJbmRleCIsImJvdW5kYXJ5TGVuZ3RoIiwiYm91bmRhcnlFbmQiLCJidWZmZXJMZW5ndGgiLCJjbCIsIm1hcmsiLCJuYW1lIiwiY2xlYXIiLCJjYWxsYmFjayIsImNhbGxiYWNrU3ltYm9sIiwic3RhcnQiLCJlbmQiLCJ1bmRlZmluZWQiLCJzdWJhcnJheSIsImRhdGFDYWxsYmFjayIsIm1hcmtTeW1ib2wiLCJfbG9va2JlaGluZCIsImJ1ZmZlciIsImJ5dGVPZmZzZXQiLCJieXRlTGVuZ3RoIiwiRXJyb3IiLCJfZmlsZU5hbWUiLCJoZWFkZXJWYWx1ZSIsIm0iLCJtYXRjaCIsImZpbGVuYW1lIiwic2xpY2UiLCJsYXN0SW5kZXhPZiIsInJlcGxhY2UiLCJjb2RlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidG9Gb3JtRGF0YSIsIkJvZHkiLCJjdCIsInRlc3QiLCJUeXBlRXJyb3IiLCJwYXJzZXIiLCJoZWFkZXJGaWVsZCIsImVudHJ5VmFsdWUiLCJlbnRyeU5hbWUiLCJjb250ZW50VHlwZSIsImVudHJ5Q2h1bmtzIiwiZm9ybURhdGEiLCJkZWNvZGVyIiwiZGVjb2RlIiwic3RyZWFtIiwiYXBwZW5kVG9GaWxlIiwicHVzaCIsImFwcGVuZEZpbGVUb0Zvcm1EYXRhIiwiZmlsZSIsInR5cGUiLCJhcHBlbmQiLCJhcHBlbmRFbnRyeVRvRm9ybURhdGEiLCJUZXh0RGVjb2RlciIsInRvTG93ZXJDYXNlIiwiY2h1bmsiXSwic291cmNlUm9vdCI6IiJ9